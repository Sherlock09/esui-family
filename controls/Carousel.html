<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>Carousel - ESUI Demo</title>
    <link rel="stylesheet" href="../assets/themes/standard.css" />
    <link rel="stylesheet" href="../assets/3rd-party/prism.css" />
    <script src="../assets/loader/esl.js"></script>
    <script src="../assets/loader/config.js"></script>
    <script src="../assets/build/ui.js"></script>
    <script src="../assets/3rd-party/jquery-1.11.1.min.js"></script>
    <script src="../assets/3rd-party/prism.js"></script>
    <script src="../assets/demo.js"></script>
    <!--[if lt IE 9]>
    <script src="http://xy3.baidu.com/js/html5.js"></script>
    <![endif]-->
</head>
<body>
<header id="header">
    <div class="ui-navbar ui-navbar-mordern">
        <h1 id="branding" class="ui-navbar-content">
            <a class="ui-navbar-content-link" href="../index.html">ESUI Family</a>
        </h1>
        <ul class="ui-navbar-nav ui-navbar-pull-right" id="global-nav">
            <script>
            mainNav('../');
            </script>
        </ul>
    </div>
</header>
<div class="ui-g main-container">
    <div id="side-bar" class="ui-u-1-5">
        <ul id="navigator" class="ui-sidebar">
        </ul>
    </div>
    <div id="content" class="ui-u-4-5">
        <h2>Carousel</h2>
        <p>轮播图</p>
        <hr />
        <div id="main">
            <h3>图标位置</h3>
            <p>可以设置展开图标的位置。</p>
            <div class="example">
                <div data-ui="type:Carousel;id:car;" style="margin-bottom:30px;width: 820px"></div>
            </div>

            <h3>动态创建轮播图</h3>
            <div class="example">
                <div id="container">
                </div>
            </div>
        </div>
    </div>
</div>
<footer class="footer">
    <script>
        footer();
    </script>
</footer>
<script>
var item = {
    //模板id
    "id": 1,
    //模板缩略图
    "url": "http://pic1.5442.com/2013/0808/07/01.jpg"
};
var datasource = [];
for (var i = 1; i < 21; i++) {
    newItem = $.extend(true, {}, item);
    newItem.id = i;
    datasource.push(newItem);
}
var model = {
    "datasource": datasource,
    'disabled': false,
    'itemWidth': 150,
    'itemHeight': 93,
    'pageSize': 5
};
require(
    [
        'esui',
        'ub-ria-ui/Carousel'
    ],
    function (ui, Carousel) {
        window.ui = ui;
        var controls = ui.init();
        var car1 = ui.get('car');
        car1.setProperties({
            'datasource': datasource,
            'value': 5
        });
        var car2 = new Carousel(model);
        car2.on('change', function (e) {
            console.log(e.target.value, e.target.selectedItem, e.target.selectedIndex); 
        });
        car2.appendTo(document.getElementById('container'));
    }
);
</script>
</body>
</html>
