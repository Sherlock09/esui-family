define("underscore/underscore",["require","exports","module"],function(require,exports,module){(function(){var e=this,t=e._,i={},n=Array.prototype,r=Object.prototype,a=Function.prototype,s=n.push,o=n.slice,l=n.concat,d=r.toString,u=r.hasOwnProperty,c=n.forEach,h=n.map,f=n.reduce,p=n.reduceRight,m=n.filter,g=n.every,v=n.some,y=n.indexOf,_=n.lastIndexOf,x=Array.isArray,b=Object.keys,w=a.bind,M=function(e){if(e instanceof M)return e;if(!(this instanceof M))return new M(e);else return void(this._wrapped=e)};if("undefined"!=typeof exports){if("undefined"!=typeof module&&module.exports)exports=module.exports=M;exports._=M}else e._=M;M.VERSION="1.5.2";var C=M.each=M.forEach=function(e,t,n){if(null!=e)if(c&&e.forEach===c)e.forEach(t,n);else if(e.length===+e.length){for(var r=0,a=e.length;a>r;r++)if(t.call(n,e[r],r,e)===i)return}else for(var s=M.keys(e),r=0,a=s.length;a>r;r++)if(t.call(n,e[s[r]],s[r],e)===i)return};M.map=M.collect=function(e,t,i){var n=[];if(null==e)return n;if(h&&e.map===h)return e.map(t,i);else return C(e,function(e,r,a){n.push(t.call(i,e,r,a))}),n};var L="Reduce of empty array with no initial value";M.reduce=M.foldl=M.inject=function(e,t,i,n){var r=arguments.length>2;if(null==e)e=[];if(f&&e.reduce===f){if(n)t=M.bind(t,n);return r?e.reduce(t,i):e.reduce(t)}if(C(e,function(e,a,s){if(!r)i=e,r=!0;else i=t.call(n,i,e,a,s)}),!r)throw new TypeError(L);return i},M.reduceRight=M.foldr=function(e,t,i,n){var r=arguments.length>2;if(null==e)e=[];if(p&&e.reduceRight===p){if(n)t=M.bind(t,n);return r?e.reduceRight(t,i):e.reduceRight(t)}var a=e.length;if(a!==+a){var s=M.keys(e);a=s.length}if(C(e,function(o,l,d){if(l=s?s[--a]:--a,!r)i=e[l],r=!0;else i=t.call(n,i,e[l],l,d)}),!r)throw new TypeError(L);return i},M.find=M.detect=function(e,t,i){var n;return T(e,function(e,r,a){if(t.call(i,e,r,a))return n=e,!0;else return void 0}),n},M.filter=M.select=function(e,t,i){var n=[];if(null==e)return n;if(m&&e.filter===m)return e.filter(t,i);else return C(e,function(e,r,a){if(t.call(i,e,r,a))n.push(e)}),n},M.reject=function(e,t,i){return M.filter(e,function(e,n,r){return!t.call(i,e,n,r)},i)},M.every=M.all=function(e,t,n){t||(t=M.identity);var r=!0;if(null==e)return r;if(g&&e.every===g)return e.every(t,n);else return C(e,function(e,a,s){if(!(r=r&&t.call(n,e,a,s)))return i;else return void 0}),!!r};var T=M.some=M.any=function(e,t,n){t||(t=M.identity);var r=!1;if(null==e)return r;if(v&&e.some===v)return e.some(t,n);else return C(e,function(e,a,s){if(r||(r=t.call(n,e,a,s)))return i;else return void 0}),!!r};M.contains=M.include=function(e,t){if(null==e)return!1;if(y&&e.indexOf===y)return-1!=e.indexOf(t);else return T(e,function(e){return e===t})},M.invoke=function(e,t){var i=o.call(arguments,2),n=M.isFunction(t);return M.map(e,function(e){return(n?t:e[t]).apply(e,i)})},M.pluck=function(e,t){return M.map(e,function(e){return e[t]})},M.where=function(e,t,i){if(M.isEmpty(t))return i?void 0:[];else return M[i?"find":"filter"](e,function(e){for(var i in t)if(t[i]!==e[i])return!1;return!0})},M.findWhere=function(e,t){return M.where(e,t,!0)},M.max=function(e,t,i){if(!t&&M.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&M.isEmpty(e))return-1/0;var n={computed:-1/0,value:-1/0};return C(e,function(e,r,a){var s=t?t.call(i,e,r,a):e;s>n.computed&&(n={value:e,computed:s})}),n.value},M.min=function(e,t,i){if(!t&&M.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&M.isEmpty(e))return 1/0;var n={computed:1/0,value:1/0};return C(e,function(e,r,a){var s=t?t.call(i,e,r,a):e;s<n.computed&&(n={value:e,computed:s})}),n.value},M.shuffle=function(e){var t,i=0,n=[];return C(e,function(e){t=M.random(i++),n[i-1]=n[t],n[t]=e}),n},M.sample=function(e,t,i){if(arguments.length<2||i)return e[M.random(e.length-1)];else return M.shuffle(e).slice(0,Math.max(0,t))};var k=function(e){return M.isFunction(e)?e:function(t){return t[e]}};M.sortBy=function(e,t,i){var n=k(t);return M.pluck(M.map(e,function(e,t,r){return{value:e,index:t,criteria:n.call(i,e,t,r)}}).sort(function(e,t){var i=e.criteria,n=t.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(n>i||void 0===n)return-1}return e.index-t.index}),"value")};var D=function(e){return function(t,i,n){var r={},a=null==i?M.identity:k(i);return C(t,function(i,s){var o=a.call(n,i,s,t);e(r,o,i)}),r}};M.groupBy=D(function(e,t,i){(M.has(e,t)?e[t]:e[t]=[]).push(i)}),M.indexBy=D(function(e,t,i){e[t]=i}),M.countBy=D(function(e,t){M.has(e,t)?e[t]++:e[t]=1}),M.sortedIndex=function(e,t,i,n){i=null==i?M.identity:k(i);for(var r=i.call(n,t),a=0,s=e.length;s>a;){var o=a+s>>>1;i.call(n,e[o])<r?a=o+1:s=o}return a},M.toArray=function(e){if(!e)return[];if(M.isArray(e))return o.call(e);if(e.length===+e.length)return M.map(e,M.identity);else return M.values(e)},M.size=function(e){if(null==e)return 0;else return e.length===+e.length?e.length:M.keys(e).length},M.first=M.head=M.take=function(e,t,i){if(null==e)return void 0;else return null==t||i?e[0]:o.call(e,0,t)},M.initial=function(e,t,i){return o.call(e,0,e.length-(null==t||i?1:t))},M.last=function(e,t,i){if(null==e)return void 0;if(null==t||i)return e[e.length-1];else return o.call(e,Math.max(e.length-t,0))},M.rest=M.tail=M.drop=function(e,t,i){return o.call(e,null==t||i?1:t)},M.compact=function(e){return M.filter(e,M.identity)};var Y=function(e,t,i){if(t&&M.every(e,M.isArray))return l.apply(i,e);else return C(e,function(e){if(M.isArray(e)||M.isArguments(e))t?s.apply(i,e):Y(e,t,i);else i.push(e)}),i};M.flatten=function(e,t){return Y(e,t,[])},M.without=function(e){return M.difference(e,o.call(arguments,1))},M.uniq=M.unique=function(e,t,i,n){if(M.isFunction(t))n=i,i=t,t=!1;var r=i?M.map(e,i,n):e,a=[],s=[];return C(r,function(i,n){if(t?!n||s[s.length-1]!==i:!M.contains(s,i))s.push(i),a.push(e[n])}),a},M.union=function(){return M.uniq(M.flatten(arguments,!0))},M.intersection=function(e){var t=o.call(arguments,1);return M.filter(M.uniq(e),function(e){return M.every(t,function(t){return M.indexOf(t,e)>=0})})},M.difference=function(e){var t=l.apply(n,o.call(arguments,1));return M.filter(e,function(e){return!M.contains(t,e)})},M.zip=function(){for(var e=M.max(M.pluck(arguments,"length").concat(0)),t=new Array(e),i=0;e>i;i++)t[i]=M.pluck(arguments,""+i);return t},M.object=function(e,t){if(null==e)return{};for(var i={},n=0,r=e.length;r>n;n++)if(t)i[e[n]]=t[n];else i[e[n][0]]=e[n][1];return i},M.indexOf=function(e,t,i){if(null==e)return-1;var n=0,r=e.length;if(i)if("number"==typeof i)n=0>i?Math.max(0,r+i):i;else return n=M.sortedIndex(e,t),e[n]===t?n:-1;if(y&&e.indexOf===y)return e.indexOf(t,i);for(;r>n;n++)if(e[n]===t)return n;return-1},M.lastIndexOf=function(e,t,i){if(null==e)return-1;var n=null!=i;if(_&&e.lastIndexOf===_)return n?e.lastIndexOf(t,i):e.lastIndexOf(t);for(var r=n?i:e.length;r--;)if(e[r]===t)return r;return-1},M.range=function(e,t,i){if(arguments.length<=1)t=e||0,e=0;i=arguments[2]||1;for(var n=Math.max(Math.ceil((t-e)/i),0),r=0,a=new Array(n);n>r;)a[r++]=e,e+=i;return a};var S=function(){};M.bind=function(e,t){var i,n;if(w&&e.bind===w)return w.apply(e,o.call(arguments,1));if(!M.isFunction(e))throw new TypeError;return i=o.call(arguments,2),n=function(){if(!(this instanceof n))return e.apply(t,i.concat(o.call(arguments)));S.prototype=e.prototype;var r=new S;S.prototype=null;var a=e.apply(r,i.concat(o.call(arguments)));if(Object(a)===a)return a;else return r}},M.partial=function(e){var t=o.call(arguments,1);return function(){return e.apply(this,t.concat(o.call(arguments)))}},M.bindAll=function(e){var t=o.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return C(t,function(t){e[t]=M.bind(e[t],e)}),e},M.memoize=function(e,t){var i={};return t||(t=M.identity),function(){var n=t.apply(this,arguments);return M.has(i,n)?i[n]:i[n]=e.apply(this,arguments)}},M.delay=function(e,t){var i=o.call(arguments,2);return setTimeout(function(){return e.apply(null,i)},t)},M.defer=function(e){return M.delay.apply(M,[e,1].concat(o.call(arguments,1)))},M.throttle=function(e,t,i){var n,r,a,s=null,o=0;i||(i={});var l=function(){o=i.leading===!1?0:new Date,s=null,a=e.apply(n,r)};return function(){var d=new Date;if(!o&&i.leading===!1)o=d;var u=t-(d-o);if(n=this,r=arguments,0>=u)clearTimeout(s),s=null,o=d,a=e.apply(n,r);else if(!s&&i.trailing!==!1)s=setTimeout(l,u);return a}},M.debounce=function(e,t,i){var n,r,a,s,o;return function(){a=this,r=arguments,s=new Date;var l=function(){var d=new Date-s;if(t>d)n=setTimeout(l,t-d);else if(n=null,!i)o=e.apply(a,r)},d=i&&!n;if(!n)n=setTimeout(l,t);if(d)o=e.apply(a,r);return o}},M.once=function(e){var t,i=!1;return function(){if(i)return t;else return i=!0,t=e.apply(this,arguments),e=null,t}},M.wrap=function(e,t){return function(){var i=[e];return s.apply(i,arguments),t.apply(this,i)}},M.compose=function(){var e=arguments;return function(){for(var t=arguments,i=e.length-1;i>=0;i--)t=[e[i].apply(this,t)];return t[0]}},M.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments);else return void 0}},M.keys=b||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var i in e)if(M.has(e,i))t.push(i);return t},M.values=function(e){for(var t=M.keys(e),i=t.length,n=new Array(i),r=0;i>r;r++)n[r]=e[t[r]];return n},M.pairs=function(e){for(var t=M.keys(e),i=t.length,n=new Array(i),r=0;i>r;r++)n[r]=[t[r],e[t[r]]];return n},M.invert=function(e){for(var t={},i=M.keys(e),n=0,r=i.length;r>n;n++)t[e[i[n]]]=i[n];return t},M.functions=M.methods=function(e){var t=[];for(var i in e)if(M.isFunction(e[i]))t.push(i);return t.sort()},M.extend=function(e){return C(o.call(arguments,1),function(t){if(t)for(var i in t)e[i]=t[i]}),e},M.pick=function(e){var t={},i=l.apply(n,o.call(arguments,1));return C(i,function(i){if(i in e)t[i]=e[i]}),t},M.omit=function(e){var t={},i=l.apply(n,o.call(arguments,1));for(var r in e)if(!M.contains(i,r))t[r]=e[r];return t},M.defaults=function(e){return C(o.call(arguments,1),function(t){if(t)for(var i in t)if(void 0===e[i])e[i]=t[i]}),e},M.clone=function(e){if(!M.isObject(e))return e;else return M.isArray(e)?e.slice():M.extend({},e)},M.tap=function(e,t){return t(e),e};var P=function(e,t,i,n){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;if(e instanceof M)e=e._wrapped;if(t instanceof M)t=t._wrapped;var r=d.call(e);if(r!=d.call(t))return!1;switch(r){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var a=i.length;a--;)if(i[a]==e)return n[a]==t;var s=e.constructor,o=t.constructor;if(s!==o&&!(M.isFunction(s)&&s instanceof s&&M.isFunction(o)&&o instanceof o))return!1;i.push(e),n.push(t);var l=0,u=!0;if("[object Array]"==r){if(l=e.length,u=l==t.length)for(;l--&&(u=P(e[l],t[l],i,n)););}else{for(var c in e)if(M.has(e,c))if(l++,!(u=M.has(t,c)&&P(e[c],t[c],i,n)))break;if(u){for(c in t)if(M.has(t,c)&&!l--)break;u=!l}}return i.pop(),n.pop(),u};if(M.isEqual=function(e,t){return P(e,t,[],[])},M.isEmpty=function(e){if(null==e)return!0;if(M.isArray(e)||M.isString(e))return 0===e.length;for(var t in e)if(M.has(e,t))return!1;return!0},M.isElement=function(e){return!(!e||1!==e.nodeType)},M.isArray=x||function(e){return"[object Array]"==d.call(e)},M.isObject=function(e){return e===Object(e)},C(["Arguments","Function","String","Number","Date","RegExp"],function(e){M["is"+e]=function(t){return d.call(t)=="[object "+e+"]"}}),!M.isArguments(arguments))M.isArguments=function(e){return!(!e||!M.has(e,"callee"))};if("function"!=typeof/./)M.isFunction=function(e){return"function"==typeof e};M.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},M.isNaN=function(e){return M.isNumber(e)&&e!=+e},M.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==d.call(e)},M.isNull=function(e){return null===e},M.isUndefined=function(e){return void 0===e},M.has=function(e,t){return u.call(e,t)},M.noConflict=function(){return e._=t,this},M.identity=function(e){return e},M.times=function(e,t,i){for(var n=Array(Math.max(0,e)),r=0;e>r;r++)n[r]=t.call(i,r);return n},M.random=function(e,t){if(null==t)t=e,e=0;return e+Math.floor(Math.random()*(t-e+1))};var I={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};I.unescape=M.invert(I.escape);var E={escape:new RegExp("["+M.keys(I.escape).join("")+"]","g"),unescape:new RegExp("("+M.keys(I.unescape).join("|")+")","g")};M.each(["escape","unescape"],function(e){M[e]=function(t){if(null==t)return"";else return(""+t).replace(E[e],function(t){return I[e][t]})}}),M.result=function(e,t){if(null==e)return void 0;var i=e[t];return M.isFunction(i)?i.call(e):i},M.mixin=function(e){C(M.functions(e),function(t){var i=M[t]=e[t];M.prototype[t]=function(){var e=[this._wrapped];return s.apply(e,arguments),$.call(this,i.apply(M,e))}})};var N=0;M.uniqueId=function(e){var t=++N+"";return e?e+t:t},M.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var j=/(.)^/,H={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},O=/\\|'|\r|\n|\t|\u2028|\u2029/g;M.template=function(e,t,i){var n;i=M.defaults({},i,M.templateSettings);var r=new RegExp([(i.escape||j).source,(i.interpolate||j).source,(i.evaluate||j).source].join("|")+"|$","g"),a=0,s="__p+='";if(e.replace(r,function(t,i,n,r,o){if(s+=e.slice(a,o).replace(O,function(e){return"\\"+H[e]}),i)s+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'";if(n)s+="'+\n((__t=("+n+"))==null?'':__t)+\n'";if(r)s+="';\n"+r+"\n__p+='";return a=o+t.length,t}),s+="';\n",!i.variable)s="with(obj||{}){\n"+s+"}\n";s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{n=new Function(i.variable||"obj","_",s)}catch(o){throw o.source=s,o}if(t)return n(t,M);var l=function(e){return n.call(this,e,M)};return l.source="function("+(i.variable||"obj")+"){\n"+s+"}",l},M.chain=function(e){return M(e).chain()};var $=function(e){return this._chain?M(e).chain():e};M.mixin(M),C(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=n[e];M.prototype[e]=function(){var i=this._wrapped;if(t.apply(i,arguments),("shift"==e||"splice"==e)&&0===i.length)delete i[0];return $.call(this,i)}}),C(["concat","join","slice"],function(e){var t=n[e];M.prototype[e]=function(){return $.call(this,t.apply(this._wrapped,arguments))}}),M.extend(M.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)}),define("underscore",["underscore/underscore"],function(e){return e}),function(e,t){function i(e){var t=e.length,i=lt.type(e);if(lt.isWindow(e))return!1;if(1===e.nodeType&&t)return!0;else return"array"===i||"function"!==i&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}function n(e){var t=Mt[e]={};return lt.each(e.match(ut)||[],function(e,i){t[i]=!0}),t}function r(e,i,n,r){if(lt.acceptData(e)){var a,s,o=lt.expando,l="string"==typeof i,d=e.nodeType,u=d?lt.cache:e,c=d?e[o]:e[o]&&o;if(c&&u[c]&&(r||u[c].data)||!l||n!==t){if(!c)if(d)e[o]=c=Q.pop()||lt.guid++;else c=o;if(!u[c])if(u[c]={},!d)u[c].toJSON=lt.noop;if("object"==typeof i||"function"==typeof i)if(r)u[c]=lt.extend(u[c],i);else u[c].data=lt.extend(u[c].data,i);if(a=u[c],!r){if(!a.data)a.data={};a=a.data}if(n!==t)a[lt.camelCase(i)]=n;if(l){if(s=a[i],null==s)s=a[lt.camelCase(i)]}else s=a;return s}}}function a(e,t,i){if(lt.acceptData(e)){var n,r,a,s=e.nodeType,l=s?lt.cache:e,d=s?e[lt.expando]:lt.expando;if(l[d]){if(t)if(a=i?l[d]:l[d].data){if(!lt.isArray(t))if(t in a)t=[t];else if(t=lt.camelCase(t),t in a)t=[t];else t=t.split(" ");else t=t.concat(lt.map(t,lt.camelCase));for(n=0,r=t.length;r>n;n++)delete a[t[n]];if(!(i?o:lt.isEmptyObject)(a))return}if(!i)if(delete l[d].data,!o(l[d]))return;if(s)lt.cleanData([e],!0);else if(lt.support.deleteExpando||l!=l.window)delete l[d];else l[d]=null}}}function s(e,i,n){if(n===t&&1===e.nodeType){var r="data-"+i.replace(Lt,"-$1").toLowerCase();if(n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Ct.test(n)?lt.parseJSON(n):n}catch(a){}lt.data(e,i,n)}else n=t}return n}function o(e){var t;for(t in e)if("data"!==t||!lt.isEmptyObject(e[t])){if("toJSON"!==t)return!1}else;return!0}function l(){return!0}function d(){return!1}function u(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function c(e,t,i){if(t=t||0,lt.isFunction(t))return lt.grep(e,function(e,n){var r=!!t.call(e,n,e);return r===i});else if(t.nodeType)return lt.grep(e,function(e){return e===t===i});else if("string"==typeof t){var n=lt.grep(e,function(e){return 1===e.nodeType});if(qt.test(t))return lt.filter(t,n,!i);else t=lt.filter(t,n)}return lt.grep(e,function(e){return lt.inArray(e,t)>=0===i})}function h(e){var t=zt.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}function f(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function p(e){var t=e.getAttributeNode("type");return e.type=(t&&t.specified)+"/"+e.type,e}function m(e){var t=ri.exec(e.type);if(t)e.type=t[1];else e.removeAttribute("type");return e}function g(e,t){for(var i,n=0;null!=(i=e[n]);n++)lt._data(i,"globalEval",!t||lt._data(t[n],"globalEval"))}function v(e,t){if(1===t.nodeType&&lt.hasData(e)){var i,n,r,a=lt._data(e),s=lt._data(t,a),o=a.events;if(o){delete s.handle,s.events={};for(i in o)for(n=0,r=o[i].length;r>n;n++)lt.event.add(t,i,o[i][n])}if(s.data)s.data=lt.extend({},s.data)}}function y(e,t){var i,n,r;if(1===t.nodeType){if(i=t.nodeName.toLowerCase(),!lt.support.noCloneEvent&&t[lt.expando]){r=lt._data(t);for(n in r.events)lt.removeEvent(t,n,r.handle);t.removeAttribute(lt.expando)}if("script"===i&&t.text!==e.text)p(t).text=e.text,m(t);else if("object"===i){if(t.parentNode)t.outerHTML=e.outerHTML;if(lt.support.html5Clone&&e.innerHTML&&!lt.trim(t.innerHTML))t.innerHTML=e.innerHTML}else if("input"===i&&ti.test(e.type)){if(t.defaultChecked=t.checked=e.checked,t.value!==e.value)t.value=e.value}else if("option"===i)t.defaultSelected=t.selected=e.defaultSelected;else if("input"===i||"textarea"===i)t.defaultValue=e.defaultValue}}function _(e,i){var n,r,a=0,s=typeof e.getElementsByTagName!==G?e.getElementsByTagName(i||"*"):typeof e.querySelectorAll!==G?e.querySelectorAll(i||"*"):t;if(!s)for(s=[],n=e.childNodes||e;null!=(r=n[a]);a++)if(!i||lt.nodeName(r,i))s.push(r);else lt.merge(s,_(r,i));return i===t||i&&lt.nodeName(e,i)?lt.merge([e],s):s}function x(e){if(ti.test(e.type))e.defaultChecked=e.checked}function b(e,t){if(t in e)return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),n=t,r=Ci.length;r--;)if(t=Ci[r]+i,t in e)return t;return n}function w(e,t){return e=t||e,"none"===lt.css(e,"display")||!lt.contains(e.ownerDocument,e)}function M(e,t){for(var i,n,r,a=[],s=0,o=e.length;o>s;s++)if(n=e[s],n.style){if(a[s]=lt._data(n,"olddisplay"),i=n.style.display,t){if(!a[s]&&"none"===i)n.style.display="";if(""===n.style.display&&w(n))a[s]=lt._data(n,"olddisplay",k(n.nodeName))}else if(!a[s])if(r=w(n),i&&"none"!==i||!r)lt._data(n,"olddisplay",r?i:lt.css(n,"display"))}else;for(s=0;o>s;s++)if(n=e[s],n.style){if(!t||"none"===n.style.display||""===n.style.display)n.style.display=t?a[s]||"":"none"}else;return e}function C(e,t,i){var n=vi.exec(t);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function L(e,t,i,n,r){for(var a=i===(n?"border":"content")?4:"width"===t?1:0,s=0;4>a;a+=2){if("margin"===i)s+=lt.css(e,i+Mi[a],!0,r);if(n){if("content"===i)s-=lt.css(e,"padding"+Mi[a],!0,r);if("margin"!==i)s-=lt.css(e,"border"+Mi[a]+"Width",!0,r)}else if(s+=lt.css(e,"padding"+Mi[a],!0,r),"padding"!==i)s+=lt.css(e,"border"+Mi[a]+"Width",!0,r)}return s}function T(e,t,i){var n=!0,r="width"===t?e.offsetWidth:e.offsetHeight,a=ui(e),s=lt.support.boxSizing&&"border-box"===lt.css(e,"boxSizing",!1,a);if(0>=r||null==r){if(r=ci(e,t,a),0>r||null==r)r=e.style[t];if(yi.test(r))return r;n=s&&(lt.support.boxSizingReliable||r===e.style[t]),r=parseFloat(r)||0}return r+L(e,t,i||(s?"border":"content"),n,a)+"px"}function k(e){var t=U,i=xi[e];if(!i){if(i=D(e,t),"none"===i||!i)di=(di||lt("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(di[0].contentWindow||di[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),i=D(e,t),di.detach();xi[e]=i}return i}function D(e,t){var i=lt(t.createElement(e)).appendTo(t.body),n=lt.css(i[0],"display");return i.remove(),n}function Y(e,t,i,n){var r;if(lt.isArray(t))lt.each(t,function(t,r){if(i||Ti.test(e))n(e,r);else Y(e+"["+("object"==typeof r?t:"")+"]",r,i,n)});else if(!i&&"object"===lt.type(t))for(r in t)Y(e+"["+r+"]",t[r],i,n);else n(e,t)}function S(e){return function(t,i){if("string"!=typeof t)i=t,t="*";var n,r=0,a=t.toLowerCase().match(ut)||[];if(lt.isFunction(i))for(;n=a[r++];)if("+"===n[0])n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i);else(e[n]=e[n]||[]).push(i)}}function P(e,t,i,n){function r(o){var l;return a[o]=!0,lt.each(e[o]||[],function(e,o){var d=o(t,i,n);if("string"==typeof d&&!s&&!a[d])return t.dataTypes.unshift(d),r(d),!1;else if(s)return!(l=d)}),l}var a={},s=e===qi;return r(t.dataTypes[0])||!a["*"]&&r("*")}function I(e,i){var n,r,a=lt.ajaxSettings.flatOptions||{};for(r in i)if(i[r]!==t)(a[r]?e:n||(n={}))[r]=i[r];if(n)lt.extend(!0,e,n);return e}function E(e,i,n){var r,a,s,o,l=e.contents,d=e.dataTypes,u=e.responseFields;for(o in u)if(o in n)i[u[o]]=n[o];for(;"*"===d[0];)if(d.shift(),a===t)a=e.mimeType||i.getResponseHeader("Content-Type");if(a)for(o in l)if(l[o]&&l[o].test(a)){d.unshift(o);break}if(d[0]in n)s=d[0];else{for(o in n){if(!d[0]||e.converters[o+" "+d[0]]){s=o;break}if(!r)r=o}s=s||r}if(s){if(s!==d[0])d.unshift(s);return n[s]}}function N(e,t){var i,n,r,a,s={},o=0,l=e.dataTypes.slice(),d=l[0];if(e.dataFilter)t=e.dataFilter(t,e.dataType);if(l[1])for(r in e.converters)s[r.toLowerCase()]=e.converters[r];for(;n=l[++o];)if("*"!==n){if("*"!==d&&d!==n){if(r=s[d+" "+n]||s["* "+n],!r)for(i in s)if(a=i.split(" "),a[1]===n)if(r=s[d+" "+a[0]]||s["* "+a[0]]){if(r===!0)r=s[i];else if(s[i]!==!0)n=a[0],l.splice(o--,0,n);break}if(r!==!0)if(r&&e["throws"])t=r(t);else try{t=r(t)}catch(u){return{state:"parsererror",error:r?u:"No conversion from "+d+" to "+n}}}d=n}return{state:"success",data:t}}function j(){try{return new e.XMLHttpRequest}catch(t){}}function H(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function O(){return setTimeout(function(){Zi=t}),Zi=lt.now()}function $(e,t){lt.each(t,function(t,i){for(var n=(an[t]||[]).concat(an["*"]),r=0,a=n.length;a>r;r++)if(n[r].call(e,t,i))return})}function A(e,t,i){var n,r,a=0,s=rn.length,o=lt.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=Zi||O(),i=Math.max(0,d.startTime+d.duration-t),n=i/d.duration||0,a=1-n,s=0,l=d.tweens.length;l>s;s++)d.tweens[s].run(a);if(o.notifyWith(e,[d,a,i]),1>a&&l)return i;else return o.resolveWith(e,[d]),!1},d=o.promise({elem:e,props:lt.extend({},t),opts:lt.extend(!0,{specialEasing:{}},i),originalProperties:t,originalOptions:i,startTime:Zi||O(),duration:i.duration,tweens:[],createTween:function(t,i){var n=lt.Tween(e,d.opts,t,i,d.opts.specialEasing[t]||d.opts.easing);return d.tweens.push(n),n},stop:function(t){var i=0,n=t?d.tweens.length:0;if(r)return this;for(r=!0;n>i;i++)d.tweens[i].run(1);if(t)o.resolveWith(e,[d,t]);else o.rejectWith(e,[d,t]);return this}}),u=d.props;for(V(u,d.opts.specialEasing);s>a;a++)if(n=rn[a].call(d,e,u,d.opts))return n;if($(d,u),lt.isFunction(d.opts.start))d.opts.start.call(e,d);return lt.fx.timer(lt.extend(l,{elem:e,anim:d,queue:d.opts.queue})),d.progress(d.opts.progress).done(d.opts.done,d.opts.complete).fail(d.opts.fail).always(d.opts.always)}function V(e,t){var i,n,r,a,s;for(r in e){if(n=lt.camelCase(r),a=t[n],i=e[r],lt.isArray(i))a=i[1],i=e[r]=i[0];if(r!==n)e[n]=i,delete e[r];if(s=lt.cssHooks[n],s&&"expand"in s){i=s.expand(i),delete e[n];for(r in i)if(!(r in e))e[r]=i[r],t[r]=a}else t[n]=a}}function R(e,t,i){var n,r,a,s,o,l,d,u,c,h=this,f=e.style,p={},m=[],g=e.nodeType&&w(e);if(!i.queue){if(u=lt._queueHooks(e,"fx"),null==u.unqueued)u.unqueued=0,c=u.empty.fire,u.empty.fire=function(){if(!u.unqueued)c()};u.unqueued++,h.always(function(){h.always(function(){if(u.unqueued--,!lt.queue(e,"fx").length)u.empty.fire()})})}if(1===e.nodeType&&("height"in t||"width"in t))if(i.overflow=[f.overflow,f.overflowX,f.overflowY],"inline"===lt.css(e,"display")&&"none"===lt.css(e,"float"))if(!lt.support.inlineBlockNeedsLayout||"inline"===k(e.nodeName))f.display="inline-block";else f.zoom=1;if(i.overflow)if(f.overflow="hidden",!lt.support.shrinkWrapBlocks)h.always(function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]});for(r in t)if(s=t[r],en.exec(s)){if(delete t[r],l=l||"toggle"===s,s===(g?"hide":"show"))continue;m.push(r)}if(a=m.length){if(o=lt._data(e,"fxshow")||lt._data(e,"fxshow",{}),"hidden"in o)g=o.hidden;if(l)o.hidden=!g;if(g)lt(e).show();else h.done(function(){lt(e).hide()});for(h.done(function(){var t;lt._removeData(e,"fxshow");for(t in p)lt.style(e,t,p[t])}),r=0;a>r;r++)if(n=m[r],d=h.createTween(n,g?o[n]:0),p[n]=o[n]||lt.style(e,n),!(n in o))if(o[n]=d.start,g)d.end=d.start,d.start="width"===n||"height"===n?1:0}}function F(e,t,i,n,r){return new F.prototype.init(e,t,i,n,r)}function q(e,t){var i,n={height:e},r=0;for(t=t?1:0;4>r;r+=2-t)i=Mi[r],n["margin"+i]=n["padding"+i]=e;if(t)n.opacity=n.width=e;return n}function W(e){return lt.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var B,z,G=typeof t,U=e.document,X=e.location,J=e.jQuery,K=e.$,Z={},Q=[],et="1.9.1",tt=Q.concat,it=Q.push,nt=Q.slice,rt=Q.indexOf,at=Z.toString,st=Z.hasOwnProperty,ot=et.trim,lt=function(e,t){return new lt.fn.init(e,t,z)},dt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ut=/\S+/g,ct=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ht=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,ft=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,pt=/^[\],:{}\s]*$/,mt=/(?:^|:|,)(?:\s*\[)+/g,gt=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,vt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,yt=/^-ms-/,_t=/-([\da-z])/gi,xt=function(e,t){return t.toUpperCase()},bt=function(e){if(U.addEventListener||"load"===e.type||"complete"===U.readyState)wt(),lt.ready()},wt=function(){if(U.addEventListener)U.removeEventListener("DOMContentLoaded",bt,!1),e.removeEventListener("load",bt,!1);else U.detachEvent("onreadystatechange",bt),e.detachEvent("onload",bt)};lt.fn=lt.prototype={jquery:et,constructor:lt,init:function(e,i,n){var r,a;if(!e)return this;if("string"==typeof e){if("<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3)r=[null,e,null];else r=ht.exec(e);if(r&&(r[1]||!i))if(r[1]){if(i=i instanceof lt?i[0]:i,lt.merge(this,lt.parseHTML(r[1],i&&i.nodeType?i.ownerDocument||i:U,!0)),ft.test(r[1])&&lt.isPlainObject(i))for(r in i)if(lt.isFunction(this[r]))this[r](i[r]);else this.attr(r,i[r]);return this}else{if(a=U.getElementById(r[2]),a&&a.parentNode){if(a.id!==r[2])return n.find(e);this.length=1,this[0]=a}return this.context=U,this.selector=e,this}else if(!i||i.jquery)return(i||n).find(e);else return this.constructor(i).find(e)}else if(e.nodeType)return this.context=this[0]=e,this.length=1,this;else if(lt.isFunction(e))return n.ready(e);if(e.selector!==t)this.selector=e.selector,this.context=e.context;return lt.makeArray(e,this)},selector:"",length:0,size:function(){return this.length},toArray:function(){return nt.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=lt.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return lt.each(this,e,t)},ready:function(e){return lt.ready.promise().done(e),this},slice:function(){return this.pushStack(nt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(0>e?t:0);return this.pushStack(i>=0&&t>i?[this[i]]:[])},map:function(e){return this.pushStack(lt.map(this,function(t,i){return e.call(t,i,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:it,sort:[].sort,splice:[].splice},lt.fn.init.prototype=lt.fn,lt.extend=lt.fn.extend=function(){var e,i,n,r,a,s,o=arguments[0]||{},l=1,d=arguments.length,u=!1;if("boolean"==typeof o)u=o,o=arguments[1]||{},l=2;if("object"!=typeof o&&!lt.isFunction(o))o={};if(d===l)o=this,--l;for(;d>l;l++)if(null!=(a=arguments[l]))for(r in a)if(e=o[r],n=a[r],o!==n){if(u&&n&&(lt.isPlainObject(n)||(i=lt.isArray(n)))){if(i)i=!1,s=e&&lt.isArray(e)?e:[];else s=e&&lt.isPlainObject(e)?e:{};o[r]=lt.extend(u,s,n)}else if(n!==t)o[r]=n}else;return o},lt.extend({noConflict:function(t){if(e.$===lt)e.$=K;if(t&&e.jQuery===lt)e.jQuery=J;return lt},isReady:!1,readyWait:1,holdReady:function(e){if(e)lt.readyWait++;else lt.ready(!0)},ready:function(e){if(e===!0?!--lt.readyWait:!lt.isReady){if(!U.body)return setTimeout(lt.ready);if(lt.isReady=!0,!(e!==!0&&--lt.readyWait>0))if(B.resolveWith(U,[lt]),lt.fn.trigger)lt(U).trigger("ready").off("ready")}},isFunction:function(e){return"function"===lt.type(e)},isArray:Array.isArray||function(e){return"array"===lt.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){if(null==e)return String(e);else return"object"==typeof e||"function"==typeof e?Z[at.call(e)]||"object":typeof e},isPlainObject:function(e){if(!e||"object"!==lt.type(e)||e.nodeType||lt.isWindow(e))return!1;try{if(e.constructor&&!st.call(e,"constructor")&&!st.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}var n;for(n in e);return n===t||st.call(e,n)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,i){if(!e||"string"!=typeof e)return null;if("boolean"==typeof t)i=t,t=!1;t=t||U;var n=ft.exec(e),r=!i&&[];if(n)return[t.createElement(n[1])];if(n=lt.buildFragment([e],t,r),r)lt(r).remove();return lt.merge([],n.childNodes)},parseJSON:function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t);if(null===t)return t;if("string"==typeof t)if(t=lt.trim(t))if(pt.test(t.replace(gt,"@").replace(vt,"]").replace(mt,"")))return new Function("return "+t)();lt.error("Invalid JSON: "+t)},parseXML:function(i){var n,r;if(!i||"string"!=typeof i)return null;try{if(e.DOMParser)r=new DOMParser,n=r.parseFromString(i,"text/xml");else n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(i)}catch(a){n=t}if(!n||!n.documentElement||n.getElementsByTagName("parsererror").length)lt.error("Invalid XML: "+i);return n},noop:function(){},globalEval:function(t){if(t&&lt.trim(t))(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(yt,"ms-").replace(_t,xt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,a=0,s=e.length,o=i(e);if(n){if(o)for(;s>a&&(r=t.apply(e[a],n),r!==!1);a++);else for(a in e)if(r=t.apply(e[a],n),r===!1)break}else if(o)for(;s>a&&(r=t.call(e[a],a,e[a]),r!==!1);a++);else for(a in e)if(r=t.call(e[a],a,e[a]),r===!1)break;return e},trim:ot&&!ot.call("﻿ ")?function(e){return null==e?"":ot.call(e)}:function(e){return null==e?"":(e+"").replace(ct,"")},makeArray:function(e,t){var n=t||[];if(null!=e)if(i(Object(e)))lt.merge(n,"string"==typeof e?[e]:e);else it.call(n,e);return n},inArray:function(e,t,i){var n;if(t){if(rt)return rt.call(t,e,i);for(n=t.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,i){var n=i.length,r=e.length,a=0;if("number"==typeof n)for(;n>a;a++)e[r++]=i[a];else for(;i[a]!==t;)e[r++]=i[a++];return e.length=r,e},grep:function(e,t,i){var n,r=[],a=0,s=e.length;for(i=!!i;s>a;a++)if(n=!!t(e[a],a),i!==n)r.push(e[a]);return r},map:function(e,t,n){var r,a=0,s=e.length,o=i(e),l=[];if(o){for(;s>a;a++)if(r=t(e[a],a,n),null!=r)l[l.length]=r
}else for(a in e)if(r=t(e[a],a,n),null!=r)l[l.length]=r;return tt.apply([],l)},guid:1,proxy:function(e,i){var n,r,a;if("string"==typeof i)a=e[i],i=e,e=a;if(!lt.isFunction(e))return t;else return n=nt.call(arguments,2),r=function(){return e.apply(i||this,n.concat(nt.call(arguments)))},r.guid=e.guid=e.guid||lt.guid++,r},access:function(e,i,n,r,a,s,o){var l=0,d=e.length,u=null==n;if("object"===lt.type(n)){a=!0;for(l in n)lt.access(e,i,l,n[l],!0,s,o)}else if(r!==t){if(a=!0,!lt.isFunction(r))o=!0;if(u)if(o)i.call(e,r),i=null;else u=i,i=function(e,t,i){return u.call(lt(e),i)};if(i)for(;d>l;l++)i(e[l],n,o?r:r.call(e[l],l,i(e[l],n)))}return a?e:u?i.call(e):d?i(e[0],n):s},now:function(){return(new Date).getTime()}}),lt.ready.promise=function(t){if(!B)if(B=lt.Deferred(),"complete"===U.readyState)setTimeout(lt.ready);else if(U.addEventListener)U.addEventListener("DOMContentLoaded",bt,!1),e.addEventListener("load",bt,!1);else{U.attachEvent("onreadystatechange",bt),e.attachEvent("onload",bt);var i=!1;try{i=null==e.frameElement&&U.documentElement}catch(n){}if(i&&i.doScroll)!function r(){if(!lt.isReady){try{i.doScroll("left")}catch(e){return setTimeout(r,50)}wt(),lt.ready()}}()}return B.promise(t)},lt.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()}),z=lt(U);var Mt={};lt.Callbacks=function(e){e="string"==typeof e?Mt[e]||n(e):lt.extend({},e);var i,r,a,s,o,l,d=[],u=!e.once&&[],c=function(t){for(r=e.memory&&t,a=!0,o=l||0,l=0,s=d.length,i=!0;d&&s>o;o++)if(d[o].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}if(i=!1,d)if(u){if(u.length)c(u.shift())}else if(r)d=[];else h.disable()},h={add:function(){if(d){var t=d.length;if(function n(t){lt.each(t,function(t,i){var r=lt.type(i);if("function"===r){if(!e.unique||!h.has(i))d.push(i)}else if(i&&i.length&&"string"!==r)n(i)})}(arguments),i)s=d.length;else if(r)l=t,c(r)}return this},remove:function(){if(d)lt.each(arguments,function(e,t){for(var n;(n=lt.inArray(t,d,n))>-1;)if(d.splice(n,1),i){if(s>=n)s--;if(o>=n)o--}});return this},has:function(e){return e?lt.inArray(e,d)>-1:!(!d||!d.length)},empty:function(){return d=[],this},disable:function(){return d=u=r=t,this},disabled:function(){return!d},lock:function(){if(u=t,!r)h.disable();return this},locked:function(){return!u},fireWith:function(e,t){if(t=t||[],t=[e,t.slice?t.slice():t],d&&(!a||u))if(i)u.push(t);else c(t);return this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!a}};return h},lt.extend({Deferred:function(e){var t=[["resolve","done",lt.Callbacks("once memory"),"resolved"],["reject","fail",lt.Callbacks("once memory"),"rejected"],["notify","progress",lt.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return lt.Deferred(function(i){lt.each(t,function(t,a){var s=a[0],o=lt.isFunction(e[t])&&e[t];r[a[1]](function(){var e=o&&o.apply(this,arguments);if(e&&lt.isFunction(e.promise))e.promise().done(i.resolve).fail(i.reject).progress(i.notify);else i[s+"With"](this===n?i.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?lt.extend(e,n):n}},r={};if(n.pipe=n.then,lt.each(t,function(e,a){var s=a[2],o=a[3];if(n[a[1]]=s.add,o)s.add(function(){i=o},t[1^e][2].disable,t[2][2].lock);r[a[0]]=function(){return r[a[0]+"With"](this===r?n:this,arguments),this},r[a[0]+"With"]=s.fireWith}),n.promise(r),e)e.call(r,r);return r},when:function(e){var t,i,n,r=0,a=nt.call(arguments),s=a.length,o=1!==s||e&&lt.isFunction(e.promise)?s:0,l=1===o?e:lt.Deferred(),d=function(e,i,n){return function(r){if(i[e]=this,n[e]=arguments.length>1?nt.call(arguments):r,n===t)l.notifyWith(i,n);else if(!--o)l.resolveWith(i,n)}};if(s>1)for(t=new Array(s),i=new Array(s),n=new Array(s);s>r;r++)if(a[r]&&lt.isFunction(a[r].promise))a[r].promise().done(d(r,n,a)).fail(l.reject).progress(d(r,i,t));else--o;if(!o)l.resolveWith(n,a);return l.promise()}}),lt.support=function(){var t,i,n,r,a,s,o,l,d,u,c=U.createElement("div");if(c.setAttribute("className","t"),c.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=c.getElementsByTagName("*"),n=c.getElementsByTagName("a")[0],!i||!n||!i.length)return{};a=U.createElement("select"),o=a.appendChild(U.createElement("option")),r=c.getElementsByTagName("input")[0],n.style.cssText="top:1px;float:left;opacity:.5",t={getSetAttribute:"t"!==c.className,leadingWhitespace:3===c.firstChild.nodeType,tbody:!c.getElementsByTagName("tbody").length,htmlSerialize:!!c.getElementsByTagName("link").length,style:/top/.test(n.getAttribute("style")),hrefNormalized:"/a"===n.getAttribute("href"),opacity:/^0.5/.test(n.style.opacity),cssFloat:!!n.style.cssFloat,checkOn:!!r.value,optSelected:o.selected,enctype:!!U.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==U.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===U.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},r.checked=!0,t.noCloneChecked=r.cloneNode(!0).checked,a.disabled=!0,t.optDisabled=!o.disabled;try{delete c.test}catch(h){t.deleteExpando=!1}if(r=U.createElement("input"),r.setAttribute("value",""),t.input=""===r.getAttribute("value"),r.value="t",r.setAttribute("type","radio"),t.radioValue="t"===r.value,r.setAttribute("checked","t"),r.setAttribute("name","t"),s=U.createDocumentFragment(),s.appendChild(r),t.appendChecked=r.checked,t.checkClone=s.cloneNode(!0).cloneNode(!0).lastChild.checked,c.attachEvent)c.attachEvent("onclick",function(){t.noCloneEvent=!1}),c.cloneNode(!0).click();for(u in{submit:!0,change:!0,focusin:!0})c.setAttribute(l="on"+u,"t"),t[u+"Bubbles"]=l in e||c.attributes[l].expando===!1;return c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===c.style.backgroundClip,lt(function(){var i,n,r,a="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",s=U.getElementsByTagName("body")[0];if(s){if(i=U.createElement("div"),i.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",s.appendChild(i).appendChild(c),c.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=c.getElementsByTagName("td"),r[0].style.cssText="padding:0;margin:0;border:0;display:none",d=0===r[0].offsetHeight,r[0].style.display="",r[1].style.display="none",t.reliableHiddenOffsets=d&&0===r[0].offsetHeight,c.innerHTML="",c.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===c.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==s.offsetTop,e.getComputedStyle)t.pixelPosition="1%"!==(e.getComputedStyle(c,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(c,null)||{width:"4px"}).width,n=c.appendChild(U.createElement("div")),n.style.cssText=c.style.cssText=a,n.style.marginRight=n.style.width="0",c.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(n,null)||{}).marginRight);if(typeof c.style.zoom!==G)if(c.innerHTML="",c.style.cssText=a+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===c.offsetWidth,c.style.display="block",c.innerHTML="<div></div>",c.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==c.offsetWidth,t.inlineBlockNeedsLayout)s.style.zoom=1;s.removeChild(i),i=c=r=n=null}}),i=a=s=o=n=r=null,t}();var Ct=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Lt=/([A-Z])/g;lt.extend({cache:{},expando:"jQuery"+(et+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?lt.cache[e[lt.expando]]:e[lt.expando],!!e&&!o(e)},data:function(e,t,i){return r(e,t,i)},removeData:function(e,t){return a(e,t)},_data:function(e,t,i){return r(e,t,i,!0)},_removeData:function(e,t){return a(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&lt.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),lt.fn.extend({data:function(e,i){var n,r,a=this[0],o=0,l=null;if(e===t){if(this.length)if(l=lt.data(a),1===a.nodeType&&!lt._data(a,"parsedAttrs")){for(n=a.attributes;o<n.length;o++)if(r=n[o].name,!r.indexOf("data-"))r=lt.camelCase(r.slice(5)),s(a,r,l[r]);lt._data(a,"parsedAttrs",!0)}return l}if("object"==typeof e)return this.each(function(){lt.data(this,e)});else return lt.access(this,function(i){if(i===t)return a?s(a,e,lt.data(a,e)):null;else return void this.each(function(){lt.data(this,e,i)})},null,i,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){lt.removeData(this,e)})}}),lt.extend({queue:function(e,t,i){var n;if(e){if(t=(t||"fx")+"queue",n=lt._data(e,t),i)if(!n||lt.isArray(i))n=lt._data(e,t,lt.makeArray(i));else n.push(i);return n||[]}},dequeue:function(e,t){t=t||"fx";var i=lt.queue(e,t),n=i.length,r=i.shift(),a=lt._queueHooks(e,t),s=function(){lt.dequeue(e,t)};if("inprogress"===r)r=i.shift(),n--;if(a.cur=r,r){if("fx"===t)i.unshift("inprogress");delete a.stop,r.call(e,s,a)}if(!n&&a)a.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return lt._data(e,i)||lt._data(e,i,{empty:lt.Callbacks("once memory").add(function(){lt._removeData(e,t+"queue"),lt._removeData(e,i)})})}}),lt.fn.extend({queue:function(e,i){var n=2;if("string"!=typeof e)i=e,e="fx",n--;if(arguments.length<n)return lt.queue(this[0],e);else return i===t?this:this.each(function(){var t=lt.queue(this,e,i);if(lt._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0])lt.dequeue(this,e)})},dequeue:function(e){return this.each(function(){lt.dequeue(this,e)})},delay:function(e,t){return e=lt.fx?lt.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var n=setTimeout(t,e);i.stop=function(){clearTimeout(n)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,i){var n,r=1,a=lt.Deferred(),s=this,o=this.length,l=function(){if(!--r)a.resolveWith(s,[s])};if("string"!=typeof e)i=e,e=t;for(e=e||"fx";o--;)if(n=lt._data(s[o],e+"queueHooks"),n&&n.empty)r++,n.empty.add(l);return l(),a.promise(i)}});var Tt,kt,Dt=/[\t\r\n]/g,Yt=/\r/g,St=/^(?:input|select|textarea|button|object)$/i,Pt=/^(?:a|area)$/i,It=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,Et=/^(?:checked|selected)$/i,Nt=lt.support.getSetAttribute,jt=lt.support.input;if(lt.fn.extend({attr:function(e,t){return lt.access(this,lt.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){lt.removeAttr(this,e)})},prop:function(e,t){return lt.access(this,lt.prop,e,t,arguments.length>1)},removeProp:function(e){return e=lt.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(i){}})},addClass:function(e){var t,i,n,r,a,s=0,o=this.length,l="string"==typeof e&&e;if(lt.isFunction(e))return this.each(function(t){lt(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ut)||[];o>s;s++)if(i=this[s],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Dt," "):" ")){for(a=0;r=t[a++];)if(n.indexOf(" "+r+" ")<0)n+=r+" ";i.className=lt.trim(n)}return this},removeClass:function(e){var t,i,n,r,a,s=0,o=this.length,l=0===arguments.length||"string"==typeof e&&e;if(lt.isFunction(e))return this.each(function(t){lt(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ut)||[];o>s;s++)if(i=this[s],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Dt," "):"")){for(a=0;r=t[a++];)for(;n.indexOf(" "+r+" ")>=0;)n=n.replace(" "+r+" "," ");i.className=e?lt.trim(n):""}return this},toggleClass:function(e,t){var i=typeof e,n="boolean"==typeof t;if(lt.isFunction(e))return this.each(function(i){lt(this).toggleClass(e.call(this,i,this.className,t),t)});else return this.each(function(){if("string"===i)for(var r,a=0,s=lt(this),o=t,l=e.match(ut)||[];r=l[a++];)o=n?o:!s.hasClass(r),s[o?"addClass":"removeClass"](r);else if(i===G||"boolean"===i){if(this.className)lt._data(this,"__className__",this.className);this.className=this.className||e===!1?"":lt._data(this,"__className__")||""}})},hasClass:function(e){for(var t=" "+e+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(Dt," ").indexOf(t)>=0)return!0;return!1},val:function(e){var i,n,r,a=this[0];if(arguments.length)return r=lt.isFunction(e),this.each(function(i){var a,s=lt(this);if(1===this.nodeType){if(r)a=e.call(this,i,s.val());else a=e;if(null==a)a="";else if("number"==typeof a)a+="";else if(lt.isArray(a))a=lt.map(a,function(e){return null==e?"":e+""});if(n=lt.valHooks[this.type]||lt.valHooks[this.nodeName.toLowerCase()],!(n&&"set"in n&&n.set(this,a,"value")!==t))this.value=a}});else if(a)if(n=lt.valHooks[a.type]||lt.valHooks[a.nodeName.toLowerCase()],n&&"get"in n&&(i=n.get(a,"value"))!==t)return i;else return i=a.value,"string"==typeof i?i.replace(Yt,""):null==i?"":i}}),lt.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,i,n=e.options,r=e.selectedIndex,a="select-one"===e.type||0>r,s=a?null:[],o=a?r+1:n.length,l=0>r?o:a?r:0;o>l;l++)if(i=n[l],!(!i.selected&&l!==r||(lt.support.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&lt.nodeName(i.parentNode,"optgroup"))){if(t=lt(i).val(),a)return t;s.push(t)}return s},set:function(e,t){var i=lt.makeArray(t);if(lt(e).find("option").each(function(){this.selected=lt.inArray(lt(this).val(),i)>=0}),!i.length)e.selectedIndex=-1;return i}}},attr:function(e,i,n){var r,a,s,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o){if(typeof e.getAttribute===G)return lt.prop(e,i,n);if(a=1!==o||!lt.isXMLDoc(e))i=i.toLowerCase(),r=lt.attrHooks[i]||(It.test(i)?kt:Tt);if(n!==t)if(null===n)lt.removeAttr(e,i);else if(r&&a&&"set"in r&&(s=r.set(e,n,i))!==t)return s;else return e.setAttribute(i,n+""),n;else if(r&&a&&"get"in r&&null!==(s=r.get(e,i)))return s;else{if(typeof e.getAttribute!==G)s=e.getAttribute(i);return null==s?t:s}}},removeAttr:function(e,t){var i,n,r=0,a=t&&t.match(ut);if(a&&1===e.nodeType)for(;i=a[r++];){if(n=lt.propFix[i]||i,It.test(i))if(!Nt&&Et.test(i))e[lt.camelCase("default-"+i)]=e[n]=!1;else e[n]=!1;else lt.attr(e,i,"");e.removeAttribute(Nt?i:n)}},attrHooks:{type:{set:function(e,t){if(!lt.support.radioValue&&"radio"===t&&lt.nodeName(e,"input")){var i=e.value;if(e.setAttribute("type",t),i)e.value=i;return t}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,i,n){var r,a,s,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o){if(s=1!==o||!lt.isXMLDoc(e))i=lt.propFix[i]||i,a=lt.propHooks[i];if(n!==t)if(a&&"set"in a&&(r=a.set(e,n,i))!==t)return r;else return e[i]=n;else if(a&&"get"in a&&null!==(r=a.get(e,i)))return r;else return e[i]}},propHooks:{tabIndex:{get:function(e){var i=e.getAttributeNode("tabindex");return i&&i.specified?parseInt(i.value,10):St.test(e.nodeName)||Pt.test(e.nodeName)&&e.href?0:t}}}}),kt={get:function(e,i){var n=lt.prop(e,i),r="boolean"==typeof n&&e.getAttribute(i),a="boolean"==typeof n?jt&&Nt?null!=r:Et.test(i)?e[lt.camelCase("default-"+i)]:!!r:e.getAttributeNode(i);return a&&a.value!==!1?i.toLowerCase():t},set:function(e,t,i){if(t===!1)lt.removeAttr(e,i);else if(jt&&Nt||!Et.test(i))e.setAttribute(!Nt&&lt.propFix[i]||i,i);else e[lt.camelCase("default-"+i)]=e[i]=!0;return i}},!jt||!Nt)lt.attrHooks.value={get:function(e,i){var n=e.getAttributeNode(i);return lt.nodeName(e,"input")?e.defaultValue:n&&n.specified?n.value:t},set:function(e,t,i){if(lt.nodeName(e,"input"))e.defaultValue=t;else return Tt&&Tt.set(e,t,i)}};if(!Nt)Tt=lt.valHooks.button={get:function(e,i){var n=e.getAttributeNode(i);return n&&("id"===i||"name"===i||"coords"===i?""!==n.value:n.specified)?n.value:t},set:function(e,i,n){var r=e.getAttributeNode(n);if(!r)e.setAttributeNode(r=e.ownerDocument.createAttribute(n));return r.value=i+="","value"===n||i===e.getAttribute(n)?i:t}},lt.attrHooks.contenteditable={get:Tt.get,set:function(e,t,i){Tt.set(e,""===t?!1:t,i)}},lt.each(["width","height"],function(e,t){lt.attrHooks[t]=lt.extend(lt.attrHooks[t],{set:function(e,i){if(""===i)return e.setAttribute(t,"auto"),i;else return void 0}})});if(!lt.support.hrefNormalized)lt.each(["href","src","width","height"],function(e,i){lt.attrHooks[i]=lt.extend(lt.attrHooks[i],{get:function(e){var n=e.getAttribute(i,2);return null==n?t:n}})}),lt.each(["href","src"],function(e,t){lt.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}});if(!lt.support.style)lt.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}};if(!lt.support.optSelected)lt.propHooks.selected=lt.extend(lt.propHooks.selected,{get:function(e){var t=e.parentNode;if(t)if(t.selectedIndex,t.parentNode)t.parentNode.selectedIndex;return null}});if(!lt.support.enctype)lt.propFix.enctype="encoding";if(!lt.support.checkOn)lt.each(["radio","checkbox"],function(){lt.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}});lt.each(["radio","checkbox"],function(){lt.valHooks[this]=lt.extend(lt.valHooks[this],{set:function(e,t){if(lt.isArray(t))return e.checked=lt.inArray(lt(e).val(),t)>=0;else return void 0}})});var Ht=/^(?:input|select|textarea)$/i,Ot=/^key/,$t=/^(?:mouse|contextmenu)|click/,At=/^(?:focusinfocus|focusoutblur)$/,Vt=/^([^.]*)(?:\.(.+)|)$/;if(lt.event={global:{},add:function(e,i,n,r,a){var s,o,l,d,u,c,h,f,p,m,g,v=lt._data(e);if(v){if(n.handler)d=n,n=d.handler,a=d.selector;if(!n.guid)n.guid=lt.guid++;if(!(o=v.events))o=v.events={};if(!(c=v.handle))c=v.handle=function(e){return typeof lt!==G&&(!e||lt.event.triggered!==e.type)?lt.event.dispatch.apply(c.elem,arguments):t},c.elem=e;for(i=(i||"").match(ut)||[""],l=i.length;l--;){if(s=Vt.exec(i[l])||[],p=g=s[1],m=(s[2]||"").split(".").sort(),u=lt.event.special[p]||{},p=(a?u.delegateType:u.bindType)||p,u=lt.event.special[p]||{},h=lt.extend({type:p,origType:g,data:r,handler:n,guid:n.guid,selector:a,needsContext:a&&lt.expr.match.needsContext.test(a),namespace:m.join(".")},d),!(f=o[p]))if(f=o[p]=[],f.delegateCount=0,!u.setup||u.setup.call(e,r,m,c)===!1)if(e.addEventListener)e.addEventListener(p,c,!1);else if(e.attachEvent)e.attachEvent("on"+p,c);if(u.add)if(u.add.call(e,h),!h.handler.guid)h.handler.guid=n.guid;if(a)f.splice(f.delegateCount++,0,h);else f.push(h);lt.event.global[p]=!0}e=null}},remove:function(e,t,i,n,r){var a,s,o,l,d,u,c,h,f,p,m,g=lt.hasData(e)&&lt._data(e);if(g&&(u=g.events)){for(t=(t||"").match(ut)||[""],d=t.length;d--;)if(o=Vt.exec(t[d])||[],f=m=o[1],p=(o[2]||"").split(".").sort(),f){for(c=lt.event.special[f]||{},f=(n?c.delegateType:c.bindType)||f,h=u[f]||[],o=o[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=a=h.length;a--;)if(s=h[a],!(!r&&m!==s.origType||i&&i.guid!==s.guid||o&&!o.test(s.namespace)||n&&n!==s.selector&&("**"!==n||!s.selector))){if(h.splice(a,1),s.selector)h.delegateCount--;if(c.remove)c.remove.call(e,s)}if(l&&!h.length){if(!c.teardown||c.teardown.call(e,p,g.handle)===!1)lt.removeEvent(e,f,g.handle);delete u[f]}}else for(f in u)lt.event.remove(e,f+t[d],i,n,!0);if(lt.isEmptyObject(u))delete g.handle,lt._removeData(e,"events")}},trigger:function(i,n,r,a){var s,o,l,d,u,c,h,f=[r||U],p=st.call(i,"type")?i.type:i,m=st.call(i,"namespace")?i.namespace.split("."):[];if(l=c=r=r||U,3!==r.nodeType&&8!==r.nodeType)if(!At.test(p+lt.event.triggered)){if(p.indexOf(".")>=0)m=p.split("."),p=m.shift(),m.sort();if(o=p.indexOf(":")<0&&"on"+p,i=i[lt.expando]?i:new lt.Event(p,"object"==typeof i&&i),i.isTrigger=!0,i.namespace=m.join("."),i.namespace_re=i.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,i.result=t,!i.target)i.target=r;if(n=null==n?[i]:lt.makeArray(n,[i]),u=lt.event.special[p]||{},a||!u.trigger||u.trigger.apply(r,n)!==!1){if(!a&&!u.noBubble&&!lt.isWindow(r)){if(d=u.delegateType||p,!At.test(d+p))l=l.parentNode;for(;l;l=l.parentNode)f.push(l),c=l;if(c===(r.ownerDocument||U))f.push(c.defaultView||c.parentWindow||e)}for(h=0;(l=f[h++])&&!i.isPropagationStopped();){if(i.type=h>1?d:u.bindType||p,s=(lt._data(l,"events")||{})[i.type]&&lt._data(l,"handle"))s.apply(l,n);if(s=o&&l[o],s&&lt.acceptData(l)&&s.apply&&s.apply(l,n)===!1)i.preventDefault()}if(i.type=p,!a&&!i.isDefaultPrevented())if(!(u._default&&u._default.apply(r.ownerDocument,n)!==!1||"click"===p&&lt.nodeName(r,"a")||!lt.acceptData(r)))if(o&&r[p]&&!lt.isWindow(r)){if(c=r[o])r[o]=null;lt.event.triggered=p;try{r[p]()}catch(g){}if(lt.event.triggered=t,c)r[o]=c}return i.result}}},dispatch:function(e){e=lt.event.fix(e);var i,n,r,a,s,o=[],l=nt.call(arguments),d=(lt._data(this,"events")||{})[e.type]||[],u=lt.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(o=lt.event.handlers.call(this,e,d),i=0;(a=o[i++])&&!e.isPropagationStopped();)for(e.currentTarget=a.elem,s=0;(r=a.handlers[s++])&&!e.isImmediatePropagationStopped();)if(!e.namespace_re||e.namespace_re.test(r.namespace))if(e.handleObj=r,e.data=r.data,n=((lt.event.special[r.origType]||{}).handle||r.handler).apply(a.elem,l),n!==t)if((e.result=n)===!1)e.preventDefault(),e.stopPropagation();if(u.postDispatch)u.postDispatch.call(this,e);return e.result}},handlers:function(e,i){var n,r,a,s,o=[],l=i.delegateCount,d=e.target;if(l&&d.nodeType&&(!e.button||"click"!==e.type))for(;d!=this;d=d.parentNode||this)if(1===d.nodeType&&(d.disabled!==!0||"click"!==e.type)){for(a=[],s=0;l>s;s++){if(r=i[s],n=r.selector+" ",a[n]===t)a[n]=r.needsContext?lt(n,this).index(d)>=0:lt.find(n,this,null,[d]).length;if(a[n])a.push(r)}if(a.length)o.push({elem:d,handlers:a})}if(l<i.length)o.push({elem:this,handlers:i.slice(l)});return o},fix:function(e){if(e[lt.expando])return e;var t,i,n,r=e.type,a=e,s=this.fixHooks[r];if(!s)this.fixHooks[r]=s=$t.test(r)?this.mouseHooks:Ot.test(r)?this.keyHooks:{};for(n=s.props?this.props.concat(s.props):this.props,e=new lt.Event(a),t=n.length;t--;)i=n[t],e[i]=a[i];if(!e.target)e.target=a.srcElement||U;if(3===e.target.nodeType)e.target=e.target.parentNode;return e.metaKey=!!e.metaKey,s.filter?s.filter(e,a):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){if(null==e.which)e.which=null!=t.charCode?t.charCode:t.keyCode;return e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,i){var n,r,a,s=i.button,o=i.fromElement;if(null==e.pageX&&null!=i.clientX)r=e.target.ownerDocument||U,a=r.documentElement,n=r.body,e.pageX=i.clientX+(a&&a.scrollLeft||n&&n.scrollLeft||0)-(a&&a.clientLeft||n&&n.clientLeft||0),e.pageY=i.clientY+(a&&a.scrollTop||n&&n.scrollTop||0)-(a&&a.clientTop||n&&n.clientTop||0);if(!e.relatedTarget&&o)e.relatedTarget=o===e.target?i.toElement:o;if(!e.which&&s!==t)e.which=1&s?1:2&s?3:4&s?2:0;return e}},special:{load:{noBubble:!0},click:{trigger:function(){if(lt.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1;else return void 0}},focus:{trigger:function(){if(this!==U.activeElement&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===U.activeElement&&this.blur)return this.blur(),!1;else return void 0},delegateType:"focusout"},beforeunload:{postDispatch:function(e){if(e.result!==t)e.originalEvent.returnValue=e.result}}},simulate:function(e,t,i,n){var r=lt.extend(new lt.Event,i,{type:e,isSimulated:!0,originalEvent:{}});if(n)lt.event.trigger(r,null,t);else lt.event.dispatch.call(t,r);if(r.isDefaultPrevented())i.preventDefault()}},lt.removeEvent=U.removeEventListener?function(e,t,i){if(e.removeEventListener)e.removeEventListener(t,i,!1)}:function(e,t,i){var n="on"+t;if(e.detachEvent){if(typeof e[n]===G)e[n]=null;e.detachEvent(n,i)}},lt.Event=function(e,t){if(!(this instanceof lt.Event))return new lt.Event(e,t);if(e&&e.type)this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?l:d;else this.type=e;if(t)lt.extend(this,t);this.timeStamp=e&&e.timeStamp||lt.now(),this[lt.expando]=!0},lt.Event.prototype={isDefaultPrevented:d,isPropagationStopped:d,isImmediatePropagationStopped:d,preventDefault:function(){var e=this.originalEvent;if(this.isDefaultPrevented=l,e)if(e.preventDefault)e.preventDefault();else e.returnValue=!1},stopPropagation:function(){var e=this.originalEvent;if(this.isPropagationStopped=l,e){if(e.stopPropagation)e.stopPropagation();e.cancelBubble=!0}},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},lt.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){lt.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,r=e.relatedTarget,a=e.handleObj;if(!r||r!==n&&!lt.contains(n,r))e.type=a.origType,i=a.handler.apply(this,arguments),e.type=t;return i}}}),!lt.support.submitBubbles)lt.event.special.submit={setup:function(){if(lt.nodeName(this,"form"))return!1;else return void lt.event.add(this,"click._submit keypress._submit",function(e){var i=e.target,n=lt.nodeName(i,"input")||lt.nodeName(i,"button")?i.form:t;if(n&&!lt._data(n,"submitBubbles"))lt.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),lt._data(n,"submitBubbles",!0)})},postDispatch:function(e){if(e._submit_bubble)if(delete e._submit_bubble,this.parentNode&&!e.isTrigger)lt.event.simulate("submit",this.parentNode,e,!0)},teardown:function(){if(lt.nodeName(this,"form"))return!1;else return void lt.event.remove(this,"._submit")}};if(!lt.support.changeBubbles)lt.event.special.change={setup:function(){if(Ht.test(this.nodeName)){if("checkbox"===this.type||"radio"===this.type)lt.event.add(this,"propertychange._change",function(e){if("checked"===e.originalEvent.propertyName)this._just_changed=!0}),lt.event.add(this,"click._change",function(e){if(this._just_changed&&!e.isTrigger)this._just_changed=!1;lt.event.simulate("change",this,e,!0)});return!1}lt.event.add(this,"beforeactivate._change",function(e){var t=e.target;if(Ht.test(t.nodeName)&&!lt._data(t,"changeBubbles"))lt.event.add(t,"change._change",function(e){if(this.parentNode&&!e.isSimulated&&!e.isTrigger)lt.event.simulate("change",this.parentNode,e,!0)}),lt._data(t,"changeBubbles",!0)})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments);else return void 0},teardown:function(){return lt.event.remove(this,"._change"),!Ht.test(this.nodeName)}};if(!lt.support.focusinBubbles)lt.each({focus:"focusin",blur:"focusout"},function(e,t){var i=0,n=function(e){lt.event.simulate(t,e.target,lt.event.fix(e),!0)};lt.event.special[t]={setup:function(){if(0===i++)U.addEventListener(e,n,!0)},teardown:function(){if(0===--i)U.removeEventListener(e,n,!0)}}});lt.fn.extend({on:function(e,i,n,r,a){var s,o;if("object"==typeof e){if("string"!=typeof i)n=n||i,i=t;for(s in e)this.on(s,i,n,e[s],a);return this}if(null==n&&null==r)r=i,n=i=t;else if(null==r)if("string"==typeof i)r=n,n=t;else r=n,n=i,i=t;if(r===!1)r=d;else if(!r)return this;if(1===a)o=r,r=function(e){return lt().off(e),o.apply(this,arguments)},r.guid=o.guid||(o.guid=lt.guid++);return this.each(function(){lt.event.add(this,e,r,n,i)})},one:function(e,t,i,n){return this.on(e,t,i,n,1)},off:function(e,i,n){var r,a;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,lt(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(a in e)this.off(a,i,e[a]);return this}if(i===!1||"function"==typeof i)n=i,i=t;if(n===!1)n=d;return this.each(function(){lt.event.remove(this,e,n,i)})},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)},trigger:function(e,t){return this.each(function(){lt.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];if(i)return lt.event.trigger(e,t,i,!0);else return void 0}}),function(e,t){function i(e){return pt.test(e+"")}function n(){var e,t=[];return e=function(i,n){if(t.push(i+=" ")>C.cacheLength)delete e[t.shift()];return e[i]=n}}function r(e){return e[A]=!0,e}function a(e){var t=P.createElement("div");try{return e(t)}catch(i){return!1}finally{t=null}}function s(e,t,i,n){var r,a,s,o,l,d,u,f,p,m;if((t?t.ownerDocument||t:V)!==P)S(t);if(t=t||P,i=i||[],!e||"string"!=typeof e)return i;if(1!==(o=t.nodeType)&&9!==o)return[];if(!E&&!n){if(r=mt.exec(e))if(s=r[1]){if(9===o)if(a=t.getElementById(s),a&&a.parentNode){if(a.id===s)return i.push(a),i}else return i;else if(t.ownerDocument&&(a=t.ownerDocument.getElementById(s))&&O(t,a)&&a.id===s)return i.push(a),i}else if(r[2])return K.apply(i,Z.call(t.getElementsByTagName(e),0)),i;else if((s=r[3])&&R.getByClassName&&t.getElementsByClassName)return K.apply(i,Z.call(t.getElementsByClassName(s),0)),i;if(R.qsa&&!N.test(e)){if(u=!0,f=A,p=t,m=9===o&&e,1===o&&"object"!==t.nodeName.toLowerCase()){if(d=c(e),u=t.getAttribute("id"))f=u.replace(yt,"\\$&");else t.setAttribute("id",f);for(f="[id='"+f+"'] ",l=d.length;l--;)d[l]=f+h(d[l]);p=ft.test(e)&&t.parentNode||t,m=d.join(",")}if(m)try{return K.apply(i,Z.call(p.querySelectorAll(m),0)),i}catch(g){}finally{if(!u)t.removeAttribute("id")}}}return x(e.replace(st,"$1"),t,i,n)}function o(e,t){var i=t&&e,n=i&&(~t.sourceIndex||U)-(~e.sourceIndex||U);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function l(e){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===e}}function d(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function u(e){return r(function(t){return t=+t,r(function(i,n){for(var r,a=e([],i.length,t),s=a.length;s--;)if(i[r=a[s]])i[r]=!(n[r]=i[r])})})}function c(e,t){var i,n,r,a,o,l,d,u=B[e+" "];if(u)return t?0:u.slice(0);for(o=e,l=[],d=C.preFilter;o;){if(!i||(n=ot.exec(o))){if(n)o=o.slice(n[0].length)||o;l.push(r=[])}if(i=!1,n=dt.exec(o))i=n.shift(),r.push({value:i,type:n[0].replace(st," ")}),o=o.slice(i.length);for(a in C.filter)if((n=ht[a].exec(o))&&(!d[a]||(n=d[a](n))))i=n.shift(),r.push({value:i,type:a,matches:n}),o=o.slice(i.length);if(!i)break}return t?o.length:o?s.error(e):B(e,l).slice(0)}function h(e){for(var t=0,i=e.length,n="";i>t;t++)n+=e[t].value;return n}function f(e,t,i){var n=t.dir,r=i&&"parentNode"===n,a=q++;return t.first?function(t,i,a){for(;t=t[n];)if(1===t.nodeType||r)return e(t,i,a)}:function(t,i,s){var o,l,d,u=F+" "+a;if(s){for(;t=t[n];)if(1===t.nodeType||r)if(e(t,i,s))return!0}else for(;t=t[n];)if(1===t.nodeType||r)if(d=t[A]||(t[A]={}),(l=d[n])&&l[0]===u){if((o=l[1])===!0||o===M)return o===!0}else if(l=d[n]=[u],l[1]=e(t,i,s)||M,l[1]===!0)return!0}}function p(e){return e.length>1?function(t,i,n){for(var r=e.length;r--;)if(!e[r](t,i,n))return!1;return!0}:e[0]}function m(e,t,i,n,r){for(var a,s=[],o=0,l=e.length,d=null!=t;l>o;o++)if(a=e[o])if(!i||i(a,n,r))if(s.push(a),d)t.push(o);return s}function g(e,t,i,n,a,s){if(n&&!n[A])n=g(n);if(a&&!a[A])a=g(a,s);return r(function(r,s,o,l){var d,u,c,h=[],f=[],p=s.length,g=r||_(t||"*",o.nodeType?[o]:o,[]),v=e&&(r||!t)?m(g,h,e,o,l):g,y=i?a||(r?e:p||n)?[]:s:v;if(i)i(v,y,o,l);if(n)for(d=m(y,f),n(d,[],o,l),u=d.length;u--;)if(c=d[u])y[f[u]]=!(v[f[u]]=c);if(r){if(a||e){if(a){for(d=[],u=y.length;u--;)if(c=y[u])d.push(v[u]=c);a(null,y=[],d,l)}for(u=y.length;u--;)if((c=y[u])&&(d=a?Q.call(r,c):h[u])>-1)r[d]=!(s[d]=c)
}}else if(y=m(y===s?y.splice(p,y.length):y),a)a(null,s,y,l);else K.apply(s,y)})}function v(e){for(var t,i,n,r=e.length,a=C.relative[e[0].type],s=a||C.relative[" "],o=a?1:0,l=f(function(e){return e===t},s,!0),d=f(function(e){return Q.call(t,e)>-1},s,!0),u=[function(e,i,n){return!a&&(n||i!==Y)||((t=i).nodeType?l(e,i,n):d(e,i,n))}];r>o;o++)if(i=C.relative[e[o].type])u=[f(p(u),i)];else{if(i=C.filter[e[o].type].apply(null,e[o].matches),i[A]){for(n=++o;r>n&&!C.relative[e[n].type];n++);return g(o>1&&p(u),o>1&&h(e.slice(0,o-1)).replace(st,"$1"),i,n>o&&v(e.slice(o,n)),r>n&&v(e=e.slice(n)),r>n&&h(e))}u.push(i)}return p(u)}function y(e,t){var i=0,n=t.length>0,a=e.length>0,o=function(r,o,l,d,u){var c,h,f,p=[],g=0,v="0",y=r&&[],_=null!=u,x=Y,b=r||a&&C.find.TAG("*",u&&o.parentNode||o),w=F+=null==x?1:Math.random()||.1;if(_)Y=o!==P&&o,M=i;for(;null!=(c=b[v]);v++){if(a&&c){for(h=0;f=e[h++];)if(f(c,o,l)){d.push(c);break}if(_)F=w,M=++i}if(n){if(c=!f&&c)g--;if(r)y.push(c)}}if(g+=v,n&&v!==g){for(h=0;f=t[h++];)f(y,p,o,l);if(r){if(g>0)for(;v--;)if(!y[v]&&!p[v])p[v]=J.call(d);p=m(p)}if(K.apply(d,p),_&&!r&&p.length>0&&g+t.length>1)s.uniqueSort(d)}if(_)F=w,Y=x;return y};return n?r(o):o}function _(e,t,i){for(var n=0,r=t.length;r>n;n++)s(e,t[n],i);return i}function x(e,t,i,n){var r,a,s,o,l,d=c(e);if(!n)if(1===d.length){if(a=d[0]=d[0].slice(0),a.length>2&&"ID"===(s=a[0]).type&&9===t.nodeType&&!E&&C.relative[a[1].type]){if(t=C.find.ID(s.matches[0].replace(xt,bt),t)[0],!t)return i;e=e.slice(a.shift().value.length)}for(r=ht.needsContext.test(e)?0:a.length;r--&&(s=a[r],!C.relative[o=s.type]);)if(l=C.find[o])if(n=l(s.matches[0].replace(xt,bt),ft.test(a[0].type)&&t.parentNode||t)){if(a.splice(r,1),e=n.length&&h(a),!e)return K.apply(i,Z.call(n,0)),i;break}}return k(e,d)(n,t,E,i,ft.test(e)),i}function b(){}var w,M,C,L,T,k,D,Y,S,P,I,E,N,j,H,O,$,A="sizzle"+-new Date,V=e.document,R={},F=0,q=0,W=n(),B=n(),z=n(),G=typeof t,U=1<<31,X=[],J=X.pop,K=X.push,Z=X.slice,Q=X.indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(this[t]===e)return t;return-1},et="[\\x20\\t\\r\\n\\f]",tt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",it=tt.replace("w","w#"),nt="([*^$|!~]?=)",rt="\\["+et+"*("+tt+")"+et+"*(?:"+nt+et+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+it+")|)|)"+et+"*\\]",at=":("+tt+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+rt.replace(3,8)+")*)|.*)\\)|)",st=new RegExp("^"+et+"+|((?:^|[^\\\\])(?:\\\\.)*)"+et+"+$","g"),ot=new RegExp("^"+et+"*,"+et+"*"),dt=new RegExp("^"+et+"*([\\x20\\t\\r\\n\\f>+~])"+et+"*"),ut=new RegExp(at),ct=new RegExp("^"+it+"$"),ht={ID:new RegExp("^#("+tt+")"),CLASS:new RegExp("^\\.("+tt+")"),NAME:new RegExp("^\\[name=['\"]?("+tt+")['\"]?\\]"),TAG:new RegExp("^("+tt.replace("w","w*")+")"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+at),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+et+"*(even|odd|(([+-]|)(\\d*)n|)"+et+"*(?:([+-]|)"+et+"*(\\d+)|))"+et+"*\\)|)","i"),needsContext:new RegExp("^"+et+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+et+"*((?:-\\d)?\\d*)"+et+"*\\)|)(?=[^-]|$)","i")},ft=/[\x20\t\r\n\f]*[+~]/,pt=/^[^{]+\{\s*\[native code/,mt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,gt=/^(?:input|select|textarea|button)$/i,vt=/^h\d$/i,yt=/'|\\/g,_t=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,xt=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,bt=function(e,t){var i="0x"+t-65536;return i!==i?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{Z.call(V.documentElement.childNodes,0)[0].nodeType}catch(wt){Z=function(e){for(var t,i=[];t=this[e++];)i.push(t);return i}}T=s.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},S=s.setDocument=function(e){var n=e?e.ownerDocument||e:V;if(n===P||9!==n.nodeType||!n.documentElement)return P;if(P=n,I=n.documentElement,E=T(n),R.tagNameNoComments=a(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),R.attributes=a(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),R.getByClassName=a(function(e){if(e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!e.getElementsByClassName||!e.getElementsByClassName("e").length)return!1;else return e.lastChild.className="e",2===e.getElementsByClassName("e").length}),R.getByName=a(function(e){e.id=A+0,e.innerHTML="<a name='"+A+"'></a><div name='"+A+"'></div>",I.insertBefore(e,I.firstChild);var t=n.getElementsByName&&n.getElementsByName(A).length===2+n.getElementsByName(A+0).length;return R.getIdNotName=!n.getElementById(A),I.removeChild(e),t}),C.attrHandle=a(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==G&&"#"===e.firstChild.getAttribute("href")})?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},R.getIdNotName)C.find.ID=function(e,t){if(typeof t.getElementById!==G&&!E){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}},C.filter.ID=function(e){var t=e.replace(xt,bt);return function(e){return e.getAttribute("id")===t}};else C.find.ID=function(e,i){if(typeof i.getElementById!==G&&!E){var n=i.getElementById(e);return n?n.id===e||typeof n.getAttributeNode!==G&&n.getAttributeNode("id").value===e?[n]:t:[]}},C.filter.ID=function(e){var t=e.replace(xt,bt);return function(e){var i=typeof e.getAttributeNode!==G&&e.getAttributeNode("id");return i&&i.value===t}};if(C.find.TAG=R.tagNameNoComments?function(e,t){if(typeof t.getElementsByTagName!==G)return t.getElementsByTagName(e);else return void 0}:function(e,t){var i,n=[],r=0,a=t.getElementsByTagName(e);if("*"===e){for(;i=a[r++];)if(1===i.nodeType)n.push(i);return n}return a},C.find.NAME=R.getByName&&function(e,t){if(typeof t.getElementsByName!==G)return t.getElementsByName(name);else return void 0},C.find.CLASS=R.getByClassName&&function(e,t){if(typeof t.getElementsByClassName!==G&&!E)return t.getElementsByClassName(e);else return void 0},j=[],N=[":focus"],R.qsa=i(n.querySelectorAll))a(function(e){if(e.innerHTML="<select><option selected=''></option></select>",!e.querySelectorAll("[selected]").length)N.push("\\["+et+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)");if(!e.querySelectorAll(":checked").length)N.push(":checked")}),a(function(e){if(e.innerHTML="<input type='hidden' i=''/>",e.querySelectorAll("[i^='']").length)N.push("[*^$]="+et+"*(?:\"\"|'')");if(!e.querySelectorAll(":enabled").length)N.push(":enabled",":disabled");e.querySelectorAll("*,:x"),N.push(",.*:")});if(R.matchesSelector=i(H=I.matchesSelector||I.mozMatchesSelector||I.webkitMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))a(function(e){R.disconnectedMatch=H.call(e,"div"),H.call(e,"[s!='']:x"),j.push("!=",at)});return N=new RegExp(N.join("|")),j=new RegExp(j.join("|")),O=i(I.contains)||I.compareDocumentPosition?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},$=I.compareDocumentPosition?function(e,t){var i;if(e===t)return D=!0,0;if(i=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t)){if(1&i||e.parentNode&&11===e.parentNode.nodeType){if(e===n||O(V,e))return-1;if(t===n||O(V,t))return 1;else return 0}return 4&i?-1:1}return e.compareDocumentPosition?-1:1}:function(e,t){var i,r=0,a=e.parentNode,s=t.parentNode,l=[e],d=[t];if(e===t)return D=!0,0;else if(!a||!s)return e===n?-1:t===n?1:a?-1:s?1:0;else if(a===s)return o(e,t);for(i=e;i=i.parentNode;)l.unshift(i);for(i=t;i=i.parentNode;)d.unshift(i);for(;l[r]===d[r];)r++;return r?o(l[r],d[r]):l[r]===V?-1:d[r]===V?1:0},D=!1,[0,0].sort($),R.detectDuplicates=D,P},s.matches=function(e,t){return s(e,null,null,t)},s.matchesSelector=function(e,t){if((e.ownerDocument||e)!==P)S(e);if(t=t.replace(_t,"='$1']"),!(!R.matchesSelector||E||j&&j.test(t)||N.test(t)))try{var i=H.call(e,t);if(i||R.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(n){}return s(t,P,null,[e]).length>0},s.contains=function(e,t){if((e.ownerDocument||e)!==P)S(e);return O(e,t)},s.attr=function(e,t){var i;if((e.ownerDocument||e)!==P)S(e);if(!E)t=t.toLowerCase();if(i=C.attrHandle[t])return i(e);if(E||R.attributes)return e.getAttribute(t);else return((i=e.getAttributeNode(t))||e.getAttribute(t))&&e[t]===!0?t:i&&i.specified?i.value:null},s.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},s.uniqueSort=function(e){var t,i=[],n=1,r=0;if(D=!R.detectDuplicates,e.sort($),D){for(;t=e[n];n++)if(t===e[n-1])r=i.push(n);for(;r--;)e.splice(i[r],1)}return e},L=s.getText=function(e){var t,i="",n=0,r=e.nodeType;if(!r)for(;t=e[n];n++)i+=L(t);else if(1===r||9===r||11===r)if("string"==typeof e.textContent)return e.textContent;else for(e=e.firstChild;e;e=e.nextSibling)i+=L(e);else if(3===r||4===r)return e.nodeValue;return i},C=s.selectors={cacheLength:50,createPseudo:r,match:ht,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){if(e[1]=e[1].replace(xt,bt),e[3]=(e[4]||e[5]||"").replace(xt,bt),"~="===e[2])e[3]=" "+e[3]+" ";return e.slice(0,4)},CHILD:function(e){if(e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)){if(!e[3])s.error(e[0]);e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])}else if(e[3])s.error(e[0]);return e},PSEUDO:function(e){var t,i=!e[5]&&e[2];if(ht.CHILD.test(e[0]))return null;if(e[4])e[2]=e[4];else if(i&&ut.test(i)&&(t=c(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length))e[0]=e[0].slice(0,t),e[2]=i.slice(0,t);return e.slice(0,3)}},filter:{TAG:function(e){if("*"===e)return function(){return!0};else return e=e.replace(xt,bt).toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(e){var t=W[e+" "];return t||(t=new RegExp("(^|"+et+")"+e+"("+et+"|$)"))&&W(e,function(e){return t.test(e.className||typeof e.getAttribute!==G&&e.getAttribute("class")||"")})},ATTR:function(e,t,i){return function(n){var r=s.attr(n,e);if(null==r)return"!="===t;if(!t)return!0;else return r+="","="===t?r===i:"!="===t?r!==i:"^="===t?i&&0===r.indexOf(i):"*="===t?i&&r.indexOf(i)>-1:"$="===t?i&&r.slice(-i.length)===i:"~="===t?(" "+r+" ").indexOf(i)>-1:"|="===t?r===i||r.slice(0,i.length+1)===i+"-":!1}},CHILD:function(e,t,i,n,r){var a="nth"!==e.slice(0,3),s="last"!==e.slice(-4),o="of-type"===t;return 1===n&&0===r?function(e){return!!e.parentNode}:function(t,i,l){var d,u,c,h,f,p,m=a!==s?"nextSibling":"previousSibling",g=t.parentNode,v=o&&t.nodeName.toLowerCase(),y=!l&&!o;if(g){if(a){for(;m;){for(c=t;c=c[m];)if(o?c.nodeName.toLowerCase()===v:1===c.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[s?g.firstChild:g.lastChild],s&&y){for(u=g[A]||(g[A]={}),d=u[e]||[],f=d[0]===F&&d[1],h=d[0]===F&&d[2],c=f&&g.childNodes[f];c=++f&&c&&c[m]||(h=f=0)||p.pop();)if(1===c.nodeType&&++h&&c===t){u[e]=[F,f,h];break}}else if(y&&(d=(t[A]||(t[A]={}))[e])&&d[0]===F)h=d[1];else for(;c=++f&&c&&c[m]||(h=f=0)||p.pop();)if((o?c.nodeName.toLowerCase()===v:1===c.nodeType)&&++h){if(y)(c[A]||(c[A]={}))[e]=[F,h];if(c===t)break}return h-=r,h===n||h%n===0&&h/n>=0}}},PSEUDO:function(e,t){var i,n=C.pseudos[e]||C.setFilters[e.toLowerCase()]||s.error("unsupported pseudo: "+e);if(n[A])return n(t);if(n.length>1)return i=[e,e,"",t],C.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,i){for(var r,a=n(e,t),s=a.length;s--;)r=Q.call(e,a[s]),e[r]=!(i[r]=a[s])}):function(e){return n(e,0,i)};else return n}},pseudos:{not:r(function(e){var t=[],i=[],n=k(e.replace(st,"$1"));return n[A]?r(function(e,t,i,r){for(var a,s=n(e,null,r,[]),o=e.length;o--;)if(a=s[o])e[o]=!(t[o]=a)}):function(e,r,a){return t[0]=e,n(t,null,a,i),!i.pop()}}),has:r(function(e){return function(t){return s(e,t).length>0}}),contains:r(function(e){return function(t){return(t.textContent||t.innerText||L(t)).indexOf(e)>-1}}),lang:r(function(e){if(!ct.test(e||""))s.error("unsupported lang: "+e);return e=e.replace(xt,bt).toLowerCase(),function(t){var i;do if(i=E?t.getAttribute("xml:lang")||t.getAttribute("lang"):t.lang)return i=i.toLowerCase(),i===e||0===i.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===I},focus:function(e){return e===P.activeElement&&(!P.hasFocus||P.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){if(e.parentNode)e.parentNode.selectedIndex;return e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!C.pseudos.empty(e)},header:function(e){return vt.test(e.nodeName)},input:function(e){return gt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,i){return[0>i?i+t:i]}),even:u(function(e,t){for(var i=0;t>i;i+=2)e.push(i);return e}),odd:u(function(e,t){for(var i=1;t>i;i+=2)e.push(i);return e}),lt:u(function(e,t,i){for(var n=0>i?i+t:i;--n>=0;)e.push(n);return e}),gt:u(function(e,t,i){for(var n=0>i?i+t:i;++n<t;)e.push(n);return e})}};for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[w]=l(w);for(w in{submit:!0,reset:!0})C.pseudos[w]=d(w);k=s.compile=function(e,t){var i,n=[],r=[],a=z[e+" "];if(!a){if(!t)t=c(e);for(i=t.length;i--;)if(a=v(t[i]),a[A])n.push(a);else r.push(a);a=z(e,y(r,n))}return a},C.pseudos.nth=C.pseudos.eq,C.filters=b.prototype=C.pseudos,C.setFilters=new b,S(),s.attr=lt.attr,lt.find=s,lt.expr=s.selectors,lt.expr[":"]=lt.expr.pseudos,lt.unique=s.uniqueSort,lt.text=s.getText,lt.isXMLDoc=s.isXML,lt.contains=s.contains}(e);var Rt=/Until$/,Ft=/^(?:parents|prev(?:Until|All))/,qt=/^.[^:#\[\.,]*$/,Wt=lt.expr.match.needsContext,Bt={children:!0,contents:!0,next:!0,prev:!0};lt.fn.extend({find:function(e){var t,i,n,r=this.length;if("string"!=typeof e)return n=this,this.pushStack(lt(e).filter(function(){for(t=0;r>t;t++)if(lt.contains(n[t],this))return!0}));for(i=[],t=0;r>t;t++)lt.find(e,this[t],i);return i=this.pushStack(r>1?lt.unique(i):i),i.selector=(this.selector?this.selector+" ":"")+e,i},has:function(e){var t,i=lt(e,this),n=i.length;return this.filter(function(){for(t=0;n>t;t++)if(lt.contains(this,i[t]))return!0})},not:function(e){return this.pushStack(c(this,e,!1))},filter:function(e){return this.pushStack(c(this,e,!0))},is:function(e){return!!e&&("string"==typeof e?Wt.test(e)?lt(e,this.context).index(this[0])>=0:lt.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var i,n=0,r=this.length,a=[],s=Wt.test(e)||"string"!=typeof e?lt(e,t||this.context):0;r>n;n++)for(i=this[n];i&&i.ownerDocument&&i!==t&&11!==i.nodeType;){if(s?s.index(i)>-1:lt.find.matchesSelector(i,e)){a.push(i);break}i=i.parentNode}return this.pushStack(a.length>1?lt.unique(a):a)},index:function(e){if(!e)return this[0]&&this[0].parentNode?this.first().prevAll().length:-1;if("string"==typeof e)return lt.inArray(this[0],lt(e));else return lt.inArray(e.jquery?e[0]:e,this)},add:function(e,t){var i="string"==typeof e?lt(e,t):lt.makeArray(e&&e.nodeType?[e]:e),n=lt.merge(this.get(),i);return this.pushStack(lt.unique(n))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),lt.fn.andSelf=lt.fn.addBack,lt.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return lt.dir(e,"parentNode")},parentsUntil:function(e,t,i){return lt.dir(e,"parentNode",i)},next:function(e){return u(e,"nextSibling")},prev:function(e){return u(e,"previousSibling")},nextAll:function(e){return lt.dir(e,"nextSibling")},prevAll:function(e){return lt.dir(e,"previousSibling")},nextUntil:function(e,t,i){return lt.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return lt.dir(e,"previousSibling",i)},siblings:function(e){return lt.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return lt.sibling(e.firstChild)},contents:function(e){return lt.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:lt.merge([],e.childNodes)}},function(e,t){lt.fn[e]=function(i,n){var r=lt.map(this,t,i);if(!Rt.test(e))n=i;if(n&&"string"==typeof n)r=lt.filter(n,r);if(r=this.length>1&&!Bt[e]?lt.unique(r):r,this.length>1&&Ft.test(e))r=r.reverse();return this.pushStack(r)}}),lt.extend({filter:function(e,t,i){if(i)e=":not("+e+")";return 1===t.length?lt.find.matchesSelector(t[0],e)?[t[0]]:[]:lt.find.matches(e,t)},dir:function(e,i,n){for(var r=[],a=e[i];a&&9!==a.nodeType&&(n===t||1!==a.nodeType||!lt(a).is(n));){if(1===a.nodeType)r.push(a);a=a[i]}return r},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)if(1===e.nodeType&&e!==t)i.push(e);return i}});var zt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Gt=/ jQuery\d+="(?:null|\d+)"/g,Ut=new RegExp("<(?:"+zt+")[\\s/>]","i"),Xt=/^\s+/,Jt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Kt=/<([\w:]+)/,Zt=/<tbody/i,Qt=/<|&#?\w+;/,ei=/<(?:script|style|link)/i,ti=/^(?:checkbox|radio)$/i,ii=/checked\s*(?:[^=]|=\s*.checked.)/i,ni=/^$|\/(?:java|ecma)script/i,ri=/^true\/(.*)/,ai=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,si={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:lt.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},oi=h(U),li=oi.appendChild(U.createElement("div"));si.optgroup=si.option,si.tbody=si.tfoot=si.colgroup=si.caption=si.thead,si.th=si.td,lt.fn.extend({text:function(e){return lt.access(this,function(e){return e===t?lt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||U).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(lt.isFunction(e))return this.each(function(t){lt(this).wrapAll(e.call(this,t))});if(this[0]){var t=lt(e,this[0].ownerDocument).eq(0).clone(!0);if(this[0].parentNode)t.insertBefore(this[0]);t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){if(lt.isFunction(e))return this.each(function(t){lt(this).wrapInner(e.call(this,t))});else return this.each(function(){var t=lt(this),i=t.contents();if(i.length)i.wrapAll(e);else t.append(e)})},wrap:function(e){var t=lt.isFunction(e);return this.each(function(i){lt(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){if(!lt.nodeName(this,"body"))lt(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType)this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType)this.insertBefore(e,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(e){if(this.parentNode)this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,!1,function(e){if(this.parentNode)this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var i,n=0;null!=(i=this[n]);n++)if(!e||lt.filter(e,[i]).length>0){if(!t&&1===i.nodeType)lt.cleanData(_(i));if(i.parentNode){if(t&&lt.contains(i.ownerDocument,i))g(_(i,"script"));i.parentNode.removeChild(i)}}return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){if(1===e.nodeType)lt.cleanData(_(e,!1));for(;e.firstChild;)e.removeChild(e.firstChild);if(e.options&&lt.nodeName(e,"select"))e.options.length=0}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return lt.clone(this,e,t)})},html:function(e){return lt.access(this,function(e){var i=this[0]||{},n=0,r=this.length;if(e===t)return 1===i.nodeType?i.innerHTML.replace(Gt,""):t;if(!("string"!=typeof e||ei.test(e)||!lt.support.htmlSerialize&&Ut.test(e)||!lt.support.leadingWhitespace&&Xt.test(e)||si[(Kt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Jt,"<$1></$2>");try{for(;r>n;n++)if(i=this[n]||{},1===i.nodeType)lt.cleanData(_(i,!1)),i.innerHTML=e;i=0}catch(a){}}if(i)this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){var t=lt.isFunction(e);if(!t&&"string"!=typeof e)e=lt(e).not(this).detach();return this.domManip([e],!0,function(e){var t=this.nextSibling,i=this.parentNode;if(i)lt(this).remove(),i.insertBefore(e,t)})},detach:function(e){return this.remove(e,!0)},domManip:function(e,i,n){e=tt.apply([],e);var r,a,s,o,l,d,u=0,c=this.length,h=this,g=c-1,v=e[0],y=lt.isFunction(v);if(y||!(1>=c||"string"!=typeof v||lt.support.checkClone)&&ii.test(v))return this.each(function(r){var a=h.eq(r);if(y)e[0]=v.call(this,r,i?a.html():t);a.domManip(e,i,n)});if(c){if(d=lt.buildFragment(e,this[0].ownerDocument,!1,this),r=d.firstChild,1===d.childNodes.length)d=r;if(r){for(i=i&&lt.nodeName(r,"tr"),o=lt.map(_(d,"script"),p),s=o.length;c>u;u++){if(a=d,u!==g)if(a=lt.clone(a,!0,!0),s)lt.merge(o,_(a,"script"));n.call(i&&lt.nodeName(this[u],"table")?f(this[u],"tbody"):this[u],a,u)}if(s)for(l=o[o.length-1].ownerDocument,lt.map(o,m),u=0;s>u;u++)if(a=o[u],ni.test(a.type||"")&&!lt._data(a,"globalEval")&&lt.contains(l,a))if(a.src)lt.ajax({url:a.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0});else lt.globalEval((a.text||a.textContent||a.innerHTML||"").replace(ai,""));d=r=null}}return this}}),lt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){lt.fn[e]=function(e){for(var i,n=0,r=[],a=lt(e),s=a.length-1;s>=n;n++)i=n===s?this:this.clone(!0),lt(a[n])[t](i),it.apply(r,i.get());return this.pushStack(r)}}),lt.extend({clone:function(e,t,i){var n,r,a,s,o,l=lt.contains(e.ownerDocument,e);if(lt.support.html5Clone||lt.isXMLDoc(e)||!Ut.test("<"+e.nodeName+">"))a=e.cloneNode(!0);else li.innerHTML=e.outerHTML,li.removeChild(a=li.firstChild);if(!(lt.support.noCloneEvent&&lt.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||lt.isXMLDoc(e)))for(n=_(a),o=_(e),s=0;null!=(r=o[s]);++s)if(n[s])y(r,n[s]);if(t)if(i)for(o=o||_(e),n=n||_(a),s=0;null!=(r=o[s]);s++)v(r,n[s]);else v(e,a);if(n=_(a,"script"),n.length>0)g(n,!l&&_(e,"script"));return n=o=r=null,a},buildFragment:function(e,t,i,n){for(var r,a,s,o,l,d,u,c=e.length,f=h(t),p=[],m=0;c>m;m++)if(a=e[m],a||0===a)if("object"===lt.type(a))lt.merge(p,a.nodeType?[a]:a);else if(!Qt.test(a))p.push(t.createTextNode(a));else{for(o=o||f.appendChild(t.createElement("div")),l=(Kt.exec(a)||["",""])[1].toLowerCase(),u=si[l]||si._default,o.innerHTML=u[1]+a.replace(Jt,"<$1></$2>")+u[2],r=u[0];r--;)o=o.lastChild;if(!lt.support.leadingWhitespace&&Xt.test(a))p.push(t.createTextNode(Xt.exec(a)[0]));if(!lt.support.tbody)for(a="table"===l&&!Zt.test(a)?o.firstChild:"<table>"===u[1]&&!Zt.test(a)?o:0,r=a&&a.childNodes.length;r--;)if(lt.nodeName(d=a.childNodes[r],"tbody")&&!d.childNodes.length)a.removeChild(d);for(lt.merge(p,o.childNodes),o.textContent="";o.firstChild;)o.removeChild(o.firstChild);o=f.lastChild}if(o)f.removeChild(o);if(!lt.support.appendChecked)lt.grep(_(p,"input"),x);for(m=0;a=p[m++];)if(!n||-1===lt.inArray(a,n)){if(s=lt.contains(a.ownerDocument,a),o=_(f.appendChild(a),"script"),s)g(o);if(i)for(r=0;a=o[r++];)if(ni.test(a.type||""))i.push(a)}else;return o=null,f},cleanData:function(e,t){for(var i,n,r,a,s=0,o=lt.expando,l=lt.cache,d=lt.support.deleteExpando,u=lt.event.special;null!=(i=e[s]);s++)if(t||lt.acceptData(i))if(r=i[o],a=r&&l[r]){if(a.events)for(n in a.events)if(u[n])lt.event.remove(i,n);else lt.removeEvent(i,n,a.handle);if(l[r]){if(delete l[r],d)delete i[o];else if(typeof i.removeAttribute!==G)i.removeAttribute(o);else i[o]=null;Q.push(r)}}}});var di,ui,ci,hi=/alpha\([^)]*\)/i,fi=/opacity\s*=\s*([^)]*)/,pi=/^(top|right|bottom|left)$/,mi=/^(none|table(?!-c[ea]).+)/,gi=/^margin/,vi=new RegExp("^("+dt+")(.*)$","i"),yi=new RegExp("^("+dt+")(?!px)[a-z%]+$","i"),_i=new RegExp("^([+-])=("+dt+")","i"),xi={BODY:"block"},bi={position:"absolute",visibility:"hidden",display:"block"},wi={letterSpacing:0,fontWeight:400},Mi=["Top","Right","Bottom","Left"],Ci=["Webkit","O","Moz","ms"];if(lt.fn.extend({css:function(e,i){return lt.access(this,function(e,i,n){var r,a,s={},o=0;if(lt.isArray(i)){for(a=ui(e),r=i.length;r>o;o++)s[i[o]]=lt.css(e,i[o],!1,a);return s}return n!==t?lt.style(e,i,n):lt.css(e,i)},e,i,arguments.length>1)},show:function(){return M(this,!0)},hide:function(){return M(this)},toggle:function(e){var t="boolean"==typeof e;return this.each(function(){if(t?e:w(this))lt(this).show();else lt(this).hide()})}}),lt.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=ci(e,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":lt.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,i,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,s,o,l=lt.camelCase(i),d=e.style;if(i=lt.cssProps[l]||(lt.cssProps[l]=b(d,l)),o=lt.cssHooks[i]||lt.cssHooks[l],n!==t){if(s=typeof n,"string"===s&&(a=_i.exec(n)))n=(a[1]+1)*a[2]+parseFloat(lt.css(e,i)),s="number";if(null==n||"number"===s&&isNaN(n))return;if("number"===s&&!lt.cssNumber[l])n+="px";if(!lt.support.clearCloneStyle&&""===n&&0===i.indexOf("background"))d[i]="inherit";if(!(o&&"set"in o&&(n=o.set(e,n,r))===t))try{d[i]=n}catch(u){}}else if(o&&"get"in o&&(a=o.get(e,!1,r))!==t)return a;else return d[i]}},css:function(e,i,n,r){var a,s,o,l=lt.camelCase(i);if(i=lt.cssProps[l]||(lt.cssProps[l]=b(e.style,l)),o=lt.cssHooks[i]||lt.cssHooks[l],o&&"get"in o)s=o.get(e,!0,n);if(s===t)s=ci(e,i,r);if("normal"===s&&i in wi)s=wi[i];if(""===n||n)return a=parseFloat(s),n===!0||lt.isNumeric(a)?a||0:s;else return s},swap:function(e,t,i,n){var r,a,s={};for(a in t)s[a]=e.style[a],e.style[a]=t[a];r=i.apply(e,n||[]);for(a in t)e.style[a]=s[a];return r}}),e.getComputedStyle)ui=function(t){return e.getComputedStyle(t,null)},ci=function(e,i,n){var r,a,s,o=n||ui(e),l=o?o.getPropertyValue(i)||o[i]:t,d=e.style;if(o){if(""===l&&!lt.contains(e.ownerDocument,e))l=lt.style(e,i);if(yi.test(l)&&gi.test(i))r=d.width,a=d.minWidth,s=d.maxWidth,d.minWidth=d.maxWidth=d.width=l,l=o.width,d.width=r,d.minWidth=a,d.maxWidth=s}return l};else if(U.documentElement.currentStyle)ui=function(e){return e.currentStyle},ci=function(e,i,n){var r,a,s,o=n||ui(e),l=o?o[i]:t,d=e.style;if(null==l&&d&&d[i])l=d[i];if(yi.test(l)&&!pi.test(i)){if(r=d.left,a=e.runtimeStyle,s=a&&a.left)a.left=e.currentStyle.left;if(d.left="fontSize"===i?"1em":l,l=d.pixelLeft+"px",d.left=r,s)a.left=s}return""===l?"auto":l};if(lt.each(["height","width"],function(e,t){lt.cssHooks[t]={get:function(e,i,n){if(i)return 0===e.offsetWidth&&mi.test(lt.css(e,"display"))?lt.swap(e,bi,function(){return T(e,t,n)}):T(e,t,n);else return void 0},set:function(e,i,n){var r=n&&ui(e);return C(e,i,n?L(e,t,n,lt.support.boxSizing&&"border-box"===lt.css(e,"boxSizing",!1,r),r):0)}}}),!lt.support.opacity)lt.cssHooks.opacity={get:function(e,t){return fi.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var i=e.style,n=e.currentStyle,r=lt.isNumeric(t)?"alpha(opacity="+100*t+")":"",a=n&&n.filter||i.filter||"";if(i.zoom=1,(t>=1||""===t)&&""===lt.trim(a.replace(hi,""))&&i.removeAttribute)if(i.removeAttribute("filter"),""===t||n&&!n.filter)return;i.filter=hi.test(a)?a.replace(hi,r):a+" "+r}};if(lt(function(){if(!lt.support.reliableMarginRight)lt.cssHooks.marginRight={get:function(e,t){if(t)return lt.swap(e,{display:"inline-block"},ci,[e,"marginRight"]);else return void 0}};if(!lt.support.pixelPosition&&lt.fn.position)lt.each(["top","left"],function(e,t){lt.cssHooks[t]={get:function(e,i){if(i)return i=ci(e,t),yi.test(i)?lt(e).position()[t]+"px":i;else return void 0}}})}),lt.expr&&lt.expr.filters)lt.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!lt.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||lt.css(e,"display"))},lt.expr.filters.visible=function(e){return!lt.expr.filters.hidden(e)};lt.each({margin:"",padding:"",border:"Width"},function(e,t){if(lt.cssHooks[e+t]={expand:function(i){for(var n=0,r={},a="string"==typeof i?i.split(" "):[i];4>n;n++)r[e+Mi[n]+t]=a[n]||a[n-2]||a[0];return r}},!gi.test(e))lt.cssHooks[e+t].set=C});var Li=/%20/g,Ti=/\[\]$/,ki=/\r?\n/g,Di=/^(?:submit|button|image|reset|file)$/i,Yi=/^(?:input|select|textarea|keygen)/i;lt.fn.extend({serialize:function(){return lt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=lt.prop(this,"elements");return e?lt.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!lt(this).is(":disabled")&&Yi.test(this.nodeName)&&!Di.test(e)&&(this.checked||!ti.test(e))}).map(function(e,t){var i=lt(this).val();return null==i?null:lt.isArray(i)?lt.map(i,function(e){return{name:t.name,value:e.replace(ki,"\r\n")}}):{name:t.name,value:i.replace(ki,"\r\n")}}).get()}}),lt.param=function(e,i){var n,r=[],a=function(e,t){t=lt.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(i===t)i=lt.ajaxSettings&&lt.ajaxSettings.traditional;if(lt.isArray(e)||e.jquery&&!lt.isPlainObject(e))lt.each(e,function(){a(this.name,this.value)});else for(n in e)Y(n,e[n],i,a);return r.join("&").replace(Li,"+")},lt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){lt.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),lt.fn.hover=function(e,t){return this.mouseenter(e).mouseleave(t||e)};var Si,Pi,Ii=lt.now(),Ei=/\?/,Ni=/#.*$/,ji=/([?&])_=[^&]*/,Hi=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Oi=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,$i=/^(?:GET|HEAD)$/,Ai=/^\/\//,Vi=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Ri=lt.fn.load,Fi={},qi={},Wi="*/".concat("*");try{Pi=X.href}catch(Bi){Pi=U.createElement("a"),Pi.href="",Pi=Pi.href}Si=Vi.exec(Pi.toLowerCase())||[],lt.fn.load=function(e,i,n){if("string"!=typeof e&&Ri)return Ri.apply(this,arguments);var r,a,s,o=this,l=e.indexOf(" ");if(l>=0)r=e.slice(l,e.length),e=e.slice(0,l);if(lt.isFunction(i))n=i,i=t;else if(i&&"object"==typeof i)s="POST";if(o.length>0)lt.ajax({url:e,type:s,dataType:"html",data:i}).done(function(e){a=arguments,o.html(r?lt("<div>").append(lt.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){o.each(n,a||[e.responseText,t,e])});return this},lt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){lt.fn[t]=function(e){return this.on(t,e)}}),lt.each(["get","post"],function(e,i){lt[i]=function(e,n,r,a){if(lt.isFunction(n))a=a||r,r=n,n=t;return lt.ajax({url:e,type:i,dataType:a,data:n,success:r})}}),lt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Pi,type:"GET",isLocal:Oi.test(Si[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Wi,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":lt.parseJSON,"text xml":lt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?I(I(e,lt.ajaxSettings),t):I(lt.ajaxSettings,e)
},ajaxPrefilter:S(Fi),ajaxTransport:S(qi),ajax:function(e,i){function n(e,i,n,r){var a,c,y,_,b,M=i;if(2!==x){if(x=2,l)clearTimeout(l);if(u=t,o=r||"",w.readyState=e>0?4:0,n)_=E(h,w,n);if(e>=200&&300>e||304===e){if(h.ifModified){if(b=w.getResponseHeader("Last-Modified"))lt.lastModified[s]=b;if(b=w.getResponseHeader("etag"))lt.etag[s]=b}if(204===e)a=!0,M="nocontent";else if(304===e)a=!0,M="notmodified";else a=N(h,_),M=a.state,c=a.data,y=a.error,a=!y}else if(y=M,e||!M)if(M="error",0>e)e=0;if(w.status=e,w.statusText=(i||M)+"",a)m.resolveWith(f,[c,M,w]);else m.rejectWith(f,[w,M,y]);if(w.statusCode(v),v=t,d)p.trigger(a?"ajaxSuccess":"ajaxError",[w,h,a?c:y]);if(g.fireWith(f,[w,M]),d)if(p.trigger("ajaxComplete",[w,h]),!--lt.active)lt.event.trigger("ajaxStop")}}if("object"==typeof e)i=e,e=t;i=i||{};var r,a,s,o,l,d,u,c,h=lt.ajaxSetup({},i),f=h.context||h,p=h.context&&(f.nodeType||f.jquery)?lt(f):lt.event,m=lt.Deferred(),g=lt.Callbacks("once memory"),v=h.statusCode||{},y={},_={},x=0,b="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!c)for(c={};t=Hi.exec(o);)c[t[1].toLowerCase()]=t[2];t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?o:null},setRequestHeader:function(e,t){var i=e.toLowerCase();if(!x)e=_[i]=_[i]||e,y[e]=t;return this},overrideMimeType:function(e){if(!x)h.mimeType=e;return this},statusCode:function(e){var t;if(e)if(2>x)for(t in e)v[t]=[v[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||b;if(u)u.abort(t);return n(0,t),this}};if(m.promise(w).complete=g.add,w.success=w.done,w.error=w.fail,h.url=((e||h.url||Pi)+"").replace(Ni,"").replace(Ai,Si[1]+"//"),h.type=i.method||i.type||h.method||h.type,h.dataTypes=lt.trim(h.dataType||"*").toLowerCase().match(ut)||[""],null==h.crossDomain)r=Vi.exec(h.url.toLowerCase()),h.crossDomain=!(!r||r[1]===Si[1]&&r[2]===Si[2]&&(r[3]||("http:"===r[1]?80:443))==(Si[3]||("http:"===Si[1]?80:443)));if(h.data&&h.processData&&"string"!=typeof h.data)h.data=lt.param(h.data,h.traditional);if(P(Fi,h,i,w),2===x)return w;if(d=h.global,d&&0===lt.active++)lt.event.trigger("ajaxStart");if(h.type=h.type.toUpperCase(),h.hasContent=!$i.test(h.type),s=h.url,!h.hasContent){if(h.data)s=h.url+=(Ei.test(s)?"&":"?")+h.data,delete h.data;if(h.cache===!1)h.url=ji.test(s)?s.replace(ji,"$1_="+Ii++):s+(Ei.test(s)?"&":"?")+"_="+Ii++}if(h.ifModified){if(lt.lastModified[s])w.setRequestHeader("If-Modified-Since",lt.lastModified[s]);if(lt.etag[s])w.setRequestHeader("If-None-Match",lt.etag[s])}if(h.data&&h.hasContent&&h.contentType!==!1||i.contentType)w.setRequestHeader("Content-Type",h.contentType);w.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Wi+"; q=0.01":""):h.accepts["*"]);for(a in h.headers)w.setRequestHeader(a,h.headers[a]);if(h.beforeSend&&(h.beforeSend.call(f,w,h)===!1||2===x))return w.abort();b="abort";for(a in{success:1,error:1,complete:1})w[a](h[a]);if(u=P(qi,h,i,w),!u)n(-1,"No Transport");else{if(w.readyState=1,d)p.trigger("ajaxSend",[w,h]);if(h.async&&h.timeout>0)l=setTimeout(function(){w.abort("timeout")},h.timeout);try{x=1,u.send(y,n)}catch(M){if(2>x)n(-1,M);else throw M}}return w},getScript:function(e,i){return lt.get(e,t,i,"script")},getJSON:function(e,t,i){return lt.get(e,t,i,"json")}}),lt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return lt.globalEval(e),e}}}),lt.ajaxPrefilter("script",function(e){if(e.cache===t)e.cache=!1;if(e.crossDomain)e.type="GET",e.global=!1}),lt.ajaxTransport("script",function(e){if(e.crossDomain){var i,n=U.head||lt("head")[0]||U.documentElement;return{send:function(t,r){if(i=U.createElement("script"),i.async=!0,e.scriptCharset)i.charset=e.scriptCharset;i.src=e.url,i.onload=i.onreadystatechange=function(e,t){if(t||!i.readyState||/loaded|complete/.test(i.readyState)){if(i.onload=i.onreadystatechange=null,i.parentNode)i.parentNode.removeChild(i);if(i=null,!t)r(200,"success")}},n.insertBefore(i,n.firstChild)},abort:function(){if(i)i.onload(t,!0)}}}});var zi=[],Gi=/(=)\?(?=&|$)|\?\?/;lt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=zi.pop()||lt.expando+"_"+Ii++;return this[e]=!0,e}}),lt.ajaxPrefilter("json jsonp",function(i,n,r){var a,s,o,l=i.jsonp!==!1&&(Gi.test(i.url)?"url":"string"==typeof i.data&&!(i.contentType||"").indexOf("application/x-www-form-urlencoded")&&Gi.test(i.data)&&"data");if(l||"jsonp"===i.dataTypes[0]){if(a=i.jsonpCallback=lt.isFunction(i.jsonpCallback)?i.jsonpCallback():i.jsonpCallback,l)i[l]=i[l].replace(Gi,"$1"+a);else if(i.jsonp!==!1)i.url+=(Ei.test(i.url)?"&":"?")+i.jsonp+"="+a;return i.converters["script json"]=function(){if(!o)lt.error(a+" was not called");return o[0]},i.dataTypes[0]="json",s=e[a],e[a]=function(){o=arguments},r.always(function(){if(e[a]=s,i[a])i.jsonpCallback=n.jsonpCallback,zi.push(a);if(o&&lt.isFunction(s))s(o[0]);o=s=t}),"script"}});var Ui,Xi,Ji=0,Ki=e.ActiveXObject&&function(){var e;for(e in Ui)Ui[e](t,!0)};if(lt.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&j()||H()}:j,Xi=lt.ajaxSettings.xhr(),lt.support.cors=!!Xi&&"withCredentials"in Xi,Xi=lt.support.ajax=!!Xi)lt.ajaxTransport(function(i){if(!i.crossDomain||lt.support.cors){var n;return{send:function(r,a){var s,o,l=i.xhr();if(i.username)l.open(i.type,i.url,i.async,i.username,i.password);else l.open(i.type,i.url,i.async);if(i.xhrFields)for(o in i.xhrFields)l[o]=i.xhrFields[o];if(i.mimeType&&l.overrideMimeType)l.overrideMimeType(i.mimeType);if(!i.crossDomain&&!r["X-Requested-With"])r["X-Requested-With"]="XMLHttpRequest";try{for(o in r)l.setRequestHeader(o,r[o])}catch(d){}if(l.send(i.hasContent&&i.data||null),n=function(e,r){var o,d,u,c;try{if(n&&(r||4===l.readyState)){if(n=t,s)if(l.onreadystatechange=lt.noop,Ki)delete Ui[s];if(r){if(4!==l.readyState)l.abort()}else{if(c={},o=l.status,d=l.getAllResponseHeaders(),"string"==typeof l.responseText)c.text=l.responseText;try{u=l.statusText}catch(h){u=""}if(!o&&i.isLocal&&!i.crossDomain)o=c.text?200:404;else if(1223===o)o=204}}}catch(f){if(!r)a(-1,f)}if(c)a(o,u,c,d)},!i.async)n();else if(4===l.readyState)setTimeout(n);else{if(s=++Ji,Ki){if(!Ui)Ui={},lt(e).unload(Ki);Ui[s]=n}l.onreadystatechange=n}},abort:function(){if(n)n(t,!0)}}}});var Zi,Qi,en=/^(?:toggle|show|hide)$/,tn=new RegExp("^(?:([+-])=|)("+dt+")([a-z%]*)$","i"),nn=/queueHooks$/,rn=[R],an={"*":[function(e,t){var i,n,r=this.createTween(e,t),a=tn.exec(t),s=r.cur(),o=+s||0,l=1,d=20;if(a){if(i=+a[2],n=a[3]||(lt.cssNumber[e]?"":"px"),"px"!==n&&o){o=lt.css(r.elem,e,!0)||i||1;do l=l||".5",o/=l,lt.style(r.elem,e,o+n);while(l!==(l=r.cur()/s)&&1!==l&&--d)}r.unit=n,r.start=o,r.end=a[1]?o+(a[1]+1)*i:i}return r}]};if(lt.Animation=lt.extend(A,{tweener:function(e,t){if(lt.isFunction(e))t=e,e=["*"];else e=e.split(" ");for(var i,n=0,r=e.length;r>n;n++)i=e[n],an[i]=an[i]||[],an[i].unshift(t)},prefilter:function(e,t){if(t)rn.unshift(e);else rn.push(e)}}),lt.Tween=F,F.prototype={constructor:F,init:function(e,t,i,n,r,a){this.elem=e,this.prop=i,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=a||(lt.cssNumber[i]?"":"px")},cur:function(){var e=F.propHooks[this.prop];return e&&e.get?e.get(this):F.propHooks._default.get(this)},run:function(e){var t,i=F.propHooks[this.prop];if(this.options.duration)this.pos=t=lt.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration);else this.pos=t=e;if(this.now=(this.end-this.start)*t+this.start,this.options.step)this.options.step.call(this.elem,this.now,this);if(i&&i.set)i.set(this);else F.propHooks._default.set(this);return this}},F.prototype.init.prototype=F.prototype,F.propHooks={_default:{get:function(e){var t;if(null!=e.elem[e.prop]&&(!e.elem.style||null==e.elem.style[e.prop]))return e.elem[e.prop];else return t=lt.css(e.elem,e.prop,""),!t||"auto"===t?0:t},set:function(e){if(lt.fx.step[e.prop])lt.fx.step[e.prop](e);else if(e.elem.style&&(null!=e.elem.style[lt.cssProps[e.prop]]||lt.cssHooks[e.prop]))lt.style(e.elem,e.prop,e.now+e.unit);else e.elem[e.prop]=e.now}}},F.propHooks.scrollTop=F.propHooks.scrollLeft={set:function(e){if(e.elem.nodeType&&e.elem.parentNode)e.elem[e.prop]=e.now}},lt.each(["toggle","show","hide"],function(e,t){var i=lt.fn[t];lt.fn[t]=function(e,n,r){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(q(t,!0),e,n,r)}}),lt.fn.extend({fadeTo:function(e,t,i,n){return this.filter(w).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var r=lt.isEmptyObject(e),a=lt.speed(t,i,n),s=function(){var t=A(this,lt.extend({},e),a);if(s.finish=function(){t.stop(!0)},r||lt._data(this,"finish"))t.stop(!0)};return s.finish=s,r||a.queue===!1?this.each(s):this.queue(a.queue,s)},stop:function(e,i,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};if("string"!=typeof e)n=i,i=e,e=t;if(i&&e!==!1)this.queue(e||"fx",[]);return this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",a=lt.timers,s=lt._data(this);if(i){if(s[i]&&s[i].stop)r(s[i])}else for(i in s)if(s[i]&&s[i].stop&&nn.test(i))r(s[i]);for(i=a.length;i--;)if(a[i].elem===this&&(null==e||a[i].queue===e))a[i].anim.stop(n),t=!1,a.splice(i,1);if(t||!n)lt.dequeue(this,e)})},finish:function(e){if(e!==!1)e=e||"fx";return this.each(function(){var t,i=lt._data(this),n=i[e+"queue"],r=i[e+"queueHooks"],a=lt.timers,s=n?n.length:0;if(i.finish=!0,lt.queue(this,e,[]),r&&r.cur&&r.cur.finish)r.cur.finish.call(this);for(t=a.length;t--;)if(a[t].elem===this&&a[t].queue===e)a[t].anim.stop(!0),a.splice(t,1);for(t=0;s>t;t++)if(n[t]&&n[t].finish)n[t].finish.call(this);delete i.finish})}}),lt.each({slideDown:q("show"),slideUp:q("hide"),slideToggle:q("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){lt.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),lt.speed=function(e,t,i){var n=e&&"object"==typeof e?lt.extend({},e):{complete:i||!i&&t||lt.isFunction(e)&&e,duration:e,easing:i&&t||t&&!lt.isFunction(t)&&t};if(n.duration=lt.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in lt.fx.speeds?lt.fx.speeds[n.duration]:lt.fx.speeds._default,null==n.queue||n.queue===!0)n.queue="fx";return n.old=n.complete,n.complete=function(){if(lt.isFunction(n.old))n.old.call(this);if(n.queue)lt.dequeue(this,n.queue)},n},lt.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},lt.timers=[],lt.fx=F.prototype.init,lt.fx.tick=function(){var e,i=lt.timers,n=0;for(Zi=lt.now();n<i.length;n++)if(e=i[n],!e()&&i[n]===e)i.splice(n--,1);if(!i.length)lt.fx.stop();Zi=t},lt.fx.timer=function(e){if(e()&&lt.timers.push(e))lt.fx.start()},lt.fx.interval=13,lt.fx.start=function(){if(!Qi)Qi=setInterval(lt.fx.tick,lt.fx.interval)},lt.fx.stop=function(){clearInterval(Qi),Qi=null},lt.fx.speeds={slow:600,fast:200,_default:400},lt.fx.step={},lt.expr&&lt.expr.filters)lt.expr.filters.animated=function(e){return lt.grep(lt.timers,function(t){return e===t.elem}).length};if(lt.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){lt.offset.setOffset(this,e,t)});var i,n,r={top:0,left:0},a=this[0],s=a&&a.ownerDocument;if(s){if(i=s.documentElement,!lt.contains(i,a))return r;if(typeof a.getBoundingClientRect!==G)r=a.getBoundingClientRect();return n=W(s),{top:r.top+(n.pageYOffset||i.scrollTop)-(i.clientTop||0),left:r.left+(n.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}}},lt.offset={setOffset:function(e,t,i){var n=lt.css(e,"position");if("static"===n)e.style.position="relative";var r,a,s=lt(e),o=s.offset(),l=lt.css(e,"top"),d=lt.css(e,"left"),u=("absolute"===n||"fixed"===n)&&lt.inArray("auto",[l,d])>-1,c={},h={};if(u)h=s.position(),r=h.top,a=h.left;else r=parseFloat(l)||0,a=parseFloat(d)||0;if(lt.isFunction(t))t=t.call(e,i,o);if(null!=t.top)c.top=t.top-o.top+r;if(null!=t.left)c.left=t.left-o.left+a;if("using"in t)t.using.call(e,c);else s.css(c)}},lt.fn.extend({position:function(){if(this[0]){var e,t,i={top:0,left:0},n=this[0];if("fixed"===lt.css(n,"position"))t=n.getBoundingClientRect();else{if(e=this.offsetParent(),t=this.offset(),!lt.nodeName(e[0],"html"))i=e.offset();i.top+=lt.css(e[0],"borderTopWidth",!0),i.left+=lt.css(e[0],"borderLeftWidth",!0)}return{top:t.top-i.top-lt.css(n,"marginTop",!0),left:t.left-i.left-lt.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||U.documentElement;e&&!lt.nodeName(e,"html")&&"static"===lt.css(e,"position");)e=e.offsetParent;return e||U.documentElement})}}),lt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,i){var n=/Y/.test(i);lt.fn[e]=function(r){return lt.access(this,function(e,r,a){var s=W(e);if(a===t)return s?i in s?s[i]:s.document.documentElement[r]:e[r];if(s)s.scrollTo(!n?a:lt(s).scrollLeft(),n?a:lt(s).scrollTop());else e[r]=a},e,r,arguments.length,null)}}),lt.each({Height:"height",Width:"width"},function(e,i){lt.each({padding:"inner"+e,content:i,"":"outer"+e},function(n,r){lt.fn[r]=function(r,a){var s=arguments.length&&(n||"boolean"!=typeof r),o=n||(r===!0||a===!0?"margin":"border");return lt.access(this,function(i,n,r){var a;if(lt.isWindow(i))return i.document.documentElement["client"+e];if(9===i.nodeType)return a=i.documentElement,Math.max(i.body["scroll"+e],a["scroll"+e],i.body["offset"+e],a["offset"+e],a["client"+e]);else return r===t?lt.css(i,n,o):lt.style(i,n,r,o)},i,s?r:t,s,null)}})}),"function"==typeof define&&define.amd)define("jquery/jquery.min",[],function(){return lt})}(window),define("jquery",["jquery/jquery.min"],function(e){return e}),define("esui/lib/dom",["require","jquery"],function(require){var e=require("jquery"),t={};return t.g=function(e){if(!e)return null;else return"string"==typeof e?document.getElementById(e):e},t.isInput=function(e){var t=e.nodeName.toLowerCase();return"input"===t||"select"===t||"textarea"===t},t.removeNode=function(i){if("string"==typeof i)i=t.g(i);e(i).remove()},t.insertAfter=function(t,i){return e(i).after(t),t},t.insertBefore=function(t,i){return e(i).before(t),t},t.getChildren=function(t){return e(t).children().toArray()},t.getComputedStyle=function(t,i){if(!t)return"";else return e(t).css(i)},t.getStyle=function(i,n){return n=e.camelCase(n),i.style[n]||(i.currentStyle?i.currentStyle[n]:"")||t.getComputedStyle(i,n)},t.getOffset=function(e){var t=e.getBoundingClientRect(),i={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top},n=document.documentElement.clientTop||document.body.clientTop||0,r=document.documentElement.clientLeft||document.body.clientLeft||0,a=window.pageYOffset||document.documentElement.scrollTop,s=window.pageXOffset||document.documentElement.scrollLeft;return i.top=i.top+a-n,i.bottom=i.bottom+a-n,i.left=i.left+s-r,i.right=i.right+s-r,i},t.getText=function(t){return e(t).text()},t.dom={},t.dom.first=function(i){i=t.g(i);var n=e(i).children(":first-child").get(0);return n||null},t.dom.last=function(i){i=t.g(i);var n=e(i).children(":last-child").get(0);return n||null},t.dom.next=function(i){i=t.g(i);var n=e(i).next().get(0);return n||null},t.dom.previous=function(i){i=t.g(i);var n=e(i).prev().get(0);return n||null},t.dom.contains=function(i,n){return i=t.g(i),n=t.g(n),e.contains(i,n)},t}),define("esui/lib/attribute",["require","./dom","jquery"],function(require){var e=require("./dom"),t=require("jquery"),i={};return i.hasAttribute=function(e,t){if(e.hasAttribute)return e.hasAttribute(t);else return e.attributes&&e.attributes[t]&&e.attributes[t].specified},i.setAttribute=function(i,n,r){return i=e.g(i),t(i).attr(n,r),i},i.getAttribute=function(i,n){return i=e.g(i),t(i).attr(n)},i.removeAttribute=function(i,n){i=e.g(i),t(i).removeAttr(n)},i}),define("esui/lib/class",["require","./dom","jquery"],function(require){var e=require("./dom"),t=require("jquery"),i={};return i.getClassList=function(e){return e.className?e.className.split(/\s+/):[]},i.hasClass=function(i,n){return i=e.g(i),t(i).hasClass(n)},i.addClass=function(i,n){return i=e.g(i),t(i).addClass(n),i},i.addClasses=function(i,n){return i=e.g(i),t(i).addClass(n.join(" ")),i},i.removeClass=function(i,n){return i=e.g(i),t(i).removeClass(n),i},i.removeClasses=function(i,n){return i=e.g(i),t(i).removeClass(n.join(" ")),i},i.toggleClass=function(i,n){return i=e.g(i),t(i).toggleClass(n),i},i}),define("moment/moment",["require","exports","module"],function(require,exports,module){(function(e){function t(e,t,i){switch(arguments.length){case 2:return null!=e?e:t;case 3:return null!=e?e:null!=t?t:i;default:throw new Error("Implement me")}}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function n(e,t){function i(){if(ct.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn)console.warn("Deprecation warning: "+e)}var n=!0;return d(function(){if(n)i(),n=!1;return t.apply(this,arguments)},t)}function r(e,t){return function(i){return h(e.call(this,i),t)}}function a(e,t){return function(i){return this.lang().ordinal(e.call(this,i),t)}}function s(){}function o(e){L(e),d(this,e)}function l(e){var t=y(e),i=t.year||0,n=t.quarter||0,r=t.month||0,a=t.week||0,s=t.day||0,o=t.hour||0,l=t.minute||0,d=t.second||0,u=t.millisecond||0;this._milliseconds=+u+1e3*d+6e4*l+36e5*o,this._days=+s+7*a,this._months=+r+3*n+12*i,this._data={},this._bubble()}function d(e,t){for(var i in t)if(t.hasOwnProperty(i))e[i]=t[i];if(t.hasOwnProperty("toString"))e.toString=t.toString;if(t.hasOwnProperty("valueOf"))e.valueOf=t.valueOf;return e}function u(e){var t,i={};for(t in e)if(e.hasOwnProperty(t)&&Mt.hasOwnProperty(t))i[t]=e[t];return i}function c(e){if(0>e)return Math.ceil(e);else return Math.floor(e)}function h(e,t,i){for(var n=""+Math.abs(e),r=e>=0;n.length<t;)n="0"+n;return(r?i?"+":"":"-")+n}function f(e,t,i,n){var r=t._milliseconds,a=t._days,s=t._months;if(n=null==n?!0:n,r)e._d.setTime(+e._d+r*i);if(a)ot(e,"Date",st(e,"Date")+a*i);if(s)at(e,st(e,"Month")+s*i);if(n)ct.updateOffset(e,a||s)}function p(e){return"[object Array]"===Object.prototype.toString.call(e)}function m(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function g(e,t,i){var n,r=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),s=0;for(n=0;r>n;n++)if(i&&e[n]!==t[n]||!i&&x(e[n])!==x(t[n]))s++;return s+a}function v(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=Zt[e]||Qt[t]||t}return e}function y(e){var t,i,n={};for(i in e)if(e.hasOwnProperty(i))if(t=v(i))n[t]=e[i];return n}function _(t){var i,n;if(0===t.indexOf("week"))i=7,n="day";else if(0===t.indexOf("month"))i=12,n="month";else return;ct[t]=function(r,a){var s,o,l=ct.fn._lang[t],d=[];if("number"==typeof r)a=r,r=e;if(o=function(e){var t=ct().utc().set(n,e);return l.call(ct.fn._lang,t,r||"")},null!=a)return o(a);else{for(s=0;i>s;s++)d.push(o(s));return d}}}function x(e){var t=+e,i=0;if(0!==t&&isFinite(t))if(t>=0)i=Math.floor(t);else i=Math.ceil(t);return i}function b(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function w(e,t,i){return tt(ct([e,11,31+t-i]),t,i).week}function M(e){return C(e)?366:365}function C(e){return e%4===0&&e%100!==0||e%400===0}function L(e){var t;if(e._a&&-2===e._pf.overflow){if(t=e._a[gt]<0||e._a[gt]>11?gt:e._a[vt]<1||e._a[vt]>b(e._a[mt],e._a[gt])?vt:e._a[yt]<0||e._a[yt]>23?yt:e._a[_t]<0||e._a[_t]>59?_t:e._a[xt]<0||e._a[xt]>59?xt:e._a[bt]<0||e._a[bt]>999?bt:-1,e._pf._overflowDayOfYear&&(mt>t||t>vt))t=vt;e._pf.overflow=t}}function T(e){if(null==e._isValid)if(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict)e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length;return e._isValid}function k(e){return e?e.toLowerCase().replace("_","-"):e}function D(e,t){return t._isUTC?ct(e).zone(t._offset||0):ct(e).local()}function Y(e,t){if(t.abbr=e,!wt[e])wt[e]=new s;return wt[e].set(t),wt[e]}function S(e){delete wt[e]}function P(e){var t,i,n,r,a=0,s=function(e){if(!wt[e]&&Ct)try{require("./lang/"+e)}catch(t){}return wt[e]};if(!e)return ct.fn._lang;if(!p(e)){if(i=s(e))return i;e=[e]}for(;a<e.length;){for(r=k(e[a]).split("-"),t=r.length,n=k(e[a+1]),n=n?n.split("-"):null;t>0;){if(i=s(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&g(r,n,!0)>=t-1)break;t--}a++}return ct.fn._lang}function I(e){if(e.match(/\[[\s\S]/))return e.replace(/^\[|\]$/g,"");else return e.replace(/\\/g,"")}function E(e){var t,i,n=e.match(Dt);for(t=0,i=n.length;i>t;t++)if(ri[n[t]])n[t]=ri[n[t]];else n[t]=I(n[t]);return function(r){var a="";for(t=0;i>t;t++)a+=n[t]instanceof Function?n[t].call(r,e):n[t];return a}}function N(e,t){if(!e.isValid())return e.lang().invalidDate();if(t=j(t,e.lang()),!ei[t])ei[t]=E(t);return ei[t](e)}function j(e,t){function i(e){return t.longDateFormat(e)||e}var n=5;for(Yt.lastIndex=0;n>=0&&Yt.test(e);)e=e.replace(Yt,i),Yt.lastIndex=0,n-=1;return e}function H(e,t){var i,n=t._strict;switch(e){case"Q":return Vt;case"DDDD":return Ft;case"YYYY":case"GGGG":case"gggg":return n?qt:It;case"Y":case"G":case"g":return Bt;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return n?Wt:Et;case"S":if(n)return Vt;case"SS":if(n)return Rt;case"SSS":if(n)return Ft;case"DDD":return Pt;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return jt;case"a":case"A":return P(t._l)._meridiemParse;case"X":return $t;case"Z":case"ZZ":return Ht;case"T":return Ot;case"SSSS":return Nt;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return n?Rt:St;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return St;case"Do":return At;default:return i=new RegExp(B(W(e.replace("\\","")),"i"))}}function O(e){e=e||"";var t=e.match(Ht)||[],i=t[t.length-1]||[],n=(i+"").match(Jt)||["-",0,0],r=+(60*n[1])+x(n[2]);return"+"===n[0]?-r:r}function $(e,t,i){var n,r=i._a;switch(e){case"Q":if(null!=t)r[gt]=3*(x(t)-1);break;case"M":case"MM":if(null!=t)r[gt]=x(t)-1;break;case"MMM":case"MMMM":if(n=P(i._l).monthsParse(t),null!=n)r[gt]=n;else i._pf.invalidMonth=t;break;case"D":case"DD":if(null!=t)r[vt]=x(t);break;case"Do":if(null!=t)r[vt]=x(parseInt(t,10));break;case"DDD":case"DDDD":if(null!=t)i._dayOfYear=x(t);break;case"YY":r[mt]=ct.parseTwoDigitYear(t);break;case"YYYY":case"YYYYY":case"YYYYYY":r[mt]=x(t);break;case"a":case"A":i._isPm=P(i._l).isPM(t);break;case"H":case"HH":case"h":case"hh":r[yt]=x(t);break;case"m":case"mm":r[_t]=x(t);break;case"s":case"ss":r[xt]=x(t);break;case"S":case"SS":case"SSS":case"SSSS":r[bt]=x(1e3*("0."+t));break;case"X":i._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":i._useUTC=!0,i._tzm=O(t);break;case"dd":case"ddd":case"dddd":if(n=P(i._l).weekdaysParse(t),null!=n)i._w=i._w||{},i._w.d=n;else i._pf.invalidWeekday=t;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":e=e.substr(0,1);case"gggg":case"GGGG":case"GGGGG":if(e=e.substr(0,2),t)i._w=i._w||{},i._w[e]=x(t);break;case"gg":case"GG":i._w=i._w||{},i._w[e]=ct.parseTwoDigitYear(t)}}function A(e){var i,n,r,a,s,o,l,d;if(i=e._w,null!=i.GG||null!=i.W||null!=i.E)s=1,o=4,n=t(i.GG,e._a[mt],tt(ct(),1,4).year),r=t(i.W,1),a=t(i.E,1);else if(d=P(e._l),s=d._week.dow,o=d._week.doy,n=t(i.gg,e._a[mt],tt(ct(),s,o).year),r=t(i.w,1),null!=i.d){if(a=i.d,s>a)++r}else if(null!=i.e)a=i.e+s;else a=s;l=it(n,r,a,o,s),e._a[mt]=l.year,e._dayOfYear=l.dayOfYear}function V(e){var i,n,r,a,s=[];if(!e._d){if(r=F(e),e._w&&null==e._a[vt]&&null==e._a[gt])A(e);if(e._dayOfYear){if(a=t(e._a[mt],r[mt]),e._dayOfYear>M(a))e._pf._overflowDayOfYear=!0;n=K(a,0,e._dayOfYear),e._a[gt]=n.getUTCMonth(),e._a[vt]=n.getUTCDate()}for(i=0;3>i&&null==e._a[i];++i)e._a[i]=s[i]=r[i];for(;7>i;i++)e._a[i]=s[i]=null==e._a[i]?2===i?1:0:e._a[i];if(e._d=(e._useUTC?K:J).apply(null,s),null!=e._tzm)e._d.setUTCMinutes(e._d.getUTCMinutes()+e._tzm)}}function R(e){var t;if(!e._d)t=y(e._i),e._a=[t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond],V(e)}function F(e){var t=new Date;if(e._useUTC)return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()];else return[t.getFullYear(),t.getMonth(),t.getDate()]}function q(e){if(e._f===ct.ISO_8601)return void G(e);e._a=[],e._pf.empty=!0;var t,i,n,r,a,s=P(e._l),o=""+e._i,l=o.length,d=0;for(n=j(e._f,s).match(Dt)||[],t=0;t<n.length;t++){if(r=n[t],i=(o.match(H(r,e))||[])[0]){if(a=o.substr(0,o.indexOf(i)),a.length>0)e._pf.unusedInput.push(a);o=o.slice(o.indexOf(i)+i.length),d+=i.length}if(ri[r]){if(i)e._pf.empty=!1;else e._pf.unusedTokens.push(r);$(r,i,e)}else if(e._strict&&!i)e._pf.unusedTokens.push(r)}if(e._pf.charsLeftOver=l-d,o.length>0)e._pf.unusedInput.push(o);if(e._isPm&&e._a[yt]<12)e._a[yt]+=12;if(e._isPm===!1&&12===e._a[yt])e._a[yt]=0;V(e),L(e)}function W(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,i,n,r){return t||i||n||r})}function B(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function z(e){var t,n,r,a,s;if(0===e._f.length)return e._pf.invalidFormat=!0,void(e._d=new Date(0/0));for(a=0;a<e._f.length;a++)if(s=0,t=d({},e),t._pf=i(),t._f=e._f[a],q(t),T(t)){if(s+=t._pf.charsLeftOver,s+=10*t._pf.unusedTokens.length,t._pf.score=s,null==r||r>s)r=s,n=t}else;d(e,n||t)}function G(e){var t,i,n=e._i,r=zt.exec(n);if(r){for(e._pf.iso=!0,t=0,i=Ut.length;i>t;t++)if(Ut[t][1].exec(n)){e._f=Ut[t][0]+(r[6]||" ");break}for(t=0,i=Xt.length;i>t;t++)if(Xt[t][1].exec(n)){e._f+=Xt[t][0];break}if(n.match(Ht))e._f+="Z";q(e)}else e._isValid=!1}function U(e){if(G(e),e._isValid===!1)delete e._isValid,ct.createFromInputFallback(e)}function X(t){var i=t._i,n=Lt.exec(i);if(i===e)t._d=new Date;else if(n)t._d=new Date(+n[1]);else if("string"==typeof i)U(t);else if(p(i))t._a=i.slice(0),V(t);else if(m(i))t._d=new Date(+i);else if("object"==typeof i)R(t);else if("number"==typeof i)t._d=new Date(i);else ct.createFromInputFallback(t)}function J(e,t,i,n,r,a,s){var o=new Date(e,t,i,n,r,a,s);if(1970>e)o.setFullYear(e);return o}function K(e){var t=new Date(Date.UTC.apply(null,arguments));if(1970>e)t.setUTCFullYear(e);return t}function Z(e,t){if("string"==typeof e)if(!isNaN(e))e=parseInt(e,10);else if(e=t.weekdaysParse(e),"number"!=typeof e)return null;return e}function Q(e,t,i,n,r){return r.relativeTime(t||1,!!i,e,n)}function et(e,t,i){var n=pt(Math.abs(e)/1e3),r=pt(n/60),a=pt(r/60),s=pt(a/24),o=pt(s/365),l=n<ti.s&&["s",n]||1===r&&["m"]||r<ti.m&&["mm",r]||1===a&&["h"]||a<ti.h&&["hh",a]||1===s&&["d"]||s<=ti.dd&&["dd",s]||s<=ti.dm&&["M"]||s<ti.dy&&["MM",pt(s/30)]||1===o&&["y"]||["yy",o];return l[2]=t,l[3]=e>0,l[4]=i,Q.apply({},l)}function tt(e,t,i){var n,r=i-t,a=i-e.day();if(a>r)a-=7;if(r-7>a)a+=7;return n=ct(e).add("d",a),{week:Math.ceil(n.dayOfYear()/7),year:n.year()}}function it(e,t,i,n,r){var a,s,o=K(e,0,1).getUTCDay();return o=0===o?7:o,i=null!=i?i:r,a=r-o+(o>n?7:0)-(r>o?7:0),s=7*(t-1)+(i-r)+a+1,{year:s>0?e:e-1,dayOfYear:s>0?s:M(e-1)+s}}function nt(t){var i=t._i,n=t._f;if(null===i||n===e&&""===i)return ct.invalid({nullInput:!0});if("string"==typeof i)t._i=i=P().preparse(i);if(ct.isMoment(i))t=u(i),t._d=new Date(+i._d);else if(n)if(p(n))z(t);else q(t);else X(t);return new o(t)}function rt(e,t){var i,n;if(1===t.length&&p(t[0]))t=t[0];if(!t.length)return ct();for(i=t[0],n=1;n<t.length;++n)if(t[n][e](i))i=t[n];return i}function at(e,t){var i;if("string"==typeof t)if(t=e.lang().monthsParse(t),"number"!=typeof t)return e;return i=Math.min(e.date(),b(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,i),e}function st(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function ot(e,t,i){if("Month"===t)return at(e,i);else return e._d["set"+(e._isUTC?"UTC":"")+t](i)}function lt(e,t){return function(i){if(null!=i)return ot(this,e,i),ct.updateOffset(this,t),this;else return st(this,e)}}function dt(e){ct.duration.fn[e]=function(){return this._data[e]}}function ut(e,t){ct.duration.fn["as"+e]=function(){return+this/t}}for(var ct,ht,ft="2.7.0",pt=Math.round,mt=0,gt=1,vt=2,yt=3,_t=4,xt=5,bt=6,wt={},Mt={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_tzm:null,_isUTC:null,_offset:null,_pf:null,_lang:null},Ct="undefined"!=typeof module&&module.exports,Lt=/^\/?Date\((\-?\d+)/i,Tt=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,kt=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Dt=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,Yt=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,St=/\d\d?/,Pt=/\d{1,3}/,It=/\d{1,4}/,Et=/[+\-]?\d{1,6}/,Nt=/\d+/,jt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Ht=/Z|[\+\-]\d\d:?\d\d/gi,Ot=/T/i,$t=/[\+\-]?\d+(\.\d{1,3})?/,At=/\d{1,2}/,Vt=/\d/,Rt=/\d\d/,Ft=/\d{3}/,qt=/\d{4}/,Wt=/[+-]?\d{6}/,Bt=/[+-]?\d+/,zt=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Gt="YYYY-MM-DDTHH:mm:ssZ",Ut=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],Xt=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Jt=/([\+\-]|\d\d)/gi,Kt=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),Zt={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},Qt={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},ei={},ti={s:45,m:45,h:22,dd:25,dm:45,dy:345},ii="DDD w W M D d".split(" "),ni="M D H h m s w W".split(" "),ri={M:function(){return this.month()+1},MMM:function(e){return this.lang().monthsShort(this,e)},MMMM:function(e){return this.lang().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.lang().weekdaysMin(this,e)},ddd:function(e){return this.lang().weekdaysShort(this,e)},dddd:function(e){return this.lang().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return h(this.year()%100,2)},YYYY:function(){return h(this.year(),4)},YYYYY:function(){return h(this.year(),5)},YYYYYY:function(){var e=this.year(),t=e>=0?"+":"-";return t+h(Math.abs(e),6)},gg:function(){return h(this.weekYear()%100,2)},gggg:function(){return h(this.weekYear(),4)},ggggg:function(){return h(this.weekYear(),5)},GG:function(){return h(this.isoWeekYear()%100,2)},GGGG:function(){return h(this.isoWeekYear(),4)},GGGGG:function(){return h(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return x(this.milliseconds()/100)},SS:function(){return h(x(this.milliseconds()/10),2)},SSS:function(){return h(this.milliseconds(),3)},SSSS:function(){return h(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";if(0>e)e=-e,t="-";return t+h(x(e/60),2)+":"+h(x(e)%60,2)},ZZ:function(){var e=-this.zone(),t="+";if(0>e)e=-e,t="-";return t+h(x(e/60),2)+h(x(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},ai=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];ii.length;)ht=ii.pop(),ri[ht+"o"]=a(ri[ht],ht);for(;ni.length;)ht=ni.pop(),ri[ht+ht]=r(ri[ht],2);
for(ri.DDDD=r(ri.DDD,3),d(s.prototype,{set:function(e){var t,i;for(i in e)if(t=e[i],"function"==typeof t)this[i]=t;else this["_"+i]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var t,i,n;if(!this._monthsParse)this._monthsParse=[];for(t=0;12>t;t++){if(!this._monthsParse[t])i=ct.utc([2e3,t]),n="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[t]=new RegExp(n.replace(".",""),"i");if(this._monthsParse[t].test(e))return t}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,i,n;if(!this._weekdaysParse)this._weekdaysParse=[];for(t=0;7>t;t++){if(!this._weekdaysParse[t])i=ct([2e3,1]).day(t),n="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[t]=new RegExp(n.replace(".",""),"i");if(this._weekdaysParse[t].test(e))return t}},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];if(!t&&this._longDateFormat[e.toUpperCase()])t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t;return t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,i){if(e>11)return i?"pm":"PM";else return i?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var i=this._calendar[e];return"function"==typeof i?i.apply(t):i},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,i,n){var r=this._relativeTime[i];return"function"==typeof r?r(e,t,i,n):r.replace(/%d/i,e)},pastFuture:function(e,t){var i=this._relativeTime[e>0?"future":"past"];return"function"==typeof i?i(t):i.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return tt(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),ct=function(t,n,r,a){var s;if("boolean"==typeof r)a=r,r=e;return s={},s._isAMomentObject=!0,s._i=t,s._f=n,s._l=r,s._strict=a,s._isUTC=!1,s._pf=i(),nt(s)},ct.suppressDeprecationWarnings=!1,ct.createFromInputFallback=n("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i)}),ct.min=function(){var e=[].slice.call(arguments,0);return rt("isBefore",e)},ct.max=function(){var e=[].slice.call(arguments,0);return rt("isAfter",e)},ct.utc=function(t,n,r,a){var s;if("boolean"==typeof r)a=r,r=e;return s={},s._isAMomentObject=!0,s._useUTC=!0,s._isUTC=!0,s._l=r,s._i=t,s._f=n,s._strict=a,s._pf=i(),nt(s).utc()},ct.unix=function(e){return ct(1e3*e)},ct.duration=function(e,t){var i,n,r,a=e,s=null;if(ct.isDuration(e))a={ms:e._milliseconds,d:e._days,M:e._months};else if("number"==typeof e)if(a={},t)a[t]=e;else a.milliseconds=e;else if(s=Tt.exec(e))i="-"===s[1]?-1:1,a={y:0,d:x(s[vt])*i,h:x(s[yt])*i,m:x(s[_t])*i,s:x(s[xt])*i,ms:x(s[bt])*i};else if(s=kt.exec(e))i="-"===s[1]?-1:1,r=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*i},a={y:r(s[2]),M:r(s[3]),d:r(s[4]),h:r(s[5]),m:r(s[6]),s:r(s[7]),w:r(s[8])};if(n=new l(a),ct.isDuration(e)&&e.hasOwnProperty("_lang"))n._lang=e._lang;return n},ct.version=ft,ct.defaultFormat=Gt,ct.ISO_8601=function(){},ct.momentProperties=Mt,ct.updateOffset=function(){},ct.relativeTimeThreshold=function(t,i){if(ti[t]===e)return!1;else return ti[t]=i,!0},ct.lang=function(e,t){var i;if(!e)return ct.fn._lang._abbr;if(t)Y(k(e),t);else if(null===t)S(e),e="en";else if(!wt[e])P(e);return i=ct.duration.fn._lang=ct.fn._lang=P(e),i._abbr},ct.langData=function(e){if(e&&e._lang&&e._lang._abbr)e=e._lang._abbr;return P(e)},ct.isMoment=function(e){return e instanceof o||null!=e&&e.hasOwnProperty("_isAMomentObject")},ct.isDuration=function(e){return e instanceof l},ht=ai.length-1;ht>=0;--ht)_(ai[ht]);ct.normalizeUnits=function(e){return v(e)},ct.invalid=function(e){var t=ct.utc(0/0);if(null!=e)d(t._pf,e);else t._pf.userInvalidated=!0;return t},ct.parseZone=function(){return ct.apply(null,arguments).parseZone()},ct.parseTwoDigitYear=function(e){return x(e)+(x(e)>68?1900:2e3)},d(ct.fn=o.prototype,{clone:function(){return ct(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var e=ct(this).utc();if(0<e.year()&&e.year()<=9999)return N(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]");else return N(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return T(this)},isDSTShifted:function(){if(this._a)return this.isValid()&&g(this._a,(this._isUTC?ct.utc(this._a):ct(this._a)).toArray())>0;else return!1},parsingFlags:function(){return d({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(e){var t=N(this,e||ct.defaultFormat);return this.lang().postformat(t)},add:function(e,t){var i;if("string"==typeof e&&"string"==typeof t)i=ct.duration(isNaN(+t)?+e:+t,isNaN(+t)?t:e);else if("string"==typeof e)i=ct.duration(+t,e);else i=ct.duration(e,t);return f(this,i,1),this},subtract:function(e,t){var i;if("string"==typeof e&&"string"==typeof t)i=ct.duration(isNaN(+t)?+e:+t,isNaN(+t)?t:e);else if("string"==typeof e)i=ct.duration(+t,e);else i=ct.duration(e,t);return f(this,i,-1),this},diff:function(e,t,i){var n,r,a=D(e,this),s=6e4*(this.zone()-a.zone());if(t=v(t),"year"===t||"month"===t){if(n=432e5*(this.daysInMonth()+a.daysInMonth()),r=12*(this.year()-a.year())+(this.month()-a.month()),r+=(this-ct(this).startOf("month")-(a-ct(a).startOf("month")))/n,r-=6e4*(this.zone()-ct(this).startOf("month").zone()-(a.zone()-ct(a).startOf("month").zone()))/n,"year"===t)r/=12}else n=this-a,r="second"===t?n/1e3:"minute"===t?n/6e4:"hour"===t?n/36e5:"day"===t?(n-s)/864e5:"week"===t?(n-s)/6048e5:n;return i?r:c(r)},from:function(e,t){return ct.duration(this.diff(e)).lang(this.lang()._abbr).humanize(!t)},fromNow:function(e){return this.from(ct(),e)},calendar:function(e){var t=e||ct(),i=D(t,this).startOf("day"),n=this.diff(i,"days",!0),r=-6>n?"sameElse":-1>n?"lastWeek":0>n?"lastDay":1>n?"sameDay":2>n?"nextDay":7>n?"nextWeek":"sameElse";return this.format(this.lang().calendar(r,this))},isLeapYear:function(){return C(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();if(null!=e)return e=Z(e,this.lang()),this.add({d:e-t});else return t},month:lt("Month",!0),startOf:function(e){switch(e=v(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}if("week"===e)this.weekday(0);else if("isoWeek"===e)this.isoWeekday(1);if("quarter"===e)this.month(3*Math.floor(this.month()/3));return this},endOf:function(e){return e=v(e),this.startOf(e).add("isoWeek"===e?"week":e,1).subtract("ms",1)},isAfter:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)>+ct(e).startOf(t)},isBefore:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)<+ct(e).startOf(t)},isSame:function(e,t){return t=t||"ms",+this.clone().startOf(t)===+D(e,this).startOf(t)},min:n("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(e){return e=ct.apply(null,arguments),this>e?this:e}),max:n("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(e){return e=ct.apply(null,arguments),e>this?this:e}),zone:function(e,t){var i=this._offset||0;if(null!=e){if("string"==typeof e)e=O(e);if(Math.abs(e)<16)e=60*e;if(this._offset=e,this._isUTC=!0,i!==e)if(!t||this._changeInProgress)f(this,ct.duration(i-e,"m"),1,!1);else if(!this._changeInProgress)this._changeInProgress=!0,ct.updateOffset(this,!0),this._changeInProgress=null}else return this._isUTC?i:this._d.getTimezoneOffset();return this},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){if(this._tzm)this.zone(this._tzm);else if("string"==typeof this._i)this.zone(this._i);return this},hasAlignedHourOffset:function(e){if(!e)e=0;else e=ct(e).zone();return(this.zone()-e)%60===0},daysInMonth:function(){return b(this.year(),this.month())},dayOfYear:function(e){var t=pt((ct(this).startOf("day")-ct(this).startOf("year"))/864e5)+1;return null==e?t:this.add("d",e-t)},quarter:function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},weekYear:function(e){var t=tt(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==e?t:this.add("y",e-t)},isoWeekYear:function(e){var t=tt(this,1,4).year;return null==e?t:this.add("y",e-t)},week:function(e){var t=this.lang().week(this);return null==e?t:this.add("d",7*(e-t))},isoWeek:function(e){var t=tt(this,1,4).week;return null==e?t:this.add("d",7*(e-t))},weekday:function(e){var t=(this.day()+7-this.lang()._week.dow)%7;return null==e?t:this.add("d",e-t)},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},isoWeeksInYear:function(){return w(this.year(),1,4)},weeksInYear:function(){var e=this._lang._week;return w(this.year(),e.dow,e.doy)},get:function(e){return e=v(e),this[e]()},set:function(e,t){if(e=v(e),"function"==typeof this[e])this[e](t);return this},lang:function(t){if(t===e)return this._lang;else return this._lang=P(t),this}}),ct.fn.millisecond=ct.fn.milliseconds=lt("Milliseconds",!1),ct.fn.second=ct.fn.seconds=lt("Seconds",!1),ct.fn.minute=ct.fn.minutes=lt("Minutes",!1),ct.fn.hour=ct.fn.hours=lt("Hours",!0),ct.fn.date=lt("Date",!0),ct.fn.dates=n("dates accessor is deprecated. Use date instead.",lt("Date",!0)),ct.fn.year=lt("FullYear",!0),ct.fn.years=n("years accessor is deprecated. Use year instead.",lt("FullYear",!0)),ct.fn.days=ct.fn.day,ct.fn.months=ct.fn.month,ct.fn.weeks=ct.fn.week,ct.fn.isoWeeks=ct.fn.isoWeek,ct.fn.quarters=ct.fn.quarter,ct.fn.toJSON=ct.fn.toISOString,d(ct.duration.fn=l.prototype,{_bubble:function(){var e,t,i,n,r=this._milliseconds,a=this._days,s=this._months,o=this._data;o.milliseconds=r%1e3,e=c(r/1e3),o.seconds=e%60,t=c(e/60),o.minutes=t%60,i=c(t/60),o.hours=i%24,a+=c(i/24),o.days=a%30,s+=c(a/30),o.months=s%12,n=c(s/12),o.years=n},weeks:function(){return c(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*x(this._months/12)},humanize:function(e){var t=+this,i=et(t,!e,this.lang());if(e)i=this.lang().pastFuture(t,i);return this.lang().postformat(i)},add:function(e,t){var i=ct.duration(e,t);return this._milliseconds+=i._milliseconds,this._days+=i._days,this._months+=i._months,this._bubble(),this},subtract:function(e,t){var i=ct.duration(e,t);return this._milliseconds-=i._milliseconds,this._days-=i._days,this._months-=i._months,this._bubble(),this},get:function(e){return e=v(e),this[e.toLowerCase()+"s"]()},as:function(e){return e=v(e),this["as"+e.charAt(0).toUpperCase()+e.slice(1)+"s"]()},lang:ct.fn.lang,toIsoString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),i=Math.abs(this.days()),n=Math.abs(this.hours()),r=Math.abs(this.minutes()),a=Math.abs(this.seconds()+this.milliseconds()/1e3);if(!this.asSeconds())return"P0D";else return(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(i?i+"D":"")+(n||r||a?"T":"")+(n?n+"H":"")+(r?r+"M":"")+(a?a+"S":"")}});for(ht in Kt)if(Kt.hasOwnProperty(ht))ut(ht,Kt[ht]),dt(ht.toLowerCase());if(ut("Weeks",6048e5),ct.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},ct.lang("en",{ordinal:function(e){var t=e%10,i=1===x(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+i}}),Ct)module.exports=ct}).call(this)}),define("moment",["moment/moment"],function(e){return e}),define("esui/lib/date",["require","moment"],function(require){var e=require("moment"),t={};return t.dateFormats=["YYYYMMDDHHmmss","YYYY-MM-DD HH:mm:ss","YYYY/MM/DD HH:mm:ss","YYYY-MM-DDTHH:mm:ss.SSSZ"],t.format=function(t,i){return e(t).format(i)},t.parse=function(i,n){var r=e(i,n||t.dateFormats);return r.toDate()},{date:t}}),define("esui/lib/event",["require","jquery"],function(require){var e=require("jquery");return{on:function(t,i,n){e(t).bind(i,n)},un:function(t,i,n){e(t).unbind(i,n)}}}),define("esui/lib/lang",["require","underscore"],function(require){var e=require("underscore"),t={},i=8785925;return t.getGUID=function(e){return e=e||"esui",e+i++},t.inherits=function(e,t){var i=function(){};i.prototype=t.prototype;var n=e.prototype,r=e.prototype=new i;for(var a in n)if(n.hasOwnProperty(a))r[a]=n[a];return e.prototype.constructor=e,e.superClass=t.prototype,e},t.deepClone=function(i){if(!e.isObject(i)||e.isFunction(i)||e.isRegExp(i))return i;if(e.isArray(i))return e.map(i,t.deepClone);var n={};return e.each(i,function(e,i){n[i]=t.deepClone(e)}),n},t.toDictionary=function(t){var i={};return e.each(t,function(e){i[e]=!0}),i},t.clone=t.deepClone,t.isArray=e.isArray,t.toArray=e.toArray,t.extend=e.extend,t.bind=e.bind,t.curry=e.partial,t.indexOf=e.indexOf,t.decodeHTML=e.unescape,t.encodeHTML=e.escape,t}),define("esui/lib/page",["require"],function(){var e=document.documentElement,t=document.body,i="BackCompat"===document.compatMode?t:e,n={};return n.getWidth=function(){return Math.max(e?e.scrollWidth:0,t?t.scrollWidth:0,i?i.clientWidth:0,0)},n.getHeight=function(){return Math.max(e?e.scrollHeight:0,t?t.scrollHeight:0,i?i.clientHeight:0,0)},n.getViewWidth=function(){return i?i.clientWidth:0},n.getViewHeight=function(){return i?i.clientHeight:0},n.getScrollTop=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},n.getScrollLeft=function(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0},n.getClientTop=function(){return document.documentElement.clientTop||document.body.clientTop||0},n.getClientLeft=function(){return document.documentElement.clientLeft||document.body.clientLeft||0},{page:n}}),define("esui/lib/string",["require","underscore"],function(require){var e=require("underscore"),t={},i=/^[\s\xa0\u3000]+|[\u3000\xa0\s]+$/g;return t.trim=function(e){if(!e)return"";else return String(e).replace(i,"")},t.format=function(e,t){if(!e)return"";if(null==t)return e;else return e.replace(/\$\{(.+?)\}/g,function(e,i){var n=t[i];if("function"==typeof n)n=n(i);return null==n?"":n})},t.camelize=function(e){if(!e)return"";else return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()})},t.pascalize=function(e){if(!e)return"";else return e.charAt(0).toUpperCase()+t.camelize(e.slice(1))},t.splitTokenList=function(i){if(!i)return[];if(!e.isArray(i))return e.chain(i.split(/[,\s]/)).map(t.trim).compact().value()},t}),define("esui/lib",["require","underscore","./lib/attribute","./lib/class","./lib/date","./lib/dom","./lib/event","./lib/lang","./lib/page","./lib/string"],function(require){var e={},t=require("underscore");if(/msie (\d+\.\d+)/i.test(navigator.userAgent))e.ie=document.documentMode||+RegExp.$1;return t.extend(e,require("./lib/attribute"),require("./lib/class"),require("./lib/date"),require("./lib/dom"),require("./lib/event"),require("./lib/lang"),require("./lib/page"),require("./lib/string")),e}),void function(e){e("eoo/oo",[],function(){function e(){return e.create.apply(e,arguments)}function t(t){var i=function(){return i.prototype.constructor.apply(this,arguments)};a.prototype=t.prototype;var n=i.prototype=new a;if(n.$self=i,!("$super"in n))n.$super=e.prototype.$super;return i.$superClass=t,i}function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function n(e,t){for(var n in e)i(e,n)&&t(e[n],n,e);if(l)for(var r=d.length-1;r>-1;--r){var a=d[r];i(e,a)&&t(e[a],a,e)}}function r(){return this.prototype.constructor.toString()}var a=function(){},s="__eooName__",o="__eooOwner__";e.create=function(i,a){if(a=a||{},i=i||e,"object"==typeof i)a=i,i=e;var l=t(i),d=l.prototype;return n(a,function(e,t){if("function"==typeof e)e[s]=t,e[o]=l;d[t]=e}),l.toString=r,l},e.static="function"==typeof Object.create?Object.create:function(e){if(arguments.length>1)throw new Error("Second argument not supported");if(!(e instanceof Object))throw new TypeError("Argument must be an object");return a.prototype=e,new a},e.toString=function(){return"function Class() { [native code] }"},e.prototype={constructor:function(){},$self:e,$superClass:Object,$super:function(e){var t=this.$super.caller,i=t[s],n=t[o].$superClass,r=n.prototype[i];if("function"!=typeof r)throw new TypeError("Call the super class's "+i+", but it is not a function!");return r.apply(this,e)}};var l=!{toString:1}.propertyIsEnumerable("toString"),d=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toString","toLocaleString","valueOf"];return e})}("function"==typeof define&&define.amd?define:function(e){module.exports=e(require)}),void function(e){e("eoo/defineAccessor",["require"],function(){function e(e){var t="return typeof this."+i+" === 'object' ? this."+i+"['"+e+"'] : undefined;";return new Function(t)}function t(e){var t="this."+i+" = this."+i+" || {};\nthis."+i+"['"+e+"'] = value;";return new Function("value",t)}var i="__eooPrivateMembers__";return function(i,n,r){var a=n.charAt(0).toUpperCase()+n.slice(1),s="get"+a,o="set"+a;if(!r)i[s]=!r||"function"!=typeof r.get?e(n):r.get,i[o]=!r||"function"!=typeof r.set?t(n):r.set;else"function"==typeof r.get&&(i[s]=r.get),"function"==typeof r.set&&(i[o]=r.set)}})}("function"==typeof define&&define.amd?define:function(e){module.exports=e(require)}),void function(e){e("eoo/main",["require","./oo","./defineAccessor"],function(require){var e=require("./oo");return e.defineAccessor=require("./defineAccessor"),e})}("function"==typeof define&&define.amd?define:function(e){module.exports=e(require)}),define("eoo",["eoo/main"],function(e){return e}),define("esui/ControlCollection",["require","underscore"],function(require){function e(){this.length=0}var t=require("underscore");return e.prototype.splice=Array.prototype.splice,e.prototype.add=function(e){var i=t.indexOf(this,e);if(0>i)[].push.call(this,e)},e.prototype.remove=function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return void[].splice.call(this,t,1)},e.prototype.each=function(e,i){t.each(this,function(t,n){e.call(i||t,t,n,this)})},e.prototype.invoke=function(){var e=t.clone([this]);return e.push.apply(e,arguments),t.invoke.apply(t,e)},t.each(["enable","disable","setDisabled","show","hide","toggle","addChild","removeChild","set","setProperties","addState","removeState","toggleState","on","off","fire","dispose","destroy","setViewContext","render","repaint","appendTo","insertBefore"],function(t){e.prototype[t]=function(){var e=[t];e.push.apply(e,arguments);var i=this.invoke.apply(this,e);return i&&i[0]}}),t.each(["isDisabled","isHidden","hasState","get","getCategory","getChild","getChildSafely"],function(t){e.prototype[t]=function(){var e=this[0];return e?e[t].apply(e,arguments):void 0}}),e}),define("esui/SafeWrapper",["require","eoo","underscore"],function(require){var e=require("eoo"),t=require("underscore"),i=e.create({getCategory:function(){return"control"},getChildSafely:function(e){var t=new i;if(t.childName=e,t.parent=this,this.viewContext)t.viewContext=this.viewContext;return t}});return t.each(["enable","disable","setDisabled","show","hide","toggle","setValue","setRawValue","addChild","removeChild","set","addState","removeState","toggleState","on","off","fire","dispose","destroy","initOptions","createMain","initStructure","setViewContext","render","repaint","appendTo","insertBefore","initChildren","disposeChildren"],function(e){i.prototype[e]=function(){}}),t.each(["isDisabled","isHidden","hasState","isPropertyChanged"],function(e){i.prototype[e]=function(){return!1}}),t.each(["getRawValue","getChild","get"],function(e){i.prototype[e]=function(){return null}}),t.each(["getValue"],function(e){i.prototype[e]=function(){return""}}),t.each(["setProperties"],function(e){i.prototype[e]=function(){return{}}}),i}),define("esui/ViewContext",["require","eoo","./ControlCollection","underscore","./SafeWrapper"],function(require){function e(e,t){a.prototype.add.call(t,e)}function t(e,t){a.prototype.remove.call(t,e)}function i(e){var t=e.get("group");return t?t.split(/[\t\r\n ]/):[]}function n(){return"vt"+d++}var r=require("eoo"),a=require("./ControlCollection"),s=require("underscore"),o=require("./SafeWrapper"),l=r.create(a,{constructor:function(){this.$super(arguments),this.name=name},add:void 0,remove:void 0,disposeGroup:function(){for(var e=0;e<this.length;e++)delete this[e];this.length=0}}),d=8587523,u={},c=r.create({constructor:function(e){if(this.controls={},this.groups={},e=e||n(),u.hasOwnProperty(e)){for(var t=1,i=e+"-";u.hasOwnProperty(i+t);)t++;e=i+t}this.id=e,u[this.id]=this},add:function(t){var n=this.controls[t.id];if(n){if(n===t)return;n.setViewContext(null)}this.controls[t.id]=t;for(var r=i(t),a=0;a<r.length;a++){var s=r[a];if(s){var o=this.getGroup(s);e(t,o)}else;}t.setViewContext(this)},remove:function(e){delete this.controls[e.id];for(var n=i(e),r=0;r<n.length;r++){var a=n[r];if(a){var s=this.getGroup(a);t(e,s)}else;}e.setViewContext(null)},get:function(e){return this.controls[e]},getControls:function(){return s.extend({},this.controls)},getSafely:function(e){var t=this.get(e);if(!t)t=new o,t.id=e,t.viewContext=this;return t},getGroup:function(e){if(!e)throw new Error("name is unspecified");var t=this.groups[e];if(!t)t=this.groups[e]=new l(e);return t},clean:function(){for(var e in this.controls)if(this.controls.hasOwnProperty(e)){var t=this.controls[e];if(t.dispose(),t.viewContext&&t.viewContext===this)this.remove(t)}for(var i in this.groups)if(this.groups.hasOwnProperty(i))this.groups[i].disposeGroup(),this.groups[i]=void 0},dispose:function(){this.clean(),delete u[this.id]}});return c.get=function(e){return u[e]||null},c}),define("esui/main",["require","./lib","underscore","jquery","./ViewContext","./ControlCollection"],function(require){function e(e,t){if("function"==typeof e){var i=e.prototype.type;if(i in t)throw new Error(i+" already exists!");t[i]=e}}function t(e,t,i){var n=i[e];if(n)return delete t.type,new n(t);else return null}var i=require("./lib"),n=require("underscore"),r=require("jquery"),a={};a.version="3.2.0-beta.1";var s=require("./ViewContext"),o=new s("default");a.getViewContext=function(){return o};var l={uiPrefix:"data-ui",extensionPrefix:"data-ui-extension",customElementPrefix:"esui",instanceAttr:"data-ctrl-id",viewContextAttr:"data-ctrl-view-context",uiClassPrefix:"ui",skinClassPrefix:"skin",stateClassPrefix:"state"};a.config=function(e){n.extend(l,e)},a.getConfig=function(e){return l[e]},a.parseAttribute=function(e,t,n){if(!e)return{};for(var r={},a=0,s=0;s<e.length;){for(;s<e.length&&":"!==e.charAt(s);)s++;if(s>=e.length)break;var o=i.trim(e.slice(a,s));for(s++,a=s;s<e.length&&";"!==e.charAt(s);)s++;for(var l=s+1;l<e.length;){var d=e.charAt(l);if(";"===d)s=l;if(":"===d)break;l++}var u=i.trim(e.slice(a,s));u=n?n(u):u,r[o]=t?t(u):u,s++,a=s}return r},a.getControlByDOM=function(e){if(!e)return null;var t,i=a.getConfig,n=e.getAttribute(i("instanceAttr")),r=e.getAttribute(i("viewContextAttr"));if(n&&r&&(t=s.get(r)))return t.get(n);else return null};var d={};a.register=function(t){e(t,d)},a.create=function(e,i){return t(e,i,d)},a.get=function(e){return o.get(e)},a.getSafely=function(e){return o.getSafely(e)};var u=require("./ControlCollection");a.wrap=function(){for(var e=new u,t=0;t<arguments.length;t++)e.add(arguments[t]);return e},a.init=function(e,t){function i(e){function t(e){return e.toUpperCase()}for(var i=1,n=e.length;n>i;i++)e[i]=e[i].replace(/^[a-z]/,t);return e.join("")}function s(e,t){for(var i in t)if(!(i in e))e[i]=t[i]}function o(e,t,n){if(0===t.length)s(e,a.parseAttribute(n,h,c));else e[i(t)]=h(c(n))}function d(e){var t=a.getConfig("customElementPrefix"),i=e.nodeName.toLowerCase(),n=i.indexOf(t);if(0===n){var r;return r=i.replace(/-(\S)/g,function(e,t){return t.toUpperCase()}),r=r.slice(t.length)}}e=e||document.body,t=t||{};var u=function(e){var t=/^[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)$/;if("true"===e)e=!0;else if("false"===e)e=!1;else if(t.test(e))e=+e;else if(/^'.+?'$/.test(e))e=e.slice(1,-1);return e},c=t.valueParser||u,h=t.valueReplacer||function(e){return e},f=a.getConfig("uiPrefix"),p=a.getConfig("extensionPrefix"),m=a.getConfig("customElementPrefix"),g=f.length,v=p.length,y=t.properties||{},_=[],x=m;if(n.isObject(r.expr[":"])&&!r.expr[":"][x])r.expr[":"][x]=function(e){return r(e).is("["+f+"],["+f+"-type]")||0===e.tagName.indexOf(m.toUpperCase()+"-")};return r(e).find(":"+x).each(function(e,i){if(!i.getAttribute(l.instanceAttr)){var r={},s={};n.each(i.attributes,function(e){var t,i=e.name,n=e.value;if(0===i.indexOf(p)){t=i.slice(v+1).split("-");var a=t[0];t.shift();var l=s[a];if(!l)l=s[a]={};o(l,t,n)}else if(0===i.indexOf(f))t=i.length===g?[]:i.slice(g+1).split("-"),o(r,t,n)});var u=r.type;if(!u)u=d(i),r.type=u;if(u){var c=r.id,m=c?y[c]:{};for(var x in m)if(m.hasOwnProperty(x))r[x]=h(m[x]);var b=r.extensions||[];r.extensions=b;for(var w in s)if(s.hasOwnProperty(w)){var M=s[w],C=a.createExtension(M.type,M);C&&b.push(C)}r.viewContext=t.viewContext,r.renderOptions=t,r.main=i;var L=a.create(u,r);if(L){if(_.push(L),t.parent)t.parent.addChild(L);L.render()}}}}),_};var c={};a.registerExtension=function(t){e(t,c)},a.createExtension=function(e,i){return t(e,i,c)};var h={};a.attachExtension=function(e,t){h[e]=t},a.createGlobalExtensions=function(){var e=[];for(var t in h)if(h.hasOwnProperty(t)){var i=a.createExtension(t,h[t]);i&&e.push(i)}return e};var f=[];return a.registerRule=function(e,t){f.push({type:e,priority:t}),f.sort(function(e,t){return e.priority-t.priority})},a.createRulesByControl=function(e){for(var t=[],i=0;i<f.length;i++){var n=f[i].type;if(null!=e.get(n.prototype.type))t.push(new n)}return t},a}),define("esui",["esui/main"],function(e){return e}),define("esui/helper/children",["require","underscore","../main"],function(require){var e=require("underscore"),t=require("../main"),i={};return i.initChildren=function(i,n){return i=i||this.control.main,n=e.extend({},this.control.renderOptions,n),n.viewContext=this.control.viewContext,n.parent=this.control,t.init(i,n)},i.disposeChildren=function(){var t=this.control.children.slice();e.each(t,function(e){e.dispose()}),this.control.children=[],this.control.childrenIndex={}},i.disableChildren=function(){e.each(this.control.children,function(e){e.disable()})},i.enableChildren=function(){e.each(this.control.children,function(e){e.enable()})},i}),define("esui/helper/dom",["require","underscore","../lib","../main","jquery"],function(require){function e(e){var t=e.styleType||e.type;return t.toLowerCase()}function t(){return[].slice.call(arguments,0).join("-")}var i=require("underscore"),n=require("../lib"),r=require("../main"),a="uiClassPrefix",s=require("jquery"),o={};o.getPartClasses=function(i){if(i&&this.partClassCache&&this.partClassCache.hasOwnProperty(i))return this.partClassCache[i].slice();var n=e(this.control),s=this.control.skin,o=r.getConfig(a),l=r.getConfig("skinClassPrefix"),d=[];if(i){if(d.push(t(o,n,i)),s)d.push(t(l,s,n,i));if(!this.partClassCache)this.partClassCache={};this.partClassCache[i]=d.slice()}else if(d.push(t(o,"ctrl")),d.push(t(o,n)),s)d.push(t(l,s),t(l,s,n));return d},o.getPartClassName=function(e){return this.getPartClasses(e).join(" ")},o.getPrimaryClassName=function(i){var n=e(this.control);if(i)return t(r.getConfig(a),n,i);else return t(r.getConfig(a),n)},o.getPrefixClass=function(e){var i=r.getConfig(a);return t(i,e)},o.getIconClass=function(e){var i="icon";if(e)return t(r.getConfig(a),i,e);else return t(r.getConfig(a),i)},o.addPartClasses=function(e,t){if("string"==typeof t)t=this.getPart(t);t=t||this.control.main,s(t).addClass(this.getPartClassName(e))},o.removePartClasses=function(e,t){if("string"==typeof t)t=this.getPart(t);t=t||this.control.main,s(t).removeClass(this.getPartClassName(e))},o.getStateClasses=function(i){if(this.stateClassCache&&this.stateClassCache.hasOwnProperty(i))return this.stateClassCache[i].slice();var n=e(this.control),s=r.getConfig,o=[t(s(a),n,i),t(s("stateClassPrefix"),i)],l=this.control.skin;if(l){var d=s("skinClassPrefix");o.push(t(d,l,i),t(d,l,n,i))}if(!this.stateClassCache)this.stateClassCache={},this.stateClassCache[i]=o.slice();return o},o.addStateClasses=function(e){var t=this.control.main;s(t).addClass(this.getStateClasses(e).join(" "))},o.removeStateClasses=function(e){var t=this.control.main;s(t).removeClass(this.getStateClasses(e).join(" "))},o.addVariantClasses=function(){var e=this,t=e.control.main,n=e.control.variants,r=[];i.each(n,function(t){r.push(e.getPrimaryClassName(t))}),s(t).addClass(r.join(" "))},o.getId=function(e){if(e=e?"-"+e:"",!this.control.domIDPrefix)this.control.domIDPrefix=this.control.viewContext&&this.control.viewContext.id;var t=this.control.domIDPrefix?this.control.domIDPrefix+"-":"";return"ctrl-"+t+this.control.id+e},o.createPart=function(e,t){t=t||"div";var i=document.createElement(t);return i.id=this.getId(e),this.addPartClasses(e,i),i},o.getPart=function(e){return n.g(this.getId(e))},o.isPart=function(e,t){var i=this.getPartClasses(t)[0];return n.hasClass(e,i)};var l={type:!0,name:!0,alt:!0,autocomplete:!0,autofocus:!0,checked:!0,dirname:!0,disabled:!0,form:!0,formaction:!0,formenctype:!0,formmethod:!0,formnovalidate:!0,formtarget:!0,width:!0,height:!0,inputmode:!0,list:!0,max:!0,maxlength:!0,min:!0,minlength:!0,multiple:!0,pattern:!0,placeholder:!0,readonly:!0,required:!0,size:!0,src:!0,step:!0,value:!0};o.replaceMain=function(e){e=e||this.control.createMain();var t=this.control.main,i=s(t);i.attr(r.getConfig("instanceAttr"),n.getGUID());for(var a=s(e),o=t.attributes,d=0;d<o.length;d++){var u=o[d],c=u.name;if(n.hasAttribute(t,c)&&!l.hasOwnProperty(c))if(a.attr(c,u.value),0===c.indexOf(r.getConfig("uiPrefix")))i.removeAttr(c),d--}return i.before(a),i.remove(),this.control.main=e,t};var d={name:{name:"name"},maxlength:{name:"maxLength",type:"number"},required:{name:"required",type:"boolean"},pattern:{name:"pattern"},min:{name:"min",type:"number"},max:{name:"max",type:"number"},autofocus:{name:"autoFocus",type:"boolean"},disabled:{name:"disabled",type:"boolean"},readonly:{name:"readOnly",type:"boolean"}};return o.extractOptionsFromInput=function(e,t){var r={},a=s(e);if(i.each(d,function(t,i){var s=n.hasAttribute(e,i);if(s){var o=a.attr(i);switch(t.type){case"boolean":o=s;break;case"number":o=parseInt(o,10)}r[t.name]=o
}}),n.hasAttribute(e,"value")||!a.is("select")&&e.value||a.is("textarea"))r.value=a.val();return i.defaults(t||{},r)},o}),define("esui/helper/event",["require","jquery","underscore"],function(require){function e(e,t){var i=function(e){var i=e.split(" ");return i=n.map(i,function(e){if(/\./.test(e))return e;else return e+"."+t}),i.join(" ")};if("string"==typeof e)return i(e);if("object"==typeof e)return n.map(e,function(t){var n={};return n[i(t)]=e[t],n}),e;else return void 0}function t(t,r,a,s,o,l){function d(){if(t.sikpStateCheck||!n.any(c.ignoreStates,function(e){return c.hasState(e)}))return("string"==typeof l?c[l]:l).apply(c,arguments);else return void 0}var u=this,c=u.control;if("string"==typeof r)r=u.getPart(r);if(null==o&&null==l)l=s,o=s=void 0;else if(null==l)if("string"==typeof s)l=o,o=void 0;else l=o,o=s,s=void 0;var h=i(r);c.domEvents.push(h);var f=e(a,c.type);if(t.once)h.one(f,s,o,d);else{if("string"!=typeof l)d.guid=l.guid=l.guid||d.guid||i.guid++;h.on(f,s,o,d)}}var i=require("jquery"),n=require("underscore"),r={};return r.addDOMEvent=function(e,n,r,a,s,o){if(i.isPlainObject(e))t.call(this,e,n,r,a,s,o);else t.call(this,{},e,n,r,a,s)},r.delegateDOMEvent=function(e,t,i){var n=function(e){this.fire(i||e.type,{},e)};this.addDOMEvent(e,t,n)},r.removeDOMEvent=function(e,t,n,r){if("string"==typeof e)e=this.getPart(e);if("string"!=typeof n)r=n,n=void 0;var a=i(e);a.off(t,n,r)},r}),define("esui/helper/html",["require"],function(){var e={},t={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};return e.getPartBeginTag=function(e,t){var i="<"+t+' id="'+this.getId(e)+'" class="'+this.getPartClassName(e)+'">';return i},e.getPartEndTag=function(e,i){var n=t.hasOwnProperty(i)?" />":"</"+i+">";return n},e.getPartHTML=function(e,t){return this.getPartBeginTag(e,t)+this.getPartEndTag(e,t)},e}),define("esui/helper/life",["require","underscore","../main"],function(require){var e={NEW:0,INITED:1,RENDERED:2,DISPOSED:4},t=require("underscore"),i=require("../main"),n={};return n.initViewContext=function(){var e=this.control.viewContext||i.getViewContext();this.control.viewContext=null,this.control.setViewContext(e)},n.initExtensions=function(){var e=this.control.extensions;if(!t.isArray(e))e=this.control.extensions=[];Array.prototype.push.apply(e,i.createGlobalExtensions());for(var n={},r=0;r<e.length;r++){var a=e[r];if(!n[a.type])a.attachTo(this.control),n[a.type]=!0}},n.isInStage=function(t){if(null==e[t])throw new Error("Invalid life cycle stage: "+t);return this.control.stage===e[t]},n.changeStage=function(t){if(null==e[t])throw new Error("Invalid life cycle stage: "+t);this.control.stage=e[t]},n.dispose=function(){var e=this,i=e.control;if(t.invoke(i.extensions,"dispose"),i.extensions=null,i.helper.disposeChildren(),t.each(i.domEvents,function(t){e.removeDOMEvent(t,"."+i.type)}),i.domEvents=[],i.parent)i.parent.removeChild(i);if(i.viewContext)i.viewContext.remove(i);i.renderOptions=null},n.beforeDispose=function(){this.control.fire("beforedispose")},n.afterDispose=function(){this.changeStage("DISPOSED"),this.control.fire("afterdispose"),this.control.destroyEvents()},n}),define("esui/helper/template",["require","underscore"],function(require){var e=require("underscore"),t={id:function(e,t){return t.helper.getId(e)},"class":function(e,t){return t.helper.getPartClassName(e)},part:function(e,t,i){return i.helper.getPartHTML(e,t)}},i={};return i.setTemplateEngine=function(e){if(this.templateEngine=e,!e.esui)this.initializeTemplateEngineExtension()},i.initializeTemplateEngineExtension=function(){e.each(t,function(e,t){this.addFilter(t,e)},this.templateEngine)},i.renderTemplate=function(e,i){var n=this;i=i||{};var r={get:function(e){if("instance"===e)return n.control;if("function"==typeof i.get)return i.get(e);var r=e,a=null,s=e.lastIndexOf(".");if(s>0){r=e.substring(0,s);var o=e.substring(s+1);if(o&&t.hasOwnProperty(o))a=t[o]}var l=i.hasOwnProperty(r)?i[r]:r;if(a)l=a(l,n.control);return l}};if(!this.templateEngine)throw new Error("No template engine attached to this control");return this.templateEngine.render(e,r)},i}),define("esui/Helper",["require","underscore","./helper/children","./helper/dom","./helper/event","./helper/html","./helper/life","./helper/template"],function(require){function e(e){this.control=e}var t=require("underscore");return t.extend(e.prototype,require("./helper/children"),require("./helper/dom"),require("./helper/event"),require("./helper/html"),require("./helper/life"),require("./helper/template")),e}),define("esui/EventTarget",["require","eoo","underscore","jquery"],function(require){function e(e,t){var i=e.type;if(a.isObject(t))a.extend(e,t);else if(t)e.data=t;e.type=i}function t(e,t){if(e){if(t.isDefaultPrevented())e.preventDefault();if(t.isPropagationStopped())e.stopPropagation();if(t.isImmediatePropagationStopped())e.stopImmediatePropagation()}}function i(){var e=this.type||"default";return"."+e}var n=require("eoo"),r="esui:",a=require("underscore"),s=require("jquery"),o=n.create({on:function(e,t){var n=i.call(this);s(this).on(r+e+n,t)},once:function(e,t){s(this).one(r+e,t)},un:function(e,t){var n=i.call(this);s(this).off(r+e+n,t)},fire:function(i,n,a){var o=s.Event,l=o(r+i);e(l,n);var d=this["on"+i];if("function"==typeof d)d.call(this,l,n);return s(this).trigger(l,n),t(a,l),l},destroyEvents:function(){var e=i.call(this);s(this).off(e)},enable:function(e){a.extend(e,o.prototype)}});return o}),define("esui/Control",["require","./lib","underscore","./main","./Helper","eoo","./EventTarget","jquery","./SafeWrapper"],function(require){var e=require("./lib"),t=require("underscore"),i=require("./main"),n=require("./Helper"),r=require("eoo"),a=require("./EventTarget"),s=require("jquery"),o=r.create(a,{constructor:function(t){t=t||{};var i=new n(this);if(this.helper=i,i.changeStage("NEW"),this.children=[],this.childrenIndex={},this.currentStates={},this.domEvents=[],this.main=t.main?t.main:this.createMain(t),!this.id&&!t.id)this.id=e.getGUID();this.initOptions(t),i.initViewContext(),i.initExtensions(),i.changeStage("INITED"),this.fire("init",{options:t})},ignoreStates:["disabled"],getCategory:function(){return"control"},initOptions:function(e){e=e||{},this.setProperties(e)},createMain:function(){if(!this.type)return document.createElement("div");var e=this.type.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()});return document.createElement(i.getConfig("customElementPrefix")+"-"+e.slice(1))},initStructure:function(){},initEvents:function(){},render:function(){if(this.helper.isInStage("INITED")){if(this.fire("beforerender"),this.domIDPrefix=this.viewContext.id,this.initStructure(),this.initEvents(),!this.main.id)this.main.id=this.helper.getId();if(this.main.setAttribute(i.getConfig("instanceAttr"),this.id),this.main.setAttribute(i.getConfig("viewContextAttr"),this.viewContext.id),this.helper.addPartClasses(),this.states)this.states="string"==typeof this.states?this.states.split(" "):this.states,t.each(this.states,this.addState,this);if(this.variants)this.variants="string"==typeof this.variants?this.variants.split(" "):this.variants,this.helper.addVariantClasses()}if(this.repaint(),this.helper.isInStage("INITED"))this.helper.changeStage("RENDERED"),this.fire("afterrender")},repaint:function(e,t){var i;if(!t||t.hasOwnProperty("disabled"))i=this.disabled?"addState":"removeState",this[i]("disabled");if(!t||t.hasOwnProperty("hidden"))i=this.hidden?"addState":"removeState",this[i]("hidden")},appendTo:function(e){if(e instanceof o)e=e.main;if(e.appendChild(this.main),this.helper.isInStage("NEW")||this.helper.isInStage("INITED"))this.render()},insertBefore:function(e){if(e instanceof o)e=e.main;if(e.parentNode.insertBefore(this.main,e),this.helper.isInStage("NEW")||this.helper.isInStage("INITED"))this.render()},dispose:function(){if(!this.helper.isInStage("DISPOSED"))this.helper.beforeDispose(),this.helper.dispose(),this.helper.afterDispose()},destroy:function(){var e=this.main;this.dispose(),s(e).remove(),this.main=null},get:function(t){var i=this["get"+e.pascalize(t)];if("function"==typeof i)return i.call(this);else return this[t]},set:function(t,i){var n=this["set"+e.pascalize(t)];if("function"==typeof n)return n.call(this,i);var r={};r[t]=i,this.setProperties(r)},isPropertyChanged:function(e,t,i){return i!==t},setProperties:function(t){if(!this.stage){if(t.hasOwnProperty("id"))this.id=t.id;if(t.hasOwnProperty("group"))this.group=t.group;if(t.hasOwnProperty("skin"))this.skin=t.skin}if(delete t.id,delete t.group,delete t.skin,t.hasOwnProperty("viewContext"))this.setViewContext(t.viewContext),delete t.viewContext;var i=[],n={};for(var r in t)if(t.hasOwnProperty(r)){var a=t[r],s="get"+e.pascalize(r)+"Property",o=this[s]?this[s]():this[r],l=this.isPropertyChanged(r,a,o);if(l){this[r]=a;var d={name:r,oldValue:o,newValue:a};i.push(d),n[r]=d}}if(i.length&&this.helper.isInStage("RENDERED"))this.repaint(i,n);return n},setViewContext:function(e){var t=this.viewContext;if(t!==e){if(t)this.viewContext=null,t.remove(this);this.viewContext=e,e&&e.add(this);var n=this.children;if(n)for(var r=0,a=n.length;a>r;r++)n[r].setViewContext(e);if(this.viewContext&&this.helper.isInStage("RENDERED"))this.main.setAttribute(i.getConfig("viewContextAttr"),this.viewContext.id)}},setDisabled:function(e){this[e?"disable":"enable"]()},disable:function(){this.addState("disabled")},enable:function(){this.removeState("disabled")},isDisabled:function(){return this.hasState("disabled")},show:function(){this.removeState("hidden")},hide:function(){this.addState("hidden")},toggle:function(){this[this.isHidden()?"show":"hide"]()},isHidden:function(){return this.hasState("hidden")},addState:function(e){if(!this.hasState(e)){this.currentStates[e]=!0,this.helper.addStateClasses(e);var t={},i=e.replace(/-(\w)/,function(e,t){return t.toUpperCase()});t[i]=!0,this.setProperties(t)}},removeState:function(e){if(this.hasState(e)){this.currentStates[e]=!1,this.helper.removeStateClasses(e);var t={},i=e.replace(/-(\w)/,function(e,t){return t.toUpperCase()});t[i]=!1,this.setProperties(t)}},toggleState:function(e){var t=this.hasState(e)?"removeState":"addState";this[t](e)},hasState:function(e){return!!this.currentStates[e]},addChild:function(e,t){if(t=t||e.childName,e.parent)e.parent.removeChild(e);if(this.children.push(e),e.parent=this,t)e.childName=t,this.childrenIndex[t]=e;if(this.viewContext!==e.viewContext)e.setViewContext(this.viewContext)},removeChild:function(e){for(var t=this.children,i=t.length;i--;)if(t[i]===e)t.splice(i,1);var n=e.childName;if(n)this.childrenIndex[n]=null;e.parent=null},disposeChildren:function(){this.helper.disposeChildren()},getChild:function(e){return this.childrenIndex[e]||null},getChildSafely:function(e){var t=this.getChild(e);if(!t){var i=require("./SafeWrapper");if(t=new i,t.childName=e,t.parent=this,this.viewContext)t.viewContext=this.viewContext}return t},initChildren:function(e,t){this.helper.initChildren(e,t)}});return o}),define("esui/painters",["require","underscore"],function(require){var e=require("underscore"),t={};t.state=function(e){return{name:e,paint:function(e,t){var i=t?"addState":"removeState";e[i](this.name)}}},t.attribute=function(e,t,i){return{name:e,attribute:t||e,value:i,paint:function(e,t){var i=null!=this.value&&"object"==typeof this.value?this.value:{defaultValue:this.value};if(t=null==t?i.defaultValue:t,t=null==t?"":t,i.forceRemove&&t===!1)e.main.removeAttribute(this.attribute);else e.main.setAttribute(this.attribute,t)}}};var i={width:!0,height:!0,top:!0,right:!0,bottom:!0,left:!0,fontSize:!0,padding:!0,paddingTop:!0,paddingRight:!0,paddingBottom:!0,paddingLeft:!0,margin:!0,marginTop:!0,marginRight:!0,marginBottom:!0,marginLeft:!0,borderWidth:!0,borderTopWidth:!0,borderRightWidth:!0,borderBottomWidth:!0,borderLeftWidth:!0};return t.style=function(e,t){return{name:e,property:t||e,paint:function(e,t){if(null!=t){if(i.hasOwnProperty(this.property))t=0===t?"0":t+"px";e.main.style[this.property]=t}}}},t.html=function(e,t,i){return{name:e,element:t||"",generate:i,paint:function(e,t){var i="function"==typeof this.element?this.element(e):this.element?e.helper.getPart(this.element):e.main;if(i){var n="function"==typeof this.generate?this.generate(e,t):t;i.innerHTML=n||""}}}},t.text=function(t,i,n){return{name:t,element:i||"",generate:n,paint:function(t,i){var n="function"==typeof this.element?this.element(t):this.element?t.helper.getPart(this.element):t.main;if(n){var r="function"==typeof this.generate?this.generate(t,i):i;n.innerHTML=e.escape(r||"")}}}},t.delegate=function(e){return{name:e,member:this.member,method:this.method,paint:function(e,t){e[this.member][this.method](t)}}},t.createRepaint=function(){var t=[].concat.apply([],[].slice.call(arguments));return function(i,n){for(var r=e.extend({},n),a=0;a<t.length;a++){var s=t[a];if("function"!=typeof s){var o=[].concat(s.name),l=!i;if(!l)for(var d=0;d<o.length;d++){var u=o[d];if(n.hasOwnProperty(u)){l=!0;break}}if(l){for(var c=[this],h=0;h<o.length;h++){var f=o[h];c.push(this[f]),delete r[f]}s.paint.apply(s,c)}else;}else s.apply(this,arguments)}var p=[];for(var m in r)if(r.hasOwnProperty(m))p.push(r[m]);return p}},t}),define("ub-ria-ui/Accordion",["require","esui","eoo","underscore","esui/Control","esui/painters","jquery"],function(require){function e(e){var t=d(e.main).children(),i=e.helper,n=i.getPartClassName("panel-active"),r=i.getPartClassName("panel"),a=i.getPartClassName("header"),s=i.getPartClassName("content"),o=i.getPartClassName("header-icon");t.each(function(t,i){var l=d(i);if(l.addClass(r),e.activeIndex===t)l.addClass(n);var u=l.children().eq(0);if(u.size()>0){u.addClass(a);var c=d("<span></span>");c.addClass(o),c.addClass(e.headerIcon),u.append(c)}var h=l.children().eq(1);if(h.size()>0)if(h.addClass(s),e.fixHeight)h.css("height",e.fixHeight),h.css("overflow","auto")})}function t(e){var t=d(e.currentTarget),i=t.parent(),r=i.parent(),a=this,s=a.helper.getPartClassName("panel-active"),o=r.children().index(i);if(a.collapsible)if(i.hasClass(s))n.call(a),a.activeIndex=-1;else a.set("activeIndex",o);else{if(i.hasClass(s))return;this.set("activeIndex",o)}}function i(e,t){var i=d(e.main).children(),n=e.activeHeaderIcon,r=e.headerIcon,a=e.helper,s=a.getPartClassName("panel-active"),o=a.getPartClassName("header"),l=a.getPartClassName("header-icon");i.each(function(e,i){var a=d(i),u=a.children("."+o),c=u.children("."+l);if(a.removeClass(s),c.removeClass(n),c.removeClass(r),e===t)a.addClass(s),c.addClass(n);else c.addClass(r)})}function n(){var e=d(this.main).children(),t=e.get(this.activeIndex),i=this.helper,n=i.getPartClassName("content"),r=i.getPartClassName("content-hidden"),a=i.getPartClassName("panel-active"),s=t.children("."+n);if(s.size()>0)s.addClass(r);t.removeClass(a)}var r=require("esui"),a=require("eoo"),s=require("underscore"),o=require("esui/Control"),l=require("esui/painters"),d=require("jquery"),u=a.create(o,{type:"Accordion",initOptions:function(e){var t={activeIndex:0,hoverable:!1,collapsible:!1,headerIcon:"caret-right",activeHeaderIcon:"caret-down",fixHeight:null};t.headerIcon=this.helper.getIconClass(t.headerIcon),t.activeHeaderIcon=this.helper.getIconClass(t.activeHeaderIcon),s.extend(t,e),this.setProperties(t)},repaint:l.createRepaint(o.prototype.repaint,l.style("width"),{name:"activeIndex",paint:i}),initStructure:function(){e(this)},initEvents:function(){var e="."+this.helper.getPartClassName("header"),i=this.hoverable?"mouseover":"click";this.helper.addDOMEvent(this.main,i,e,t)},getActivePanel:function(){var e=d(this.main).children().toArray();return e[this.get("activeIndex")]}});return r.register(u),u}),define("ub-ria-ui/Alert",["require","eoo","underscore","esui","esui/lib","esui/Control","jquery","esui/painters"],function(require){function e(e){var t=e.helper,i=e.getInjectedPartHTML("prev","div",t.getPartHTML("icon-content","span")),n=e.getInjectedPartHTML("next","div",t.getPartHTML("icon-content","span")),r=e.getInjectedPartHTML("index","div",t.getPartHTML("page","strong")+"/"+e.message.length);t.getPart("pager").innerHTML=i+r+n,t.getPart("page").innerHTML=e.pageIndex;var a=t.getIconClass();o(t.getPart("prev")).addClass(a),o(t.getPart("next")).addClass(a),e.bindPagerEvent()}function t(){var e=this.pageIndex;if(e===this.message.length)e=1;else e++;this.setProperties({pageIndex:e})}var i=require("eoo"),n=require("underscore"),r=require("esui"),a=require("esui/lib"),s=require("esui/Control"),o=require("jquery"),l=require("esui/painters"),d=["success","info","warning","error"],u=i.create(s,{type:"Alert",initOptions:function(e){var t={msgType:"error",autoClose:!1,autoCloseDuration:1e3,autoSlide:!0,autoSlideInterval:4e3,closeBtn:!0,pageIndex:1,icon:""};if(!this.main.parentNode&&n.isEmpty(e.container))throw new Error("Parent is needed if constructed form scripts");if("string"==typeof e.message)e.message=[e.message];n.extend(t,e),this.setProperties(t)},getInjectedPartHTML:function(e,t,i){return this.helper.getPartBeginTag(e,t)+i+this.helper.getPartEndTag(e,t)},initStructure:function(){var e="",t=this.helper,i=["icon","text","close","pager"];n.each(i,function(i){e+=t.getPartHTML(i,"div")},this),this.main.innerHTML=this.getInjectedPartHTML("container","div",e)},bindPagerEvent:function(){this.helper.addDOMEvent("prev","click",function(){if(this.pageIndex>1)this.setProperties({pageIndex:this.pageIndex-1})}),this.helper.addDOMEvent("next","click",function(){if(this.pageIndex<this.message.length)this.setProperties({pageIndex:this.pageIndex+1})})},injectIcon:function(e,t){var i=this.helper,n=i.getPart("icon"),r=this.main;n.innerHTML=e;var a=i.getPartClassName("has-icon");if(e)o(r).addClass(a),o(n.firstChild).addClass(t);else o(r).removeClass(a)},repaint:l.createRepaint(s.prototype.repaint,{name:"icon",paint:function(e,t){if(!t)return void e.injectIcon("");else return void e.injectIcon(e.helper.getPartHTML("icon-content","span"),t)}},{name:"message",paint:function(t,i){var r="";n.each(i,function(e){r+=t.getInjectedPartHTML("item","span",e)}),t.helper.getPart("text").innerHTML=r;var a=t.helper.getPartClassName("has-pager"),s=o(t.main);if(i.length>1)s.addClass(a),e(t);else s.removeClass(a)}},{name:"msgType",paint:function(e){n.each(d,function(t){e.helper.removePartClasses(t)}),e.helper.addPartClasses(e.msgType)}},{name:"pageIndex",paint:function(e,t){var i=e.helper,n=o(i.getPart("text")).children(),r=i.getPartClassName("item-active"),a=n.eq(t-1);if(1===e.message.length)return void a.addClass(r);var s=n.filter("."+r);if(s.size()>0)s.removeClass(r);if(a.addClass(r),i.getPart("page").innerHTML=t,1===t)i.addPartClasses("prev-disabled","prev");else i.removePartClasses("prev-disabled","prev");if(t===e.message.length)i.addPartClasses("next-disabled","next");else i.removePartClasses("next-disabled","next")}},{name:"closeBtn",paint:function(e,t){var i=e.helper;if(t===!1)return i.getPart("button")&&i.removeDOMEvent("button"),void(i.getPart("close").innerHTML="");else return i.getPart("close").innerHTML=""+e.getInjectedPartHTML("button","div",i.getPartHTML("icon-content","span")),o(i.getPart("button").firstChild).addClass(i.getIconClass()),void i.addDOMEvent("button","click",function(){this.hide()})}},{name:"autoSlide",paint:function(e,i){if(clearInterval(e.autoSlideTimer),1!==e.message.length&&i)e.autoSlideTimer=setInterval(n.bind(t,e),e.autoSlideInterval)}},{name:"autoClose",paint:function(e,t){if(clearTimeout(e.autoCloseTimer),t)e.autoCloseTimer=setTimeout(n.bind(e.hide,e),e.autoCloseDuration)}}),show:function(){var e=this,t=e.helper;if(!t.isInStage("DISPOSED")){var i=a.g(e.container).firstChild;if(i)e.insertBefore(i);else e.appendTo(a.g(e.container));e.insertBefore(i),t.addPartClasses("toggle","container"),e.$super(arguments),e.fire("show"),t.addDOMEvent(e.main,"mouseenter",function(){e.setProperties({autoSlide:!1})}),t.addDOMEvent(e.main,"mouseleave",function(){e.setProperties({autoSlide:this.autoSlide})})}},hide:function(){this.$super(arguments),this.fire("hide"),this.dispose()},dispose:function(){if(clearTimeout(this.autoCloseTimer),clearInterval(this.autoSlideTimer),!this.helper.isInStage("DISPOSED"))o(this.main).remove(),this.$super(arguments)}});return n.each(d,function(e){u[e]=function(t){t.msgType=t.msgType||e;var i=new u(t);return i.show(),i}}),r.register(u),u}),define("esui/behavior/position",["require","jquery","underscore"],function(require){function e(e,t,i){return[parseFloat(e[0])*(p.test(e[0])?t/100:1),parseFloat(e[1])*(p.test(e[1])?i/100:1)]}function t(e,t){return parseInt(o.css(e,t),10)||0}function i(e){var t=e[0];if(9===t.nodeType)return{width:e.width(),height:e.height(),offset:{top:0,left:0}};if(o.isWindow(t))return{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}};if(t.preventDefault)return{width:0,height:0,offset:{top:t.pageY,left:t.pageX}};else return{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}function n(){if(void 0!==s)return s;var e=o(['<div style="display:block;position:absolute;width:50px;height:50px;overflow:hidden;">','   <div style="height:100px;width:auto;"></div>',"</div>"].join(""));o("body").append(e);var t=e.children()[0],i=t.offsetWidth;e.css("overflow","scroll");var n=t.offsetWidth;if(i===n)n=e[0].clientWidth;return e.remove(),s=i-n}function r(e){var t=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),i=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),r="scroll"===t||"auto"===t&&e.width<e.element[0].scrollWidth,a="scroll"===i||"auto"===i&&e.height<e.element[0].scrollHeight;return{width:a?n():0,height:r?n():0}}function a(e){var t=o(e||window),i=o.isWindow(t[0]),n=!!t[0]&&9===t[0].nodeType;return{element:t,isWindow:i,isDocument:n,offset:t.offset()||{left:0,top:0},scrollLeft:t.scrollLeft(),scrollTop:t.scrollTop(),width:t.outerWidth(),height:t.outerHeight()}}var s,o=require("jquery"),l=require("underscore"),d=Math.max,u=Math.abs,c=Math.round,h=o.fn.position,f=function(){var e=o("<div>").css("position","absolute").appendTo("body").offset({top:1.5,left:1.5}),t=1.5===e.offset().top;return e.remove(),f=function(){return t},t},p=/%$/,m={fitleft:function(e,t){var i=t.within,n=i.isWindow?i.scrollLeft:i.offset.left,r=i.width,a=e.left-t.collisionPosition.marginLeft,s=n-a,o=a+t.collisionWidth-r-n;if(t.collisionWidth>r)if(s>0&&0>=o){var l=e.left+s+t.collisionWidth-r-n;e.left+=s-l}else if(o>0&&0>=s)e.left=n;else if(s>o)e.left=n+r-t.collisionWidth;else e.left=n;else if(s>0)e.left+=s;else if(o>0)e.left-=o;else e.left=d(e.left-a,e.left)},fittop:function(e,t){var i=t.within,n=i.isWindow?i.scrollTop:i.offset.top,r=t.within.height,a=e.top-t.collisionPosition.marginTop,s=n-a,o=a+t.collisionHeight-r-n;if(t.collisionHeight>r)if(s>0&&0>=o){var l=e.top+s+t.collisionHeight-r-n;e.top+=s-l}else if(o>0&&0>=s)e.top=n;else if(s>o)e.top=n+r-t.collisionHeight;else e.top=n;else if(s>0)e.top+=s;else if(o>0)e.top-=o;else e.top=d(e.top-a,e.top)},flipleft:function(e,t){var i=t.within,n=i.offset.left+i.scrollLeft,r=i.width,a=i.isWindow?i.scrollLeft:i.offset.left,s=e.left-t.collisionPosition.marginLeft,o=s-a,l=s+t.collisionWidth-r-a,d="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,c="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,h=-2*t.offset[0];if(0>o){var f=e.left+d+c+h+t.collisionWidth-r-n;if(0>f||f<u(o))e.left+=d+c+h}else if(l>0){var p=e.left-t.collisionPosition.marginLeft+d+c+h-a;if(p>0||u(p)<l)e.left+=d+c+h}},fliptop:function(e,t){var i=t.within,n=i.offset.top+i.scrollTop,r=i.height,a=i.isWindow?i.scrollTop:i.offset.top,s=e.top-t.collisionPosition.marginTop,o=s-a,l=s+t.collisionHeight-r-a,d="top"===t.my[1],c=d?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,h="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,f=-2*t.offset[1];if(0>o){var p=e.top+c+h+f+t.collisionHeight-r-n;if(0>p||p<u(o))e.top+=c+h+f}else if(l>0){var m=e.top-t.collisionPosition.marginTop+c+h+f-a;if(m>0||u(m)<l)e.top+=c+h+f}},flipfitleft:function(){m.flipleft.apply(this,arguments),m.fitleft.apply(this,arguments)},flipfittop:function(){m.fliptop.apply(this,arguments),m.fittop.apply(this,arguments)}};return o.fn.position=function(n,s){if(!n||!n.of)return h.apply(this,arguments);if(!this instanceof o&&s)return o(s).position(n);n=o.extend({},n);var p=o(n.of),g=i(p);if(p[0].preventDefault)n.at="left top";var v=g.width,y=g.height,_=g.offset,x=o.extend({},_),b=/left|center|right/,w=/top|center|bottom/,M=/[\+\-]\d+(\.[\d]+)?%?/,C=/^\w+/,L={};l.each(["my","at"],function(e){var t=(n[e]||"").split(" ");if(1===t.length)t=b.test(t[0])?t.concat(["center"]):w.test(t[0])?["center"].concat(t):["center","center"];t[0]=b.test(t[0])?t[0]:"center",t[1]=w.test(t[1])?t[1]:"center";var i=M.exec(t[0]),r=M.exec(t[1]);L[e]=[i?i[0]:0,r?r[0]:0],n[e]=[C.exec(t[0])[0],C.exec(t[1])[0]]});var T=(n.collision||"flip").split(" ");if(1===T.length)T[1]=T[0];if("right"===n.at[0])x.left+=v;else if("center"===n.at[0])x.left+=v/2;if("bottom"===n.at[1])x.top+=y;else if("center"===n.at[1])x.top+=y/2;var k=e(L.at,v,y);x.left+=k[0],x.top+=k[1];var D=a(n.within),Y=r(D);return this.each(function(){var i=o(this),r=i.outerWidth(),a=i.outerHeight(),s=o.extend({},x);if("right"===n.my[0])s.left-=r;else if("center"===n.my[0])s.left-=r/2;if("bottom"===n.my[1])s.top-=a;else if("center"===n.my[1])s.top-=a/2;var h=e(L.my,i.outerWidth(),i.outerHeight());if(s.left+=h[0],s.top+=h[1],!f())s.left=c(s.left),s.top=c(s.top);var g=t(this,"marginLeft"),b=t(this,"marginTop"),w={marginLeft:g,marginTop:b},M=r+g+t(this,"marginRight")+Y.width,C=a+b+t(this,"marginBottom")+Y.height;if(l.each(["left","top"],function(e,t){var o=m[T[t]+e];o&&o(s,{targetWidth:v,targetHeight:y,elemWidth:r,elemHeight:a,collisionPosition:w,collisionWidth:M,collisionHeight:C,offset:[k[0]+h[0],k[1]+h[1]],my:n.my,at:n.at,within:D,elem:i})}),n.using)var S=function(e){var t=_.left-s.left,o=t+v-r,l=_.top-s.top,c=l+y-a,h={target:{element:p,left:_.left,top:_.top,width:v,height:y},element:{element:i,left:s.left,top:s.top,width:r,height:a},horizontal:0>o?"left":t>0?"right":"center",vertical:0>c?"top":l>0?"bottom":"middle"};if(r>v&&u(t+o)<v)h.horizontal="center";if(a>y&&u(l+c)<y)h.vertical="middle";if(d(u(t),u(o))>d(u(l),u(c)))h.important="horizontal";else h.important="vertical";n.using.call(this,e,h)};i.offset(o.extend(s,{using:S}))})},o.fn.position}),define("esui/Layer",["require","underscore","./lib","./main","eoo","./EventTarget","jquery","./behavior/position"],function(require){function e(e){var n=e.target,r=this,a=r.getElement(r);if(a){var s=a===n||o.contains(a,n),l=!1;if(i.each(r.autoCloseExcludeElements,function(e){if(l=o.contains(e,n)||e===n)return!1;else return void 0}),!s&&!l)r.hide();else if(r.autoClose)t(r)}}function t(t){t.docClickHandler=function(i){e.call(t,i)},o(document).one("mousedown",t.docClickHandler)}var i=require("underscore"),n=require("./lib"),r=require("./main"),a=require("eoo"),s=require("./EventTarget"),o=require("jquery");require("./behavior/position");var l=a.create(s,{constructor:function(e){this.control=e},nodeName:"div",autoClose:!0,autoCloseExcludeElements:[],create:function(){var e=this.control.helper.createPart("layer",this.nodeName);return this.prepareLayer(e),e},prepareLayer:function(e){o(e).addClass(r.getConfig("uiClassPrefix")+"-layer");var t=this.control.variants,n=this.control.helper,a=[];if(t)t="string"==typeof t?t.split(" "):t,this.control.variants=t,i.each(t,function(e){a.push(n.getPrimaryClassName("layer-"+e))}),o(e).addClass(a.join(" "));o(e).hide()},addCustomClasses:function(e){var t=this.getElement();o(t).addClass(e.join(" "))},render:function(){},syncState:function(){},repaint:function(){var e=this.getElement(!1);if(e)this.render(e)},initBehavior:function(){},getElement:function(e){var t=this.control.helper.getPart("layer");if(!t&&e!==!1){if(t=this.create(),this.render(t),this.initBehavior(t),this.syncState(t),!t.parentElement)document.body.appendChild(t);this.fire("rendered")}return t},hide:function(e){var t=this.getElement();if(o(t).hide(),this.docClickHandler)o(document).off("mousedown",this.docClickHandler),this.docClickHandler=null;if(!e)this.fire("hide");this.control.removeState("active")},show:function(){var e=this,i=e.getElement();if(i.style.zIndex=e.getZIndex(),e.autoClose)t(e);o(i).show(),e.position(),e.fire("show"),e.control.addState("active")},toggle:function(){var e=this.getElement();if(!e||!o(e).is(":visible"))this.show();else this.hide()},position:function(){var e=this.getElement();l.attachTo(e,this.control.main,this.dock)},getZIndex:function(){return l.getZIndex(this.control.main)},dispose:function(){var e=this.getElement(!1);if(this.autoCloseExcludeElements=[],e)o(e).remove();this.control=null}});return l.create=function(e){var t=document.createElement(e||"div");return t.style.position="absolute",t},l.getZIndex=function(e){for(var t=0;!t&&e&&e!==document;)t=parseInt(n.getComputedStyle(e,"zIndex"),10),e=e.parentNode;return t=t||0,t+1},l.attachTo=function(e,t,n){if(n=n||{strictWidth:!1},n.strictWidth)e.style.minWidth=t.offsetWidth+"px";o(e).position(i.extend({my:"left top",of:t,at:"left bottom"},n))},l}),define("esui/Extension",["require","underscore"],function(require){function e(e){t.extend(this,e)}var t=require("underscore");return e.prototype.target=null,e.prototype.active=!1,e.prototype.isActive=function(){return this.active},e.prototype.activate=function(){this.active=!0},e.prototype.inactivate=function(){this.active=!1},e.prototype.attachTo=function(e){if(this.target&&this.target!==e)if(this.active)this.inactivate();if(this.target=e,!this.active)this.activate()},e.prototype.dispose=function(){if(this.active)this.inactivate();this.target=null},e}),define("ub-ria-ui/helper/CursorPositionHelper",["require","jquery","underscore","eoo"],function(require){function e(e){var t={};return r.each(d,function(i,n){t[n]=r(e).css(n)}),t}function t(){var t=this.element,i=t.scrollHeight>t.offsetHeight?"scroll":"auto";return a.extend({overflow:i},l,e(this.element))}function i(){return this.element.value.substring(0,this.element.selectionEnd)}function n(){this.element.focus();var e=document.selection.createRange();e.moveStart("character",-this.element.value.length);var t=e.text.split(o);return 1===t.length?t[0]:t[1]}var r=require("jquery"),a=require("underscore"),s=require("eoo"),o="吶",l={left:-9999,position:"absolute",top:0,whiteSpace:"pre-wrap"},d=["border-width","font-family","font-size","font-style","font-variant","font-weight","height","letter-spacing","word-spacing","line-height","text-decoration","text-align","width","padding-top","padding-right","padding-bottom","padding-left","margin-top","margin-right","margin-bottom","margin-left","border-style","box-sizing","tab-size"],u=s.create({constructor:function(e){this.$element=r(e),this.element=this.$element[0]},getCaretPosition:function(){var e="number"==typeof this.element.selectionEnd,a=e?i:n,s=r("<div></div>").css(t.call(this)).text(a.call(this)),o=r("<span></span>").text(".").appendTo(s);this.$element.before(s);var l=o.position();return l.top+=o.height()-this.$element.scrollTop(),l.lineHeight=o.height(),s.remove(),l}});return u.getInstance=function(e){var t="corsorPositionHelper",i=r(e).data(t);if(!i)i=new u(e),r(e).data(t,i);return i},u}),define("esui/behavior/keyboard",["require","jquery","underscore"],function(require){function e(e){if(e.data&&e.data.keys&&"string"==typeof e.data.keys){var u=e.handler,c=e.data.keys.toLowerCase().split(" ");e.handler=function(e){if(this===e.target||!(o&&s.test(e.target.nodeName)||d&&t(e.target).attr("contenteditable")||l&&t.inArray(e.target.type,a)>-1)){var h="keypress"!==e.type&&n[e.which],f=String.fromCharCode(e.which).toLowerCase(),p="",m={};if(i.each(["alt","ctrl","shift"],function(t){if(e[t+"Key"]&&h!==t)p+=t+"+"}),e.metaKey&&!e.ctrlKey&&"meta"!==h)p+="meta+";if(e.metaKey&&"meta"!==h&&p.indexOf("alt+ctrl+shift+")>-1)p=p.replace("alt+ctrl+shift+","hyper+");if(h)m[p+h]=!0;else if(m[p+f]=!0,m[p+r[f]]=!0,"shift+"===p)m[r[f]]=!0;for(var g=0,v=c.length;v>g;g++)if(m[c[g]])return u.apply(this,arguments)}}}}var t=require("jquery"),i=require("underscore"),n={8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",59:";",61:"=",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},r={"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"},a=["text","password","number","email","url","range","date","month","week","time","datetime","datetime-local","search","color","tel"],s=/textarea|input|select/i,o=!0,l=!0,d=!0;
i.each(["keydown","keyup","keypress"],function(i){t.event.special[i]={add:e}});var exports={setFilterInputAcceptingElements:function(e){o=e},setFilterTextInputs:function(e){l=e},setFilterContentEditable:function(e){d=e}};return i.each(n,function(e,t){exports[e.toUpperCase()]=parseInt(t,10)}),exports}),define("ub-ria-ui/AutoComplete",["require","esui","esui/lib","underscore","esui/Layer","esui/Extension","eoo","./helper/CursorPositionHelper","esui/behavior/keyboard","esui/behavior/position","jquery"],function(require){function e(e,i){return d.filter(i,function(i){var n=d.isObject(i)?i.text:i;return new RegExp(t(e),"i").test(n)})}function t(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function i(t){if(!t)return void n.call(this);var i=this,r=this.control.datasource;if("function"==typeof r)r.call(this,t,function(e){n.call(i,e,t)});else if(r&&r.length)n.call(i,e(t,r),t)}function n(e,i){function n(e){return'<i class="'+r.getPrefixClass("autocomplete-item-char-selected")+'">'+e+"</i>"}var r=this.control.helper,a=[];if(e&&e.length)for(var s=0,o=e.length;o>s;s++){var u=e[s],c=d.isObject(u)&&u.text||u,h=d.isObject(u)&&u.desc||void 0,f=l.format('<li tabindex="-1" ${dataId} class="${lineClasses}"><span class="${itemClasses}">${text}</span>${desc}</li>',{dataId:d.isObject(u)&&u.id?' data-id="'+u.id+'"':"",lineClasses:r.getPrefixClass("autocomplete-item")+(0===s?" "+r.getPrefixClass("autocomplete-item-hover"):""),itemClasses:r.getPrefixClass("autocomplete-item-text"),text:c.replace(new RegExp(t(i),"i"),n),desc:h?'<span class="'+r.getPrefixClass("autocomplete-item-desc")+'">'+u.desc+"</span>":""});a.push(f)}a=a.join(""),this.repaint(a),a?this.show():this.hide()}function r(e){var t=this.getInput(),i=t.value;i=l.trim(i);var n=[];if(/\n/.test(i))n=i.split(/\n/),i=n&&n.pop();var r=i.split(",");if(r.pop(),r.push(e),n)n.push(r.join(",")),e=n.join("\n");this.control.setValue(e)}function a(e){var t=e.split(/\n/),i=t.pop(),n=i.split(","),r=n&&n.pop();return l.trim(r)}function s(e){var t=this.getElement(!1),i=t.children,n=this.getSelectedItemIndex();if(-1!==n){var r=i[n];if(r)l.removeClass(r,this.control.helper.getPrefixClass("autocomplete-item-hover"))}if("up"===e)if(-1===n||0===n)n=i.length-1;else n--;else if("down"===e)if(-1===n||n===i.length-1)n=0;else n++;r=i[n],y(r).addClass(this.control.helper.getPrefixClass("autocomplete-item-hover")),r&&r.focus(),this.inputElement.focus()}var o=require("esui"),l=require("esui/lib"),d=require("underscore"),u=require("esui/Layer"),c=require("esui/Extension"),h=require("eoo"),f=require("./helper/CursorPositionHelper"),p=require("esui/behavior/keyboard");require("esui/behavior/position");var m="TextLine",g="TextBox",v="input",y=require("jquery"),_=h.create(u,{constructor:function(e){this.$super(arguments);var t=e.type;if(t===g){var i=l.g(e.inputId);if(i.tagName.toLowerCase()===v)this.dock={strictWidth:!0}}this.initStructure(),this.initEvents()},type:"AutoCompleteLayer",initStructure:function(){var e=this.control.helper;this.addCustomClasses([e.getPrefixClass("autocomplete"),e.getPrefixClass("dropdown")]);var t=this.getElement();y(this.control.main).after(t)},initEvents:function(){function e(){var e=l.value;if(!e||/(?:\s|\,)$/.test(e))return i.call(t,""),void t.hide();if(d.isFunction(n.extractWord))e=n.extractWord(e);else e=a(e);if(e)if(!n.search||n.search(e)!==!1)i.call(t,e)}var t=this,n=t.control,o=n.helper,l=this.inputElement=this.getInput(),u=t.getElement(!1);o.addDOMEvent(u,"click","li",function(e){var i=e.currentTarget;t.hide();var n=y(i.firstChild).text(),a=t.control.fire("select",n);if(!a.isDefaultPrevented())r.call(t,n)}),o.addDOMEvent(l,"keydown",function(e){if(!t.isHidden())switch(e.keyCode){case p.UP:e.preventDefault(),s.call(t,"up");break;case p.DOWN:e.preventDefault(),s.call(t,"down");break;case p.ESC:t.hide();break;case p.RETURN:e.preventDefault();var i=t.getSelectedItem();if(!i)return;t.hide();var n=y(i.firstChild).text(),a=t.control.fire("select",n);if(a.isDefaultPrevented())return;setTimeout(function(){r.call(t,n)},0)}}),this.control.on("input",e)},repaint:function(e){var t=this.getElement(!1);if(t)this.render(t,e)},render:function(e,t){if(null!=t)e.innerHTML=t},getSelectedItemIndex:function(){for(var e=this.getElement(!1),t=e.children,i=-1,n=0,r=t.length;r>n;n++)if(y(t[n]).hasClass(this.control.helper.getPrefixClass("autocomplete-item-hover"))){i=n;break}return i},getSelectedItem:function(){var e,t=this.getElement(!1),i=this.getSelectedItemIndex();if(-1!==i)e=t.children[i];return e},position:function(){var e=this.inputElement;if("textarea"!==e.nodeName.toLowerCase())this.$super(arguments)},show:function(){this.$super(arguments);var e=this.inputElement,t=y(this.getElement(!1));if("textarea"===e.nodeName.toLowerCase()){var i=f.getInstance(e),n=i.getCaretPosition();t.position({of:e,at:"left+"+n.left+" top+"+n.top,my:"left top"})}},isHidden:function(){var e=this.getElement();return y(e).is(":hidden")},getInput:function(){var e=this.control;if(e.type===g)return l.g(e.inputId);else if(e.type===m)return e.getTextArea();return null},nodeName:"ol"}),x=h.create(c,{constructor:function(){this.$super(arguments)},type:"AutoComplete",attachTo:function(){this.$super(arguments);var e=this;setTimeout(function(){e.layer=new _(e.target)},0)},activate:function(){var e=this.target.type;if(e===m||e===g)this.$super(arguments)},inactivate:function(){var e=this.target.helper,t=this.inputElement;e.removeDOMEvent(t,v);var i=this.layer.getElement(!1);e.removeDOMEvent(t,"keydown"),e.removeDOMEvent(i,"click"),this.target.main.removeChild(i),this.$super(arguments)}});return o.registerExtension(x),x}),define("ub-ria-ui/Carousel",["require","underscore","esui","esui/lib","esui/painters","esui/Control","eoo","jquery"],function(require){function e(){var e=this.helper;return f.format(y,{typeSelector:e.getPrimaryClassName(),contentId:e.getId("main"),leftId:e.getId("left-handler"),listId:e.getId("list"),rightId:e.getId("right-handler"),toolbarId:e.getId("toolbar"),iconLeftArrow:e.getIconClass(),iconRightArrow:e.getIconClass()})}function t(e,t,i,n,r){var a=[];return c.each(e,function(e,s){var o=s+1,l="";if(this.onRenderItem)l=this.onRenderItem(e);else l=f.format(_,{imgSrc:e.url,width:t,height:i,index:s,typeSelector:this.helper.getPrimaryClassName(),itemSelector:this.isDisabled()?this.helper.getPartClassName("disabled"):"",iconCheck:this.helper.getIconClass(),spacing:o>0&&o%r===0?0:n});a.push(l)},this),a.join("")}function i(e){var t=[],i=e.length,n=Math.ceil(i/this.pageSize);this.pageLength=n;for(var r=0;n>r;r++){var a=f.format(x,{index:r,typeSelector:this.helper.getPrimaryClassName()});t.push(a)}return t.join("")}function n(){if(-1===this.selectedIndex)return 0;else return Math.floor(this.selectedIndex/this.pageSize)}function r(){var e=this.helper,t=e.getPartClassName("pointer-disable"),i=v(e.getPart("left-handler")),n=v(e.getPart("right-handler")),r=this.currentPage;if(i.removeClass(t),n.removeClass(t),0===r)i.addClass(t);if(r===this.pageLength-1)n.addClass(t)}function a(){var e=-this.wrapWidth,t=e*this.currentPage+"px";this.helper.getPart("list").style.left=t}function s(e){var t=this.currentPage+e;if(t>=this.pageLength||0>t);else this.setPage(t)}function o(e,t){if(this.selectedIndex!==e){if(this.emphasizeSelectedItem){var i=v(this.helper.getPart("list")),n=this.helper.getPrimaryClassName("selected-item");i.children("."+n).removeClass(n),t.addClass(n)}this.selectedIndex=e,this.selectedItem=this.getSelectedItem(),this.value=this.selectedItem.id,this.fire("change")}}function l(e){if(this.currentPage!==e)this.setPage(e)}function d(e){var t=v(e.currentTarget);o.call(this,+t.attr("index"),t)}function u(e){var t=v(e.currentTarget);l.call(this,+t.attr("index"))}var c=require("underscore"),h=require("esui"),f=require("esui/lib"),p=require("esui/painters"),m=require("esui/Control"),g=require("eoo"),v=require("jquery"),y=['<div class="${typeSelector}-main" id="${contentId}">','<div class="${typeSelector}-content">','<span class="${typeSelector}-pointer ${typeSelector}-pointer-active-l ${iconLeftArrow}"',' id="${leftId}"></span>','<div class="ui-carouse-list-wrap">','<ul class="${typeSelector}-list" id="${listId}"></ul>',"</div>",'<span class="${typeSelector}-pointer ${typeSelector}-pointer-active-r ${iconRightArrow}"',' id="${rightId}"></span>',"</div>",'<div class="${typeSelector}-toolbar">','<ul id="${toolbarId}"></ul>',"</div>","</div>"].join(""),_=['<li class="${typeSelector}-item ${itemSelector}" index="${index}" ','style="width:${width}px;height:${height}px;margin-right:${spacing}px;">','<img class="${typeSelector}-item-img" src="${imgSrc}"/>','<span class="${typeSelector}-check ${iconCheck}"></span>',"</li>"].join(""),x='<li index="${index}" class="${typeSelector}-page"></li>',b=g.create(m,{type:"Carousel",initOptions:function(e){var t={pageSize:8,spacing:15,itemWidth:80,itemHeight:50,datasource:[],value:null,disabled:!1,emphasizeSelectedItem:!0};c.extend(t,e),this.setProperties(t)},initStructure:function(){this.main.innerHTML=e.call(this)},initEvents:function(){this.helper.addDOMEvent("left-handler","click",c.bind(s,this,-1)),this.helper.addDOMEvent("right-handler","click",c.bind(s,this,1)),this.helper.addDOMEvent("list","click","li",d),this.helper.addDOMEvent("toolbar","click","li",u)},repaint:p.createRepaint(m.prototype.repaint,{name:["datasource","itemWidth","itemHeight"],paint:function(e,n,r,a){var s=e.helper.getPart("list"),o=e.helper.getPart("toolbar"),l=e.pageSize,d=e.spacing;s.innerHTML=t.call(e,n,r,a,d,l),o.innerHTML=i.call(e,n);var u=r*e.pageSize+(l-1)*d,c=a;e.wrapWidth=u;var h=s.parentNode;h.style.width=u+"px",h.style.height=c+"px"}},{name:"value",paint:function(e,t){e.setValue(t)}}),setValue:function(e){if(c.isNull(e)||c.isUndefined(e))return void this.setPage();if(this.value=e,this.selectedIndex=-1,c.each(this.datasource,function(e,t){if(e.id===this.value)return this.selectedIndex=t,!1;else return void 0},this),this.selectedItem=this.getSelectedItem(),-1!==this.selectedIndex&&this.emphasizeSelectedItem){var t=this.helper.getPart("list"),i=v(t).children("li"),r=this.helper.getPrimaryClassName("selected-item");i.find("."+r).removeClass(r);var a=i.eq(this.selectedIndex);a.addClass(r)}var s=n.call(this);this.setPage(s)},setPage:function(e){e=e||0,e=parseInt(e,10);var t=this.helper.getPrimaryClassName("current-page");if(null===this.currentPage)this.currentPage=0;if(this.currentPage!==e)this.currentPage=e;var i=v(this.helper.getPart("toolbar")).children();c.each(i,function(e){var i=v(e);i.removeClass(t);var n=+i.attr("index");if(this.currentPage===n)i.addClass(t)},this),r.call(this),a.call(this)},getSelectedItem:function(){return this.datasource[this.selectedIndex]}});return h.register(b),b}),define("ub-ria-ui/colorPicker/Color",["require"],function(){function e(e){var t=(+e).toString(16);if(1===t.length)t="0"+t;return t}var exports={hsbToRGB:function(e,t,i){if("object"==typeof e)i=e.bright||e.b,t=e.saturation||e.s,e=e.hue||e.h;if(t>1)t/=100;if(i>1)i/=100;var n=Math.round(255*i),r={},a=[];if(0===t)a=[n,n,n];else{e%=360;var s=e%60,o=Math.round(i*(1-t)*255),l=Math.round(i*(60-t*s)/60*255),d=Math.round(i*(60-t*(60-s))/60*255);switch(Math.floor(e/60)){case 0:a=[n,d,o];break;case 1:a=[l,n,o];break;case 2:a=[o,n,d];break;case 3:a=[o,l,n];break;case 4:a=[d,o,n];break;case 5:a=[n,o,l]}}return r.red=Math.round(a[0]),r.green=Math.round(a[1]),r.blue=Math.round(a[2]),r.r=r.red,r.g=r.green,r.b=r.blue,r},rgbToHex:function(t,i,n){if("object"==typeof t)n=t.blue||t.b,i=t.green||t.g,t=t.red||t.r;var r=[e(t),e(i),e(n)];return r.join("")},hsbToHex:function(e,t,i){var n=exports.hsbToRGB(e,t,i),r=exports.rgbToHex(n);return r},rgbToHSB:function(e,t,i){if("object"==typeof e)i=e.blue||e.b,t=e.green||e.g,e=e.red||e.r;e/=255,t/=255,i/=255;var n=Math.max(e,t,i),r=Math.min(e,t,i),a=n-r,s=0,o=0,l=n;if(0!==n)o=a/n;if(0!==o)if(e===n)s=(t-i)/a;else if(t===n)s=2+(i-e)/a;else s=4+(e-t)/a;else s=-1;if(s*=60,0>s)s+=360;var d={hue:s,saturation:o,bright:l};return d.h=d.hue,d.s=d.saturation,d.b=d.bright,d},hexToRGB:function(e){if(0===e.indexOf("#"))e=e.substring(1);e=new Array(6-e.length+1).join("0")+e;var t={red:parseInt(e.charAt(0)+e.charAt(1),16)||0,green:parseInt(e.charAt(2)+e.charAt(3),16)||0,blue:parseInt(e.charAt(4)+e.charAt(5),16)||0};return t.r=t.red,t.g=t.green,t.b=t.blue,t},hexToHSB:function(e){var t=exports.hexToRGB(e),i=exports.rgbToHSB(t);return i},isValidRGB:function(e){return/^#?[0-9a-fA-Z]{3}$/.test(e)||/^#?[0-9a-fA-Z]{6}$/.test(e)}};return exports}),define("esui/Validity",["require","underscore","eoo","./main","./Control","./Helper","./painters","jquery"],function(require){function e(e,t){var i=e.target,n=null;if(i||e.targetType){var r={type:e.targetType||i.type,skin:i&&i.skin};n=new a(r)}var s=e.helper.getPartClasses();if(n)s.push.apply(s,n.getPartClasses("validity-label"));if(t)if(s.push.apply(s,e.helper.getPartClasses(t)),n)s.push.apply(s,n.getPartClasses("validity-label-"+t));if(i&&i.isHidden()||e.isHidden())if(s.push.apply(s,e.helper.getStateClasses("hidden")),i)s.push.apply(s,i.helper.getPartClasses("validity-label-hidden"));return s}var t=require("underscore"),i=require("eoo"),n=require("./main"),r=require("./Control"),a=require("./Helper"),s=require("./painters"),o=require("jquery"),l=i.create(r,{type:"Validity",createMain:function(){return document.createElement("label")},initOptions:function(e){var i=t.extend({},e);this.$super([i])},display:function(e,t){this.main.innerHTML=t},repaint:s.createRepaint(r.prototype.repaint,{name:["target","targetType"],paint:function(t){var i=t.validity?t.validity.getValidState():"",n=e(t,i);t.main.className=n.join(" ")}},{name:"focusTarget",paint:function(e,t){var i=o(e.main);if(i.is("label"))if(t&&t.id)i.attr("for",t.id);else i.removeAttr("for")}},{name:"validity",paint:function(i,n){var r=n&&n.getValidState(),a=e(i,r);if(i.main.className=a.join(" "),i.disposeChildren(),n){var s=n.getCustomMessage();if(!s){var o=t.find(n.getStates(),function(e){return!e.getState()});s=o&&o.getMessage()}if(i.display(r,s||"",n),i.helper.initChildren(),s&&(!i.target||!i.target.isHidden()))i.show();else i.hide()}else i.main.innerHTML="",i.hide()}}),dispose:function(){if(!this.helper.isInStage("DISPOSED")){if(this.target)this.target.validityLabel=null,this.target=null;this.focusTarget=null,o(this.main).remove(),this.$super(arguments)}}});return n.register(l),l}),define("esui/validator/Validity",["require","underscore","eoo"],function(require){var e=require("underscore"),t=require("eoo"),i=t.create({constructor:function(){this.states=[],this.stateIndex={},this.customMessage="",this.customValidState=null},addState:function(e,t){if(this.stateIndex[e]){if(this.stateIndex[e]===t)return;for(var i=0;i<this.states.length;i++)if(this.states[i]===this.stateIndex[e]){this.states.splice(i,1);break}}this.states.push(t),this.stateIndex[e]=t},getState:function(e){return this.stateIndex[e]||null},getStates:function(){return this.states.slice()},getCustomMessage:function(){return this.customMessage},setCustomMessage:function(e){this.customMessage=e},setCustomValidState:function(e){this.customValidState=e},isValid:function(){return e.all(this.getStates(),function(e){return e.getState()})},getValidState:function(){return this.customValidState||(this.isValid()?"valid":"invalid")}});return i}),define("esui/InputControl",["require","./lib","./Control","./Validity","./validator/Validity","./main","underscore","eoo","./painters","jquery"],function(require){var e=require("./lib"),t=require("./Control"),i=require("./Validity"),n=require("./validator/Validity"),r=require("./main"),a=require("underscore"),s=require("eoo"),o=require("./painters"),l=require("jquery"),d=s.create(t,{constructor:function(e){if(e=e?a.extend({},e):{},e.main&&!e.name)e.name=e.main.getAttribute("name");this.$super([e])},ignoreStates:t.prototype.ignoreStates.concat("read-only"),getCategory:function(){return"input"},getFocusTarget:function(){return null},getValue:function(){return this.stringifyValue(this.getRawValue())},setValue:function(e){var t=this.parseValue(e);this.setRawValue(t)},getRawValue:function(){return this.rawValue},setRawValue:function(e){this.setProperties({rawValue:e})},setProperties:function(e){var t=e.value;if(delete e.value,null!=t&&null==e.rawValue)e.rawValue=this.parseValue(t);if(this.hasOwnProperty("readOnly"))this.readOnly=!!this.readOnly;return this.$super(arguments)},repaint:o.createRepaint(t.prototype.repaint,{name:"disabled",paint:function(e,t){var i=e.main.nodeName.toLowerCase();if("input"===i||"select"===i||"textarea"===i)e.main.disabled=t}},{name:"readOnly",paint:function(e,t){var i=t?"addState":"removeState";e[i]("read-only");var n=e.main.nodeName.toLowerCase();if("input"===n||"select"===n||"textarea"===n)e.main.readOnly=t}},{name:"hidden",paint:function(e){var t=e.getValidityLabel(!0);if(t){var i=r.getConfig("uiClassPrefix"),n=[].concat(i+"-hidden",i+"-validity-hidden",e.helper.getPartClasses("validity-hidden")),a=e.isHidden()?"addClass":"removeClass";l(t)[a](n.join(" "))}}}),stringifyValue:function(e){return null!=e?e+"":""},parseValue:function(e){return e},setReadOnly:function(e){e=!!e,this[e?"addState":"removeState"]("read-only")},isReadOnly:function(){return this.hasState("read-only")},getValidationResult:function(){var e=new n,t={validity:e};t=this.fire("beforevalidate",t);for(var i=r.createRulesByControl(this),a=0,s=i.length;s>a;a++){var o=i[a];e.addState(o.getName(),o.check(this.getValue(),this))}if(!e.isValid())t=this.fire("invalid",t);return this.fire("aftervalidate",t),e},checkValidity:function(){var e=this.getValidationResult();return e.isValid()},validate:function(){var e=this.getValidationResult();return this.showValidity(e),e.isValid()},getValidityLabel:function(t){if(!this.helper.isInStage("RENDERED"))return null;var n=this.validityLabel&&this.viewContext.get(this.validityLabel);if(!n&&!t){var r={id:this.id+"-validity",viewContext:this.viewContext};if(n=new i(r),this.main.nextSibling){var a=this.main.nextSibling;n.insertBefore(a)}else n.appendTo(this.main.parentNode);this.validityLabel=n.id}if((8===e.ie||7===e.ie)&&n)l(n.main.parentNode).toggleClass("fuck-the-ie");return n},showValidity:function(e){if(this.validity)this.removeState("validity-"+this.validity.getValidState());this.validity=e,this.addState("validity-"+e.getValidState());var t=this.getValidityLabel();if(t){var i={target:this,focusTarget:this.getFocusTarget(),validity:e};t.setProperties(i)}},hideValidity:function(){var e=new n;this.showValidity(e)},showValidationMessage:function(e,t){t=t||"";var i=new n;i.setCustomValidState(e),i.setCustomMessage(t),this.showValidity(i)},dispose:function(){if(!this.helper.isInStage("DISPOSED")){var e=this.getValidityLabel(!0);if(e)e.dispose();this.$super(arguments)}}});return d}),define("esui/behavior/textchange",["require","jquery"],function(require){var e=require("jquery"),t=document.createElement("input"),i="oninput"in t&&(!("documentMode"in document)||document.documentMode>9),n=function(e){return"INPUT"===e.nodeName&&("text"===e.type||"password"===e.type)||"TEXTAREA"===e.nodeName},r=null,a=null,s=null,o={get:function(){return s.get.call(this)},set:function(e){a=e,s.set.call(this,e)}},l=function(t){if("value"===t.propertyName){var i=t.srcElement.value;if(i!==a){a=i;var n=new e.Event(t);n.type="textchange",e(r).trigger(n)}}},d=function(e){r=e,a=e.value,s=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(r,"value",o),r.attachEvent("onpropertychange",l)},u=function(){if(r)delete r.value,r.detachEvent("onpropertychange",l),r=null,a=null,s=null};if(i)e(document).on("input",function(t){var i=t.target;if(true)t.type="textchange",e(i).trigger(t)});else e(document).on("focusin",function(e){var t=e.target;if(n(t))u(),d(t)}).on("focusout",function(){u()}).on("selectionchange keyup keydown",function(t){if(r&&r.value!==a)a=r.value,t.type="textchange",e(r).trigger(t)})}),define("esui/TextBox",["require","eoo","./main","underscore","./lib","./InputControl","./painters","./behavior/textchange"],function(require){function e(e,t){var i=e.nodeName.toLowerCase();if("textarea"===i)t.mode="textarea";else{var n=e.type;t.mode="password"===n?"password":"text"}if(!t.placeholder)t.placeholder=e.getAttribute("placeholder");this.helper.extractOptionsFromInput(e,t)}function t(e){var t=e.which;if(13===t)this.fire("enter");var i={keyCode:t,key:String.fromCharCode(t),ctrlKey:e.ctrlKey,altKey:e.altKey};this.fire("keypress",i)}function i(e,t){var i=u.g(e.inputId);if(!h){var n=e.helper.getPart("placeholder");if("boolean"!=typeof t)t=document.activeElement===i;if(!t&&!e.getRawValue())e.helper.removePartClasses("placeholder-hidden",n);else e.helper.addPartClasses("placeholder-hidden",n)}}function n(){if(i(this,!0),this.autoSelect){var e=u.g(this.inputId);e.select()}this.fire("focus")}function r(){i(this,!1),this.fire("blur")}function a(e){if("textchange"===e.type)this.fire("input")}function s(){this.fire("iconclick")}var o=require("eoo"),l=require("./main"),d=require("underscore"),u=require("./lib"),c=require("./InputControl"),h="placeholder"in document.createElement("input"),f=require("./painters");require("./behavior/textchange");var p=o.create(c,{type:"TextBox",initOptions:function(t){var i={width:200,mode:"text",placeholder:"",autoSelect:!1,icon:null};i.name=this.main.getAttribute("name");var n;if(u.isInput(this.main))n=this.main;else if(this.main.children.length>0)this.innerInput=!0,n=this.main.children[0];if(n)e.call(this,n,i);if(d.extend(i,t),!i.hasOwnProperty("title")&&this.main.title)i.title=this.main.title;this.setProperties(i)},getFocusTarget:function(){return u.g(this.inputId)},initStructure:function(){var e;if(u.isInput(this.main)){var t=this.helper.replaceMain();if(u.removeAttribute(this.main,"tabindex"),this.inputId=t.id||this.helper.getId("input"),this.main.id)this.main.id=this.helper.getId();e=t.cloneNode(!1),u.removeAttribute(e,l.getConfig("instanceAttr")),e.id=this.inputId,this.main.appendChild(e)}else if(this.innerInput)this.inputId=this.helper.getId("input"),this.main.children[0].id=this.inputId;else{this.inputId=this.helper.getId("input");var i="textarea"===this.mode?'<textarea id="'+this.inputId+'"':'<input type="'+this.mode+'" placeholder="'+this.placeholder+'" id="'+this.inputId+'"';if(this.name)i+=' name="'+d.escape(this.name)+'"';i+="textarea"===this.mode?"></textarea>":" />",this.main.innerHTML=i}e=u.g(this.inputId);var n=this.icon;if(n){var r=document.createElement("span");r.className=n+" "+this.helper.getPartClasses("icon"),u.insertBefore(r,e)}if(!h){var a=document.createElement("label");a.id=this.helper.getId("placeholder"),u.setAttribute(a,"for",e.id),this.helper.addPartClasses("placeholder",a),u.insertAfter(a,e)}},initEvents:function(){var e=u.g(this.inputId);if(this.helper.addDOMEvent(e,"keypress",t),this.helper.addDOMEvent(e,"focus",n),this.helper.addDOMEvent(e,"blur",r),this.helper.addDOMEvent(e,"textchange",d.bind(a,this)),this.helper.delegateDOMEvent(e,"change"),this.icon)this.helper.addDOMEvent(this.main.firstChild,"click",s)},repaint:f.createRepaint(c.prototype.repaint,{name:"rawValue",paint:function(e,t){var n=u.g(e.inputId);n.value=e.stringifyValue(t),i(e)}},{name:"title",paint:function(e,t){var i=u.g(e.inputId),n=e.helper.getPart("placeholder");if(t){if(u.setAttribute(e.main,"title",t),u.setAttribute(i,"title",t),n)u.setAttribute(n,"title",t)}else if(u.removeAttribute(e.main,"title"),u.removeAttribute(i,"title"),n)u.removeAttribute(n,"title")}},{name:"maxLength",paint:function(e,t){var i=u.g(e.inputId);if(t=parseInt(t,10),!t||0>=t){try{i.maxLength=void 0,delete i.maxLength}catch(n){}u.removeAttribute(i,"maxlength"),u.removeAttribute(i,"maxLength")}else i.maxLength=t,u.setAttribute(i,"maxlength",t)}},{name:["disabled","readOnly"],paint:function(e,t,i){var n=u.g(e.inputId);n.disabled=t,n.readOnly=i}},{name:"placeholder",paint:function(e,t){var n=u.g(e.inputId);if(h)if(t)u.setAttribute(n,"placeholder",t);else u.removeAttribute(n,"placeholder");else{var r=e.helper.getPart("placeholder");r.innerHTML=d.escape(t||"")}i(e)}},{name:["hint","hintType"],paint:function(e,t,i){var n=e.helper.getPart("hint");if(e.removeState("hint-prefix"),e.removeState("hint-suffix"),!t&&n)u.removeNode(n);if(t){if(!n)n=document.createElement("label"),n.id=e.helper.getId("hint"),e.helper.addPartClasses("hint",n),u.setAttribute(n,"for",e.inputId);n.innerHTML=d.escape(t),i="prefix"===i?"prefix":"suffix";var r="prefix"===i?"insertBefore":"insertAfter",a=u.g(e.inputId);u[r](n,a),e.addState("hint-"+i)}}},{name:["width","hint","hidden"],paint:function(e,t,i,n){if(!n&&!isNaN(t)){if(i){var r=e.helper.getPart("hint");if(r)t-=r.offsetWidth}var a=u.g(e.inputId);a.style.width=t+"px";var s=e.helper.getPart("placeholder");if(s)s.style.maxWidth=t+"px"}}},{name:"height",paint:function(e,t){if(!isNaN(t)){var i=e.helper.getPart("hint"),n=t+"px";if(i)i.style.height=n,i.style.lineHeight=n;var r=u.g(e.inputId);r.style.height=n;var a=e.helper.getPart("placeholder");if(a)a.style.height=n,a.style.lineHeight=n}}}),getValidityLabel:function(){var e=c.prototype.getValidityLabel.apply(this,arguments);if(e)e.set("targetType","textarea"===this.mode?"TextArea":"TextBox");return e},getRawValue:function(){var e=u.g(this.inputId);return e?e.value:this.rawValue||this.value||""},getRawValueProperty:function(){return this.getRawValue.apply(this,arguments)}});return l.register(p),p}),define("esui/Label",["require","underscore","./lib","./Control","./painters","./main","eoo","jquery"],function(require){var e=require("underscore"),t=require("./lib"),i=require("./Control"),n=require("./painters"),r=require("./main"),a=require("eoo"),s=require("jquery"),o=a.create(i,{type:"Label",createMain:function(e){if(!e.tagName)return this.$super([e]);else return document.createElement(e.tagName)},initOptions:function(i){var n={title:""};if(e.extend(n,i),n.tagName=this.main.nodeName.toLowerCase(),null==n.text)n.text=t.trim(t.getText(this.main));e.extend(this,n)},initEvents:function(){this.helper.delegateDOMEvent(this.main,"click")},repaint:n.createRepaint(i.prototype.repaint,n.attribute("title"),n.text("text"),{name:"forTarget",paint:function(e,i){if(s(e.main).is("label"))e.helper.addDOMEvent({once:!0},e.main,"mousedown",function(){var e=this.viewContext.get(i),n=e&&"function"==typeof e.getFocusTarget&&e.getFocusTarget();if(n&&n.id)t.setAttribute(this.main,"for",n.id)})}}),setText:function(e){this.setProperties({text:e})},getText:function(){return this.text},setTitle:function(e){this.setProperties({title:e})},getTitle:function(){return this.title}});return r.register(o),o}),define("esui/behavior/Base",["require","jquery","underscore","eoo"],function(require){var e=require("jquery"),t=require("underscore"),i=require("eoo"),n=i.create({type:"behaviorBase",constructor:function(i,r){this.options=t.extend({},n.defaultProperties,i),this.customEventPrefix=this.options.customEventPrefix,this.eventNamespace="."+this.type+e.guid++,this.classPrefix=this.options.classPrefix,this.bindings=e(),this.element=e(r),r=this.element[0],this.document=e(r.style?r.ownerDocument:r.document||r),this.window=e(this.document[0].defaultView||this.document[0].parentWindow),this.init()},init:function(){},trigger:function(t,i,n){i=new e.Event(i),i.type=(this.customEventPrefix+t).toLowerCase(),i.target=this.element[0];var r=i.originalEvent;if(r)for(var a in r)if(!(a in i))i[a]=r[a];n=n||{},this.element.trigger(i,n);var s=this.options[t];return!(e.isFunction(s)&&s.apply(this.element[0],[i].concat(n))===!1)},on:function(t,i,n){if("boolean"!=typeof t)n=i,i=t,t=!1;if(!n)n=i,i=this.element;else i=e(i),this.bindings=this.bindings.add(i);var r=this;e.each(n,function(n,a){function s(){if(t||r.options.disabled!==!0)return a="string"==typeof a?r[a]:a,a.apply(r,arguments);else return void 0}if("string"!=typeof a)s.guid=a.guid=a.guid||s.guid||e.guid++;var o=n.match(/^([\w:-]*)\s*(.*)$/),l=o[1]+r.eventNamespace,d=o[2];i.on(l,d,s)})},getClassName:function(e,i,n){var r=this,a=r.classPrefix;if(t.isString(e))n=i,i=e,e=!1;if(!n)n=this.type;i=i||"";var s=[];return t.each(i.split(/\s+/g),function(t){var i;if(t)if(0===t.indexOf(a))i=t;else i=[a,n,t].join("-");else i=[a,n].join("-");if(e)i="."+i;s.push(i)}),s.join(" ")},addClass:function(e,t){this.toggleClass(e,t,!0)},removeClass:function(e,t){this.toggleClass(e,t,!1)},toggleClass:function(i,n,r){if(t.isBoolean(i))r=i,n="",i=this.element;else if(t.isBoolean(n))r=n,n=i,i=this.element;else i=e(i||this.element);i.toggleClass(this.getClassName(n),r)},hasClass:function(e,i){if(t.isString(e))i=e,e=this.element;e.hasClass(this.getClassName(i))},setOptions:function(e){var i=this;t.each(e,function(t,n){i.setOption(n,e[n])})},setOption:function(e,t){this.options[e]=t},enable:function(){return this.setOptions({disabled:!1})},disable:function(){return this.setOptions({disabled:!0})},dispose:function(){this.element.off(this.eventNamespace).removeData(this.type),this.bindings.off(this.eventNamespace)}});return n.defaultProperties={customEventPrefix:"base",classPrefix:"ui"},n}),define("esui/behavior/util",["require","jquery"],function(require){var e=require("jquery");return e.fn.extend({scrollParent:function(t){var i=this.css("position"),n="absolute"===i,r=t?/(auto|scroll|hidden)/:/(auto|scroll)/,a=this.parents().filter(function(){var t=e(this);if(n&&"static"===t.css("position"))return!1;else return r.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"===i||!a.length?e(this[0].ownerDocument||document):a},disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(e+".esui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.off(".esui-disableSelection")}}),{safeActiveElement:function(e){var t;try{t=e.activeElement}catch(i){t=e.body}if(!t)t=e.body;if(!t.nodeName)t=e.body;return t},safeBlur:function(t){if(t&&"body"!==t.nodeName.toLowerCase())e(t).blur()},ie:!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())}}),define("esui/behavior/bridge",["require","jquery"],function(require){var e=require("jquery");return function(t,i){e.fn[t]=function(n){var r="string"==typeof n,a=Array.prototype.slice.call(arguments,1),s=this;if(r){var o=n;this.each(function(){var i=e.data(this,t);if("instance"===o)return s=i,!1;if(!i)return e.error("cannot call methods on "+t+' prior to initialization; attempted to call method "'+o+'"');if(!e.isFunction(i[o])||"_"===o.charAt(0))return e.error('no such method "'+o+'" for '+t+" widget instance");var n=i[o].apply(i,a);if(n!==i&&void 0!==n)return s=n&&n.jquery?s.pushStack(n.get()):n,!1;else return void 0})}else{if(a.length)n=e.extend.apply(null,[n].concat(a));n=n||{},this.each(function(){var r=e.data(this,t);if(r){if(r.setOptions(n),r.init)r.init()}else e.data(this,t,new i(n,this))})}return s}}}),define("esui/behavior/Mouse",["require","jquery","underscore","./Base","./util","eoo","./bridge"],function(require){function e(e){if(!c){this.mouseMoved=!1,this.mouseStarted&&this.mouseUp(e),this.mouseDownEvent=e;var a=this,s=1===e.which,o="string"==typeof this.options.cancel&&e.target.nodeName?r(e.target).closest(this.options.cancel).length:!1;if(!s||o||!this.mouseCapture(e))return!0;if(this.mouseDelayMet=!this.options.delay,!this.mouseDelayMet)this.mouseDelayTimer=setTimeout(function(){a.mouseDelayMet=!0},this.options.delay);if(i.call(this,e)&&n.call(this,e))if(this.mouseStarted=this.mouseStart(e),!this.mouseStarted)return e.preventDefault(),!0;if(!0===r.data(e.target,this.type+".preventClickEvent"))r.removeData(e.target,this.type+".preventClickEvent");return this.mouseMoveDelegate=function(e){return t.call(a,e)},this.mouseUpDelegate=function(e){return a.mouseUp(e)},this.document.bind("mousemove."+this.type,this.mouseMoveDelegate).bind("mouseup."+this.type,this.mouseUpDelegate),e.preventDefault(),c=!0,!0}}function t(e){if(this.mouseMoved)if(o.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this.mouseUp(e);else if(!e.which)return this.mouseUp(e);
if(e.which||e.button)this.mouseMoved=!0;if(this.mouseStarted)return this.mouseDrag(e),e.preventDefault();if(i.call(this,e)&&n.call(this,e))this.mouseStarted=this.mouseStart(e),this.mouseStarted?this.mouseDrag(e):this.mouseUp(e);return!this.mouseStarted}function i(e){return Math.max(Math.abs(this.mouseDownEvent.pageX-e.pageX),Math.abs(this.mouseDownEvent.pageY-e.pageY))>=this.options.distance}function n(){return this.mouseDelayMet}var r=require("jquery"),a=require("underscore"),s=require("./Base"),o=require("./util"),l=require("eoo"),d=require("./bridge"),u="mouse",c=!1;r(document).mouseup(function(){c=!1});var h=l.create(s,{type:u,constructor:function(e,t){e=a.extend({cancel:"input, textarea, button, select, option",distance:1,delay:0},e),this.$super([e,t]),this.mouseDownEvent=null,this.mouseMoved=!1,this.customEventPrefix="mouse"},init:function(){this.$super(arguments);var t=this,i=r(this.element)[0];i=r(i),i.bind("mousedown."+this.type,function(i){return e.call(t,i)}).bind("click."+this.type,function(e){if(!0===r.data(e.target,t.type+".preventClickEvent"))return r.removeData(e.target,t.type+".preventClickEvent"),e.stopImmediatePropagation(),!1;else return void 0}),this.started=!1},dispose:function(){if(this.element.unbind("."+this.type),this.mouseMoveDelegate)this.document.unbind("mousemove."+this.type,this.mouseMoveDelegate).unbind("mouseup."+this.type,this.mouseUpDelegate);this.$super(arguments)},mouseUp:function(e){if(this.document.unbind("mousemove."+this.type,this.mouseMoveDelegate).unbind("mouseup."+this.type,this.mouseUpDelegate),this.mouseStarted){if(this.mouseStarted=!1,e.target===this.mouseDownEvent.target)r.data(e.target,this.type+".preventClickEvent",!0);this.mouseStop(e)}return c=!1,!1},mouseCapture:function(e){return this.trigger("capture",e)},mouseStart:function(e){return this.trigger("start",e)},mouseDrag:function(e){this.trigger("drag",e)},mouseStop:function(e){this.trigger("stop",e)}});return d(u,h),h}),define("ub-ria-ui/colorPicker/AdvancedColorPicker",["require","esui","esui/lib","esui/Control","underscore","./Color","eoo","jquery","esui/painters","esui/TextBox","esui/Label","esui/behavior/Mouse"],function(require){function e(){return[this.helper.getPartBeginTag("pallete","div"),this.helper.getPartBeginTag("hue","div"),this.helper.getPartBeginTag("hue-slider","div"),this.helper.getPartEndTag("hue-slider","div"),this.helper.getPartBeginTag("hue-pointer","div"),this.helper.getPartEndTag("hue-pointer","div"),this.helper.getPartEndTag("hue","div"),this.helper.getPartBeginTag("canvas","div"),this.helper.getPartBeginTag("canvas-mask","div"),this.helper.getPartEndTag("canvas-mask","div"),this.helper.getPartBeginTag("canvas-pointer","span"),this.helper.getPartEndTag("canvas-pointer","span"),this.helper.getPartEndTag("canvas","div"),this.helper.getPartBeginTag("alpha","div"),this.helper.getPartBeginTag("alpha-slider","div"),this.helper.getPartEndTag("alpha-slider","div"),this.helper.getPartBeginTag("alpha-pointer","div"),this.helper.getPartEndTag("alpha-pointer","div"),this.helper.getPartEndTag("alpha","div"),this.helper.getPartEndTag("pallete","div")].join("")}function t(){return[this.helper.getPartBeginTag("compare","div"),this.helper.getPartBeginTag("compare-title","div"),this.beforeText,this.helper.getPartEndTag("compare-title","div"),this.helper.getPartBeginTag("compare-color-old","div"),this.helper.getPartEndTag("compare-color-old","div"),this.helper.getPartBeginTag("compare-color-new","div"),this.helper.getPartEndTag("compare-color-new","div"),this.helper.getPartBeginTag("compare-title","div"),this.afterText,this.helper.getPartEndTag("compare-title","div"),this.helper.getPartEndTag("compare","div")].join("")}function i(){return[this.helper.getPartBeginTag("input","div"),n(this,"hex",this.hexText),this.helper.getPartBeginTag("input-rgba","div"),n(this,"red","R"),n(this,"green","G"),n(this,"blue","B"),n(this,"alpha",this.alphaText),this.helper.getPartEndTag("input-rgba","div"),this.helper.getPartEndTag("input","div")].join("")}function n(e,t,i){var n=e.helper.getId(t+"-input"),r=t+"Input",a=[e.helper.getPartClassName("color-field"),e.helper.getPartClassName("color-field-"+t)],s='<div class="'+a.join(" ")+'"><div id="'+n+'" data-ui-type="TextBox" data-ui-variants="fluid" data-ui-width="auto"data-ui-child-name="'+r+'" ></div><label data-ui-type="Label" for="'+n+'">'+i+"</label></div>";return s}function r(){var e=M.hsbToHex(this.hue,this.saturation,this.bright);if(e!==this.displayHex)this.displayHex=e,this.fire("change")}function a(){var e=this.getChild("redInput").getValue(),t=this.getChild("greenInput").getValue(),i=this.getChild("blueInput").getValue(),n=M.rgbToHex(e,t,i),r=M.rgbToHSB(e,t,i);this.displayHex=n,this.hue=r.h,this.saturation=r.s,this.bright=r.b,d.call(this),u.call(this,"new",this.displayHex),v.call(this),g.call(this),y.call(this),this.fire("change")}function s(){var e=M.hexToHSB(this.displayHex);this.hue=e.h,this.saturation=e.s,this.bright=e.b,l.call(this),u.call(this,"new",this.displayHex),g.call(this),y.call(this),this.fire("change")}function o(e){if(!x.hasClass(e.target,this.helper.getPartClassName("canvas-pointer"))){var t=this.helper.getPart("canvas-mask"),i=L(t),n=L(t).offset(),a=e.pageY-n.top;a=Math.min(a,i.height()),a=Math.max(a,0);var s=e.pageX-n.left;s=Math.min(s,i.width()),s=Math.max(s,0),this.bright=Math.min(1-a/i.height(),1),this.saturation=s/i.width(),r.call(this),y.call(this),l.call(this),d.call(this),u.call(this,"new",this.displayHex)}}function l(){var e=this.displayHex,t=this,i=M.hexToRGB(e),n=["red","green","blue"];w.each(n,function(e){var n=t.getChild(e+"Input");n.setValue(i[e])})}function d(){var e=this.displayHex,t=this.getChild("hexInput");t.setValue(e)}function u(e,t){t=new Array(6-t.length+1).join("0")+t;var i=this.helper.getPart("compare-color-"+e);i.style.background="#"+t}function c(){var e=this.helper.getPart("alpha-slider"),t="linear-gradient(to top, rgba(${red}, ${green}, ${blue}, 0), rgb(${red}, ${green}, ${blue}))",i="progid:DXImageTransform.Microsoft.gradient(startColorstr=#FF${hex}, endColorstr=#00${hex})";if(x.ie&&x.ie<=9)e.style.filter=x.format(i,{hex:this.displayHex});else{var n=M.hexToRGB(this.displayHex);e.style.backgroundImage=x.format(t,n)}}function h(){var e=this.displayAlpha,t=this.getChild("alphaInput");t.setValue(e)}function f(e){if(!x.hasClass(e.target,this.helper.getPartClassName("alpha-pointer"))){var t=this.helper.getPart("alpha-slider"),i=L(t),n=i.offset(),r=e.pageY-n.top;r=Math.min(r,i.height()),r=Math.max(r,0),this.displayAlpha=100-Math.round(r/i.height()*100),p.call(this),h.call(this),this.fire("change")}}function p(){var e=this.helper.getPart("alpha"),t=this.helper.getPart("alpha-pointer");if(!this.alphaSliderSize)this.alphaSliderSize={sliderHeight:e.offsetHeight,pointerHeight:t.offsetHeight};var i=this.alphaSliderSize.sliderHeight*(1-this.displayAlpha/100);i-=this.alphaSliderSize.pointerHeight/2,t.style.top=Math.round(i)+"px"}function m(e){if(!L(e.target).hasClass(this.helper.getPartClassName("hue-pointer"))){var t=this.helper.getPart("hue-slider"),i=L(t),n=i.offset(),a=e.pageY-n.top;a=Math.min(a,i.height()),a=Math.max(a,0),this.hue=a/e.target.offsetHeight*360,v.call(this),r.call(this),g.call(this),l.call(this),d.call(this),u.call(this,"new",this.displayHex)}}function g(){var e=M.hsbToHex(this.hue,1,1),t=this.helper.getPart("canvas");t.style.backgroundColor="#"+e,c.call(this)}function v(){var e=this.helper.getPart("hue"),t=this.helper.getPart("hue-pointer");if(!this.hueSliderSize)this.hueSliderSize={pointerHeight:t.offsetHeight,sliderHeight:e.offsetHeight};var i=this.hue*this.hueSliderSize.sliderHeight/360;i-=this.hueSliderSize.pointerHeight/2,t.style.top=Math.round(i)+"px"}function y(){var e=this.helper.getPart("canvas"),t=x.g(this.helper.getId("canvas-pointer"));if(!this.canvasSize)this.canvasSize={canvasWidth:e.offsetWidth,canvasHeight:e.offsetHeight,pointerHeight:t.offsetHeight,pointerWidth:t.offsetWidth};var i=this.canvasSize.canvasWidth*this.saturation;i-=this.canvasSize.pointerWidth/2;var n=(1-this.bright)*this.canvasSize.canvasHeight;n-=this.canvasSize.pointerHeight/2,t.style.left=Math.round(i)+"px",t.style.top=Math.round(n)+"px"}var _=require("esui"),x=require("esui/lib"),b=require("esui/Control"),w=require("underscore"),M=require("./Color"),C=require("eoo"),L=require("jquery"),T=require("esui/painters");require("esui/TextBox"),require("esui/Label"),require("esui/behavior/Mouse");var k=C.create(b,{type:"AdvancedColorPicker",initOptions:function(e){var t={hex:"0000ff",displayHex:"0000ff",noAlpha:!1,alpha:100,displayAlpha:100};w.extend(t,k.defaultProperties,e),this.setProperties(t)},initStructure:function(){var n=[e.call(this),t.call(this),i.call(this)];if(this.main.innerHTML=n.join(""),this.initChildren(),this.noAlpha)this.addState("no-alpha")},initEvents:function(){var e=this,t=this.helper.getPart("canvas");L(t).mouse({start:function(t){return o.call(e,t),!0},drag:w.bind(o,this),distance:0});var i=this.helper.getPart("hue");L(i).mouse({start:function(t){return m.call(e,t),!0},drag:w.bind(m,this),distance:0});var n=["red","green","blue"],r=this;w.each(n,function(e){var t=r.getChild(e+"Input");t.on("input",w.bind(a,r))});var l=this.getChild("hexInput");l.on("input",function(){var e=this.getValue();r.displayHex=e,s.call(r),v.call(r)});var d=this.helper.getPart("alpha");L(d).mouse({start:function(t){return f.call(e,t),!0},drag:w.bind(f,this),distance:0});var u=this.getChild("alphaInput");u.on("input",function(){var e=this.getValue();r.displayAlpha=e,p.call(r),r.fire("change")})},repaint:T.createRepaint(b.prototype.repaint,{name:"hex",paint:function(e,t){if(null!=t)e.displayHex=t,d.call(e),s.call(e),u.call(e,"old",e.hex)}},{name:"alpha",paint:function(e,t){if(null!=t)e.displayAlpha=t,p.call(e),h.call(e)}}),updateHex:function(e){this.displayHex=e,d.call(this),s.call(this)},updateAlpha:function(e){this.displayAlpha=e,h.call(this),c.call(this),p.call(this)},getDisplayHex:function(){return this.displayHex},getDisplayAlpha:function(){return this.displayAlpha}});return k.defaultProperties={hexText:"色值",beforeText:"改前",afterText:"改后",alphaText:"透明度"},_.register(k),k}),define("ub-ria-ui/colorPicker/SimpleColorPicker",["require","esui/lib","esui/InputControl","underscore","eoo","esui","esui/painters","jquery"],function(require){function e(e){var t=e.main.getElementsByTagName("span"),i=e.helper.getPartClassName("block");a.each(t,function(e){var t=d(e);if(t.hasClass(i)){var n=t.attr("data-value");if(n===this.rawValue)this.helper.addPartClasses("selected",e);else this.helper.removePartClasses("selected",e)}},e)}function t(e){var t='<span class="'+e.helper.getPartClassName("block")+'" title="${text}" data-value="${value}" style="background-color: ${diplayValue}">${text}</span>',i="<div>";return a.each(e.colors,function(e){if(e.diplayValue=e.value,e.value.indexOf("#")<0)e.diplayValue="#"+e.value;i+=n.format(t,e)}),i+="</div>"}function i(e){var t=this.helper.getPartClassName("block"),i=d(e.target);if(i.hasClass(t)){var n=i.attr("data-value");this.setRawValue(n)}}var n=require("esui/lib"),r=require("esui/InputControl"),a=require("underscore"),s=require("eoo"),o=require("esui"),l=require("esui/painters"),d=require("jquery"),u=s.create(r,{type:"SimpleColorPicker",initOptions:function(e){var t={};a.extend(t,u.defaultProperties,e),this.setProperties(t)},initStructure:function(){this.main.innerHTML=t(this)},initEvents:function(){this.$super(arguments),this.helper.addDOMEvent(this.main,"click",i)},repaint:l.createRepaint(r.prototype.repaint,{name:"rawValue",paint:function(t){e(t)}}),setProperties:function(){var e=this.$super(arguments);if(e.hasOwnProperty("rawValue"))this.fire("change");return e}});return u.defaultProperties={colors:[{text:"#ffffff",value:"ffffff"},{text:"#ededed",value:"ededed"},{text:"#d2d2d2",value:"d2d2d2"},{text:"#bfbfbf",value:"bfbfbf"},{text:"#a0a0a0",value:"a0a0a0"},{text:"#898989",value:"898989"},{text:"#6f6f6f",value:"6f6f6f"},{text:"#626262",value:"626262"},{text:"#434343",value:"434343"},{text:"#333333",value:"333333"},{text:"#1b1b1b",value:"1b1b1b"},{text:"#000000",value:"000000"},{text:"#50a7f9",value:"50a7f9"},{text:"#6ebf40",value:"6ebf40"},{text:"#fff45c",value:"fff45c"},{text:"#f39017",value:"f39017"},{text:"#ec5d57",value:"ec5d57"},{text:"#b36ae2",value:"b36ae2"},{text:"#0065c0",value:"0065c0"},{text:"#92d500",value:"92d500"},{text:"#f5d327",value:"f5d327"},{text:"#c82503",value:"c82503"},{text:"#f39017",value:"f39017"},{text:"#ec5d57",value:"ec5d57"},{text:"#86ccc8",value:"86ccc8"},{text:"#acd599",value:"acd599"},{text:"#7fcdf4",value:"7fcdf4"},{text:"#8c97cb",value:"8c97cb"},{text:"#aa8abd",value:"aa8abd"},{text:"#f19fc2",value:"f19fc2"},{text:"#f26071",value:"f26071"},{text:"#e60013",value:"e60013"},{text:"#eb6102",value:"eb6102"},{text:"#f8b551",value:"f8b551"},{text:"#7fc169",value:"7fc169"},{text:"#009d97",value:"009d97"},{text:"#0068b7",value:"0068b7"},{text:"#1e2087",value:"1e2087"},{text:"#611986",value:"611986"},{text:"#920783",value:"920783"},{text:"#e5007f",value:"e5007f"},{text:"#a40000",value:"a40000"},{text:"#a84300",value:"a84300"},{text:"#cea973",value:"cea973"},{text:"#996b34",value:"996b34"},{text:"#81511c",value:"81511c"},{text:"#372f2c",value:"372f2c"},{text:"#a6927d",value:"a6927d"}],mode:"block"},o.register(u),u}),define("ub-ria-ui/colorPicker/FullColorPicker",["require","esui/Control","underscore","eoo","esui/painters","esui","./AdvancedColorPicker","./SimpleColorPicker"],function(require){function e(){return'<div class="'+this.helper.getPartClassName("advanced-section")+'"><div data-ui-type="AdvancedColorPicker" data-ui-child-name="advanced"data-ui-no-alpha="'+(this.hasAlpha?"false":"true")+'"></div></div>'}function t(){return'<div class="'+this.helper.getPartClassName("simple-section")+'"><div data-ui-type="SimpleColorPicker" data-ui-child-name="simple"></div></div>'}function i(){var e,t=this.getChild("switch");if("full"===this.currentMode)e=this.defaultMode,t.setContent(this.fullModeText);else if(e="full","simple"===this.currentMode)t.setContent(this.simpleModeText);else t.setContent(this.advancedModeText);this.removeState(this.currentMode),this.addState(e),this.currentMode=e}function n(){var e=this.getChild("advanced");if(e){var t=this.displayHex;e.updateHex(t);var i=this.displayAlpha;e.updateAlpha(i)}}var r=require("esui/Control"),a=require("underscore"),s=require("eoo"),o=require("esui/painters"),l=require("esui");require("./AdvancedColorPicker"),require("./SimpleColorPicker");var d=s.create(r,{type:"FullColorPicker",initOptions:function(e){var t={hex:"000000",displayHex:"000000",alpha:100,displayAlpha:100,defaultMode:"simple",switchable:!0,hasAlpha:!0};if(a.extend(t,d.defaultProperties,e),"full"===t.mode||t.switchable===!1)t.switchable=!1;this.setProperties(t)},initStructure:function(){var i=[],n=e.call(this),r=t.call(this);if("full"===this.defaultMode||this.switchable)i=[n,r];else if("simple"===this.defaultMode)i=[r];else i=[n];if(this.switchable){var a=this.helper.getPartClassName("mode-switch");i.push('<div data-ui-variants="link" data-ui-type="Button" data-ui-child-name="switch" '),i.push('class="'+a+'">'+this.fullModeText+"</div>")}this.main.innerHTML=i.join(""),this.initChildren(),this.currentMode=this.defaultMode,this.addState(this.defaultMode)},initEvents:function(){var e=this,t=this.getChild("advanced");if(t)t.on("change",function(){var t=this.getDisplayHex(),i=this.getDisplayAlpha();e.displayHex=t,e.displayAlpha=i,e.fire("change")});var r=this.getChild("simple");if(r)r.on("change",function(){var t=this.getRawValue();e.displayHex=t,n.call(e),e.fire("change")});var s=this.getChild("switch");if(s)s.on("click",a.bind(i,this))},repaint:o.createRepaint(r.prototype.repaint,{name:["hex","alpha"],paint:function(e,t,i){if(null!=t||null!=i){e.displayHex=t,e.displayAlpha=i;var n=e.getChild("advanced");if(n)n.setProperties({hex:t,alpha:i})}}}),getDisplayHex:function(){return this.displayHex},getDisplayAlpha:function(){return this.displayAlpha}});return d.defaultProperties={fullModeText:"完整模式",advancedModeText:"高级模式",simpleModeText:"简单模式"},l.register(d),d}),define("esui/Panel",["require","underscore","./Control","eoo","./painters","./main"],function(require){function e(e,t){var n=this.main,r=document.createElement("div");r.innerHTML=e;for(var a=i.extend({},this.renderOptions,{viewContext:this.viewContext,parent:this}),o=r.childNodes,l=[],d=0;d<o.length;d++)l.push(o[d]);i.each(l,function(e){if(t)n.insertBefore(e,n.firstChild);else n.appendChild(e);s.init(n,a)})}function t(e){if(e.indexOf("-")>=0)e=e.replace(/-\w/g,function(e){return e.charAt(1).toUpperCase()});return e}var i=require("underscore"),n=require("./Control"),r=require("eoo"),a=require("./painters"),s=require("./main"),o=r.create(n,{type:"Panel",getCategory:function(){return"container"},createMain:function(e){if(!e.tagName)return this.$super([e]);else return document.createElement(e.tagName)},initOptions:function(e){var t={};i.extend(t,e),t.tagName=this.main.nodeName.toLowerCase(),this.setProperties(t)},repaint:a.createRepaint(n.prototype.repaint,{name:"content",paint:function(e,t){if(null!=t)e.helper.disposeChildren(),e.main.innerHTML=t;e.helper.initChildren()}}),setContent:function(e){this.setProperties({content:e})},prependContent:function(t){e.call(this,t,!0)},appendContent:function(t){e.call(this,t,!1)},getStyle:function(e){return e=t(e),this.main?this.main.style[e]:""},setStyle:function(e,i){if(e=t(e),this.main)this.main.style[e]=i||""}});return s.register(o),o}),define("esui/Overlay",["require","./lib","./main","./Panel","jquery","underscore","eoo","./painters","./behavior/position"],function(require){function e(e){var t=e.target,i=this.main;if(i){var n=h.contains(i,t)||i===t;if(!n)this.hide()}}function t(){var e=this.attachedTarget,t=this.attachedLayout;if(null!=e){if(f.isString(t))t=t.split(",");this.attachLayout(e,t)}else{var i=f.pick(this,"left","right","top","bottom","width","height");this.selfLayout(i)}}function i(e,t){if(e)return d.g(e);else if(t){if(f.isString(t))t=this.viewContext.get(t)||{};return t.main}return null}function n(e){var t=this.main,i=f.clone(e||{});if(f.isArray(i.align)){var n=f.filter(d.getClassList(t),function(e){return!e.match(/top-|bottom-|right-|left-/)});n.push(this.helper.getPartClasses(i.align.join("-"))),d.setAttribute(t,"className",n.join(" "))}i=f.omit(i,"align"),t.style.top="",t.style.bottom="",t.style.left="",t.style.right="",f.each(i,function(e,i){if(!r(e))t.style[i]=e+"px"})}function r(e,t){if(t){if(!e.hasOwnProperty(t))return!0;e=e[t]}return null==e||0!==e&&""===d.trim(e)}function a(){if(!this.isHidden())t.apply(this)}function s(){var e="ctrl-mask-"+this.helper.getId(),t=d.g(e);if(!t&&this.hasMask)t=document.createElement("div"),t.id=e,document.body.appendChild(t);return t}function o(){var e=s.call(this),t=this.helper.getPartClassName("mask");e.className=t,e.style.display="block"}function l(){var e=s.call(this);h(e).remove()}var d=require("./lib"),u=require("./main"),c=require("./Panel"),h=require("jquery"),f=require("underscore"),p=require("eoo"),m=require("./painters");require("./behavior/position");var g=p.create(c,{type:"Overlay",initOptions:function(e){var t={fixed:!1,autoClose:!0,hasMask:!1,appendToElement:"body"};f.extend(t,e),this.$super([t])},initStructure:function(){var e=h(this.main);e.appendTo(this.appendToElement),this.addState("hidden"),this.$super(arguments)},repaint:m.createRepaint(c.prototype.repaint,{name:["width","height"],paint:function(e,i,n){if(!r(i))if("auto"===i)e.main.style.width="auto";else e.main.style.width=i+"px";if(!r(n))if("auto"===n)e.main.style.height="auto";else e.main.style.height=n+"px";if(!e.isHidden())t.apply(e)}},{name:["attachedDOM","attachedControl"],paint:function(e,t,n){var r=i.call(e,t,n);e.attachedTarget=r}}),show:function(){if(this.helper.isInStage("INITED"))this.render();else if(this.helper.isInStage("DISPOSED"))return;if(this.autoClose)this.helper.addDOMEvent(document,"mousedown",e);if(this.fixed)this.helper.addDOMEvent(window,"resize",a),this.helper.addDOMEvent(window,"scroll",a);if(this.removeState("hidden"),this.hasMask)o.call(this);this.moveToTop(),t.apply(this),this.fire("show")},hide:function(){if(!this.isHidden()){if(this.autoClose)this.helper.removeDOMEvent(document,"mousedown",e);if(this.fixed)this.helper.removeDOMEvent(window,"resize",a),this.helper.removeDOMEvent(window,"scroll",a);if(this.addState("hidden"),this.hasMask)l.call(this)}this.fire("hide")},moveToTop:function(){var e=this.getZIndex();this.main.style.zIndex=e;var t=s.call(this);if(t)t.style.zIndex=e-1},getZIndex:function(){for(var e,t=this.helper.getPrimaryClassName(),i=this.helper.getPrimaryClassName("hidden"),n=1203,r=h(document.body).children().toArray(),a=0,s=r.length;s>a;a++)if(e=h(r[a]),e.hasClass(t)&&!e.hasClass(i))n=Math.max(n,e[0].style.zIndex)+10;return n},selfLayout:function(e){var t=d.page,i=this.main,a=f.clone(e||{}),s=d.getOffset(i);if(r(a,"left")&&r(a,"right"))a.left=(t.getViewWidth()-s.width)/2;else if(!r(a,"left")&&!r(a,"right")){if(r(a,"width"))a.width=t.getViewWidth()-a.right-a.left-h(this.main).css("padding-left")-h(this.main).css("padding-right")-h(this.main).css("border-left-width")-h(this.main).css("border-right-width");a=f.omit(a,"right")}if(a.left=Math.max(a.left,0),a.left=t.getScrollLeft()+a.left,r(a,"top")&&r(a,"bottom"))a.top=(t.getViewHeight()-s.height)/2;else if(!r(a,"top")&&!r(a,"bottom")){if(r(a,"height"))a.height=t.getViewHeight()-a.top-a.bottom-h(this.main).css("padding-top")-h(this.main).css("padding-bottom")-h(this.main).css("border-top-width")-h(this.main).css("border-bottom-width");a=f.omit(a,"bottom")}a.top=Math.max(a.top,0),a.top=t.getScrollTop()+a.top,n.call(this,a)},attachLayout:function(e,t){var i=this.main;t=t||["bottom","left"];var n="right";if("right"===t[0])n="left";else if("top"===t[0])n="bottom";else if("bottom"===t[0])n="top";h(i).position({of:e,at:t[1]+" "+t[0],my:t[1]+" "+n})},moveTo:function(e,t){this.selfLayout({top:e,left:t})},resize:function(){t.apply(this)},dispose:function(){if(!this.helper.isInStage("DISPOSED"))h("#ctrl-mask-"+this.helper.getId()).remove(),h(this.main).remove(),this.$super(arguments)}});return u.register(g),g}),define("esui/Button",["require","underscore","./painters","./Control","jquery","./main","eoo"],function(require){var e=require("underscore"),t=require("./painters"),i=require("./Control"),n=require("jquery"),r=require("./main"),a=require("eoo"),s=a.create(i,{constructor:function(){this.$super(arguments)},type:"Button",initOptions:function(t){var i={content:"",disabled:!1};e.extend(i,t),i.tagName=this.main.nodeName.toLowerCase();var n=this.main.firstChild;if(!i.content&&n&&"div"!==n.nodeName.toLowerCase())i.content=this.main.innerHTML;this.setProperties(i)},initEvents:function(){this.helper.delegateDOMEvent(this.main,"click")},repaint:t.createRepaint(i.prototype.repaint,t.style("width"),{name:"height",paint:function(e,t){if(t){var i=n(e.main);i.css({height:t,lineHeight:t+"px"});var r=i.height();if(r===t){var a=t+parseInt(i.css("borderTopWidth"),10)+parseInt(i.css("borderBottomWidth"),10);i.css("height",a)}}}},t.html("content"),{name:"disabled",paint:function(e,t){var i=n(e.main);if(i.is("button,input"))i.attr("disabled",!!t)}}),setContent:function(e){this.setProperties({content:e})}});return r.register(s),s}),define("ub-ria-ui/colorPicker/ColorPicker",["require","esui/lib","esui/InputControl","eoo","esui","esui/painters","underscore","./FullColorPicker","esui/Overlay","esui/TextBox","esui/Button"],function(require){function e(e){var t=e.target,i=t.getValue();if(i.length>6)i=i.slice(0,6);i=new Array(6-i.length+1).join("0")+i;var n=this.helper.getPart("color-block");n.style.background="#"+i,this.hex=i,this.fire("change")}function t(e){var t=e.target.getValue();this.alpha=t,this.fire("change")}function i(){var e=this.helper.getPart("color-block");e.style.backgroundColor="#"+this.hex;var t=this.getChild("colorInput");if(t.setValue(this.hex),this.hasAlpha){var i=this.getChild("alphaInput");i.setValue(this.alpha)}}function n(){var e=this.getChild("layer");if(e){var t={};if(t.hex=this.getChild("colorInput").getValue(),this.hasAlpha)t.alpha=this.getChild("alphaInput").getValue();var i=e.getChild("colorPicker");if(i)i.setProperties(t)}}function r(){var e=this.helper.createPart("layer","div");d.addClass(e,this.helper.getPartClassName("layer"));var t=""+this.helper.getPartBeginTag("head","div")+this.helper.getPartBeginTag("title","div")+this.chooseColorText+this.helper.getPartEndTag("title","div")+this.helper.getPartBeginTag("close-btn","div")+this.closeText+this.helper.getPartEndTag("close-btn","div")+this.helper.getPartEndTag("head","div")+'<div data-ui-type="FullColorPicker" data-ui-child-name="colorPicker"data-ui-default-mode="'+this.featureMode+'"data-ui-switchable="'+this.switchable+'"data-ui-has-alpha="'+this.hasAlpha+'"></div>'+this.helper.getPartBeginTag("foot-frame","div")+this.helper.getPartBeginTag("foot","div")+'<div class="'+this.helper.getPartClassName("ok-btn")+'"data-ui="type:Button;childName:btnOk;variants:primary">'+this.okText+'</div><div class="'+this.helper.getPartClassName("cancel-btn")+'"data-ui="type:Button;childName:btnCancel;variants:link">'+this.cancelText+"</div>"+this.helper.getPartEndTag("foot","div")+this.helper.getPartEndTag("foot-frame","div"),i=h.create("Overlay",{main:e,childName:"layer",content:t});this.addChild(i),i.appendTo(this.main),i.addState(this.displayMode);var n=i.getChild("colorPicker");if("attached"===this.displayMode){var r=this;n.on("change",function(){var e=this.getDisplayHex(),t=this.getDisplayAlpha();if(e!==r.hex||t!==r.alpha)r.setProperties({hex:e,alpha:t})})}else{var o=this.helper.getPart("close-btn");if(o)this.helper.addDOMEvent(o,"click",s);var l=i.getChild("btnOk"),u=i.getChild("btnCancel");l.on("click",p.bind(a,this)),u.on("click",p.bind(s,this))}return this.getChild("layer")}function a(){var e=this.getChild("layer"),t=e.getChild("colorPicker");this.setProperties({hex:t.getDisplayHex(),alpha:t.getDisplayAlpha()}),e.hide(),this.fire("submit")}function s(){var e=this.getChild("layer");e.hide()}function o(){var e=this.getChild("layer"),t={hasMask:!0,fixed:!1,autoClose:!1};if("attached"===this.displayMode)t={attachedDOM:this.helper.getId("color-block-frame"),attachedLayout:"bottom,left"};e.setProperties(t),e.show(),e.resize()}function l(){var e=this.getChild("layer");if(!e)e=r.call(this);if(e.isHidden())n.call(this),o.call(this);else e.hide()}var d=require("esui/lib"),u=require("esui/InputControl"),c=require("eoo"),h=require("esui"),f=require("esui/painters"),p=require("underscore");require("./FullColorPicker"),require("esui/Overlay"),require("esui/TextBox"),require("esui/Button");var m=c.create(u,{type:"ColorPicker",initOptions:function(e){var t={displayMode:"attached",featureMode:"simple",switchable:!1,hex:"000000",alpha:100,hasAlpha:!0};p.extend(t,m.defaultProperties,e),this.setProperties(t)},initStructure:function(){var e=this.helper,t='<div class="${colorBlockFrameClass}" id="${colorBlockFrameId}"><div class="${colorBlockClass}" id="${colorBlockId}"></div></div><div class="${colorInputClass}" id="${colorInputId}" data-ui-type="TextBox"data-ui-child-name="colorInput" data-ui-hint="#" data-ui-hint-type="prefix"data-ui-width="auto"></div>';if(this.hasAlpha)t+='<div class="${alphaInputClass}" id="${alphaInputId}" data-ui-type="TextBox"data-ui-child-name="alphaInput" data-ui-hint="%" data-ui-hint-type="suffix"data-ui-width="auto"></div>';this.main.innerHTML=d.format(t,{colorBlockFrameClass:e.getPartClassName("color-block-frame"),colorBlockFrameId:e.getId("color-block-frame"),colorBlockClass:e.getPartClassName("color-block"),colorBlockId:e.getId("color-block"),colorInputClass:e.getPartClassName("color-input"),colorInputId:e.getId("color-input"),alphaInputClass:e.getPartClassName("alpha-input"),alphaInputId:e.getId("alpha-input")}),this.initChildren()},initEvents:function(){this.$super(arguments);var i=this.helper.getPart("color-block");this.helper.addDOMEvent(i,"click",function(e){e.stopPropagation()}),this.helper.addDOMEvent(i,"click",l);var n=this.getChild("colorInput");n.on("input",p.bind(e,this));var r=this.getChild("alphaInput");if(r)r.on("input",p.bind(t,this))},repaint:f.createRepaint(u.prototype.repaint,{name:["hex","alpha"],paint:function(e){i.call(e),n.call(e),e.fire("change")}}),setProperties:function(){var e=this.$super(arguments);if(e.hasOwnProperty("rawValue"))this.fire("change");return e},getRawValue:function(){var e={};if(e.hex=this.hex,this.hasAlpha)e.alpha=this.alpha;return e}});return m.defaultProperties={chooseColorText:"颜色选择",closeText:"关闭",okText:"确定",cancelText:"取消"},h.register(m),m}),define("ub-ria-ui/filter/Filter",["require","esui/lib","underscore","esui/InputControl","eoo","esui/painters","esui","jquery"],function(require){function e(e,i){var n='<a href="#" class="${style}" data-value="${value}">${text}</a>';return i=i||"",t.format(n,{style:this.helper.getPartClassName("item")+" "+i,value:e.value,text:e.text})}var t=require("esui/lib"),i=require("underscore"),n=require("esui/InputControl"),r=require("eoo"),a=require("esui/painters"),s=require("esui"),o=require("jquery"),l=r.create(n,{type:"Filter",initOptions:function(e){var t={multiple:!1,custom:!1,customBtnLabel:"自定义",datasource:[],value:null};i.extend(t,e),this.setProperties(t)},initStructure:function(){var e=this.helper,i=this.main,n='<div id="${filterPanelId}" class="${filterPanelStyle}"><label id="${labelId}"></label><div id="${contentPanelId}" class="${contentPanelStyle}"></div></div>';i.innerHTML=t.format(n,{filterPanelStyle:e.getPartClassName("panel"),filterPanelId:e.getId("items-wrapper-panel"),labelId:e.getId("items-label"),contentPanelId:e.getId("items-panel"),contentPanelStyle:e.getPartClassName("items-panel")}),this.initChildren(i)},repaint:a.createRepaint(n.prototype.repaint,{name:["datasource","rawValue"],paint:function(e,t,n){if(!i.isArray(n))n=[n];i.each(e.datasource,function(e){if(i.indexOf(n,e.value)>-1)e.selected=!0}),e.buildItems()}},{name:["label"],paint:function(e,t){o(e.helper.getPart("items-label")).text(t)}}),initEvents:function(){var e=this,t=e.helper;t.addDOMEvent(e.main,"click","a",function(i){var n=t.getPartClassName("item"),r=t.getPartClassName("item-cmd"),a=o(i.target);if(i.preventDefault(),a.hasClass(n)){var s=a.attr("data-value"),l=a.text(),d={value:s,text:l};e.selectItem(d)}else if(a.hasClass(r))e.fire("custom-link-click")})},buildItems:function(){var t="",n=this.helper;i.forEach(this.datasource,function(i){var r=i.selected?n.getPartClassName("item-active"):"";t+=e.call(this,i,r)},this);var r=n.getPart("items-panel");r.innerHTML=t,this.custom&&this.buildCustomItem()},addItem:function(e){this.datasource.push(e),this.buildItems()},buildCustomItem:function(){var e='<a href="#" id="${customLinkId}" class="${style}">${text}</a>',i=this.helper,n=i.getPart("items-panel");o(n).append(t.format(e,{customLinkId:i.getId("custom-link"),style:i.getPartClassName("item-cmd"),text:this.customBtnLabel}))},unselectItem:function(e){if(e&&this.getItemByValue(e.value)){var t=this.getItemByValue(e.value);t.selected=!1,this.buildItems()}},selectItem:function(e){var t,i=this.getItemByValue(e.value),n=i.selected;if(!this.multiple&&!n){var r=this.getSelectedItems();if(r.length>0)t=r[0],t.selected=!1}i.selected=!i.selected,this.fire("change",{item:e,lastItem:t,action:n?"unselect":"select"}),this.buildItems()},getItemByValue:function(e,t){var n;return t=t||this.datasource,i.each(t,function(t){if(t.value===e)n=t}),n},getSelectedItems:function(){var e=[];return i.each(this.datasource,function(t){if(t.selected)e.push(t)}),e},getValue:function(){var e=this.getSelectedItems(),t=[];return i.each(e,function(e){t.push(e.value)}),t}});return s.register(l),l}),define("ub-ria-ui/filter/FilterResult",["require","esui/lib","underscore","esui/InputControl","eoo","esui/main","esui/painters","jquery","esui/Label"],function(require){var e=require("esui/lib"),t=require("underscore"),i=require("esui/InputControl"),n=require("eoo"),r=require("esui/main"),a=require("esui/painters"),s=require("jquery");
require("esui/Label");var o=n.create(i,{type:"FilterResult",initOptions:function(e){var i={datasource:[]};t.extend(i,e),this.setProperties(i)},initStructure:function(){var t=this.helper,i=this.main,n='<div id="${filterPanelId}" class="${filterPanelStyle}"><label id="${labelId}"></label><div id="${contentPanelId}" class="${contentPanelStyle}"></div></div>';i.innerHTML=e.format(n,{filterPanelStyle:t.getPartClassName("panel"),filterPanelId:t.getId("items-wrapper-panel"),labelId:t.getId("items-label"),contentPanelId:t.getId("items-panel"),contentPanelStyle:t.getPartClassName("items-panel")}),this.initChildren(i)},addItem:function(e){if(!this.getItemByValue(e.value))this.datasource.push(e),this.buildItems()},getSelectedItemsPanel:function(){var e=this.helper.getId("items-panel");return this.viewContext.get(e)},initEvents:function(){var e=this;this.helper.addDOMEvent(e.main,"click","a",function(t){var i=s(t.currentTarget),n=i.attr("data-value"),r=i.children(":first-child").text(),a={value:n,text:r};e.removeItem(a)})},removeItem:function(e){if(e){var i=this.getItemByValue(e.value);this.datasource=t.without(this.datasource,i),this.fire("change",{item:e}),this.buildItems()}},getItemByValue:function(e){var i;return t.each(this.datasource,function(t){if(t.value===e)i=t}),i},repaint:a.createRepaint(i.prototype.repaint,{name:["datasource"],paint:function(e){e.buildItems()}},{name:["label"],paint:function(e,t){s(e.helper.getPart("items-label")).text(t)}}),buildItems:function(){var i='<a href="#" class="${style}" data-value="${value}"><span>${text}</span><span class="${iconClass} ${removeClass}"></span></a>',n="",r=this.helper;t.forEach(this.datasource,function(t){n+=e.format(i,{value:t.value,text:t.text,style:r.getPartClassName("item"),iconClass:r.getIconClass(),removeClass:r.getPartClassName("remove")})});var a=r.getPart("items-panel");s(a).html(n)},getSelectedItems:function(){var e=[];return t.each(this.datasource,function(t){if(t.selected)e.push(t)}),e},getValue:function(){var e=this.getSelectedItems(),i=[];return t.each(e,function(e){i.push(e.value)}),i}});return r.register(o),o}),define("ub-ria-ui/helper/swfHelper",["require","jquery"],function(require){var e=require("jquery");!function(e,t,i){function n(e,t){var i=(e[0]||0)-(t[0]||0);return i>0||!i&&e.length>0&&n(e.slice(1),t.slice(1))}function r(e){if(typeof e!==o)return e;var t=[],i="";for(var n in e){if(typeof e[n]===o)i=r(e[n]);else i=[n,l?encodeURI(e[n]):e[n]].join("=");t.push(i)}return t.join("&")}function a(e){var t=[];for(var i in e)if(e[i])t.push([i,'="',e[i],'"'].join(""));return t.join(" ")}function s(e){var t=[];for(var i in e)if(e.hasOwnProperty(i))t.push(['<param name="',i,'" value="',r(e[i]),'" />'].join(""));return t.join("")}var o="object",l=!0;try{var d=i.description||function(){var e=new i("ShockwaveFlash.ShockwaveFlash");return e.GetVariable("$version")}()}catch(u){d="Unavailable"}var c=d.match(/\d+/g)||[0];e[t]={available:c[0]>0,activeX:i&&!i.name,version:{original:d,array:c,string:c.join("."),major:parseInt(c[0],10)||0,minor:parseInt(c[1],10)||0,release:parseInt(c[2],10)||0},hasVersion:function(e){var t=/string|number/.test(typeof e)?e.toString().split("."):/object/.test(typeof e)?[e.major,e.minor]:e||[0,0];return n(c,t)},encodeParams:!0,expressInstall:"expressInstall.swf",expressInstallIsActive:!1,create:function(e){var t=this;if(!e.swf||t.expressInstallIsActive||!t.available&&!e.hasVersionFail)return!1;if(!t.hasVersion(e.hasVersion||1)){if(t.expressInstallIsActive=!0,"function"==typeof e.hasVersionFail)if(!e.hasVersionFail.apply(e))return!1;e={swf:e.expressInstall||t.expressInstall,height:137,width:214,flashvars:{MMredirectURL:location.href,MMplayerType:t.activeX?"ActiveX":"PlugIn",MMdoctitle:document.title.slice(0,47)+" - Flash Player Installation"}}}var i={data:e.swf,type:"application/x-shockwave-flash",id:e.id||"flash_"+Math.floor(999999999*Math.random()),width:e.width||320,height:e.height||180,style:e.style||""};l="undefined"!=typeof e.useEncode?e.useEncode:t.encodeParams,e.movie=e.swf,e.wmode=e.wmode||"opaque",delete e.fallback,delete e.hasVersion,delete e.hasVersionFail,delete e.height,delete e.id,delete e.swf,delete e.useEncode,delete e.width;var n=document.createElement("div");return n.innerHTML=["<object ",a(i),">",s(e),"</object>"].join(""),n.firstChild}},e.fn[t]=function(i){var n=this.find(o).andSelf().filter(o);if(/string|object/.test(typeof i))this.each(function(){var n,r=e(this);if(i=typeof i===o?i:{swf:i},i.fallback=this,n=e[t].create(i))r.children().remove(),r.html(n)});if("function"==typeof i)n.each(function(){var n=this,r="jsInteractionTimeoutMs";if(n[r]=n[r]||0,n[r]<660)if(n.clientWidth||n.clientHeight)i.call(n);else setTimeout(function(){e(n)[t](i)},n[r]+66)});return n}}(e,"flash",navigator.plugins["Shockwave Flash"]||window.ActiveXObject)}),define("esui/behavior/Draggable",["require","jquery","underscore","./Mouse","./util","./bridge","eoo"],function(require){function e(e){this.iframeBlocks=this.document.find(e).map(function(){var e=x(this);return x("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})}function t(){if(this.iframeBlocks)this.iframeBlocks.remove(),delete this.iframeBlocks}function i(e){if(this.handleElement.is(e.target))M.safeBlur(M.safeActiveElement(this.document[0]))}function n(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:c.call(this),relative:h.call(this)},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}}function r(e){return this.options.handle?!!x(e.target).closest(this.element.find(this.options.handle)).length:!0}function a(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.addClass(this.handleElement,"handle")}function s(){this.removeClass(this.handleElement,"handle")}function o(e){var t=this.options,i=x.isFunction(t.helper),n=i?x(t.helper.apply(this.element[0],[e])):"clone"===t.helper?this.element.clone().removeAttr("id"):this.element;if(!n.parents("body").length)n.appendTo("parent"===t.appendTo?this.element[0].parentNode:t.appendTo);if(i&&n[0]===this.element[0])l.call(this);if(n[0]!==this.element[0]&&!/(fixed|absolute)/.test(n.css("position")))n.css("position","absolute");return n}function l(){if(!/^(?:r|a|f)/.test(this.element.css("position")))this.element[0].style.position="relative"}function d(e){if("string"==typeof e)e=e.split(/\s+/);if(x.isArray(e))e={left:+e[0],top:+e[1]||0};if("left"in e)this.offset.click.left=e.left+this.margins.left;if("right"in e)this.offset.click.left=this.helperProportions.width-e.right+this.margins.left;if("top"in e)this.offset.click.top=e.top+this.margins.top;if("bottom"in e)this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top}function u(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]}function c(){var e=this.offsetParent.offset(),t=this.document[0];if("absolute"===this.cssPosition&&this.scrollParent[0]!==t&&x.contains(this.scrollParent[0],this.offsetParent[0]))e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop();if(u.call(this,this.offsetParent[0]))e={top:0,left:0};return{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}}function h(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=u.call(this,this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(!t?this.scrollParent.scrollTop():0),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(!t?this.scrollParent.scrollLeft():0)}}function f(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}}function p(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}}function m(){this.relativeContainer=null;var e=this.options;if(!e.containment)return void(this.containment=null);var t=this.document[0];if("window"===e.containment)return void(this.containment=[x(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,x(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,x(window).scrollLeft()+x(window).width()-this.helperProportions.width-this.margins.left,x(window).scrollTop()+(x(window).height()||t.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]);if("document"===e.containment)return void(this.containment=[0,0,x(t).width()-this.helperProportions.width-this.margins.left,(x(t).height()||t.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]);if(e.containment.constructor===Array)return void(this.containment=e.containment);if("parent"===e.containment)e.containment=this.helper[0].parentNode;var i=x(e.containment),n=i[0];if(n){var r=/(scroll|auto)/.test(i.css("overflow")),a=r?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth,s=r?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight;this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),a-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,s-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i}}function g(e,t){if(!t)t=this.position;var i="absolute"===e?1:-1,n=u.call(this,this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)*i}}function v(e,t){var i=u.call(this,this.scrollParent[0]);if(!i||!this.offset.scroll)this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()};var n=e.pageX,r=e.pageY;if(t){var a;if(this.containment){if(this.relativeContainer){var s=this.relativeContainer.offset();a=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]}else a=this.containment;if(e.pageX-this.offset.click.left<a[0])n=a[0]+this.offset.click.left;if(e.pageY-this.offset.click.top<a[1])r=a[1]+this.offset.click.top;if(e.pageX-this.offset.click.left>a[2])n=a[2]+this.offset.click.left;if(e.pageY-this.offset.click.top>a[3])r=a[3]+this.offset.click.top}var o=this.options;if(o.grid){var l=o.grid[1]?this.originalPageY+Math.round((r-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,d=l-this.offset.click.top;r=a?d>=a[1]||d>a[3]?l:d>=a[1]?l-o.grid[1]:l+o.grid[1]:l;var c=o.grid[0]?this.originalPageX+Math.round((n-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,h=c-this.offset.click.left;n=a?h>=a[0]||h>a[2]?c:h>=a[0]?c-o.grid[0]:c+o.grid[0]:c}if("y"===o.axis)n=this.originalPageX;if("x"===o.axis)r=this.originalPageY}return{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top),left:n-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)}}function y(){if(this.removeClass(this.helper,"dragging"),this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval)this.helper.remove();if(this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear)this.dispose()}function _(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}var x=require("jquery"),b=require("underscore"),w=require("./Mouse"),M=require("./util"),C=require("./bridge"),L=require("eoo"),T="draggable",k=L.create(w,{type:T,constructor:function(e){e=b.extend({addClasses:!0,appendTo:"parent",axis:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},e),this.$super(arguments),this.customEventPrefix="drag",this.plugins={}},init:function(){var e=this,t=e.element,i=e.options;if(e.$super(arguments),"original"===i.helper)l.call(e);if(i.addClasses)e.addClass(t);if(i.disabled)e.addClass(t,"disabled");a.call(this)},dispose:function(){var e=this.getClassName(!0,"dragging");if((this.helper||this.element).is(e))return void(this.destroyOnClear=!0);else return s.call(this),void this.$super(arguments)},mouseCapture:function(t){if(this.$super(arguments)===!1)return!1;var n=this.options;i.call(this,t);var a=this.getClassName(!0,"handle","resizable");if(this.helper||n.disabled||x(t.target).closest(a).length>0)return!1;if(this.handle=r.call(this,t),!this.handle)return!1;else return e.call(this,n.iframeFix===!0?"iframe":n.iframeFix),!0},mouseStart:function(e){var t=this.options;if(this.helper=o.call(this,e),this.addClass(this.helper,"dragging"),p.call(this),f.call(this),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===x(this).css("position")}).length>0,this.positionAbs=this.element.offset(),n.call(this,e),this.originalPosition=this.position=v.call(this,e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,t.cursorAt&&d.call(this,t.cursorAt),m.call(this),this.trigger("start",e)===!1)return y.call(this),!1;else return p.call(this),this.mouseDrag(e,!0),!0},mouseDrag:function(e,t){if(this.hasFixedAncestor)this.offset.parent=c.call(this);if(this.position=v.call(this,e,!0),this.positionAbs=g.call(this,"absolute"),!t){var i=_.call(this);if(this.trigger("drag",b.extend({},e,i))===!1)return this.mouseUp({}),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",!1},mouseStop:function(e){var t=this;if("invalid"===this.options.revert||this.options.revert===!0)x(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(t.trigger("stop",e)!==!1)y.call(this)});else if(this.trigger("stop",e)!==!1)y.call(this);return!1},mouseUp:function(e){if(t.call(),this.handleElement.is(e.target))this.element.focus();return this.$super(arguments)},cancel:function(){var e=this.getClassName(!0,"dragging");if(this.helper.is(e))this.mouseUp({});else y.call(this);return this}});return C(T,k),k}),define("esui/Dialog",["require","./Button","./Panel","./behavior/Draggable","./behavior/position","./lib","./Control","./main","./painters","eoo","jquery","underscore"],function(require){function e(e){var t=e.main;if(t){var i=p(t).children(),n={};i.each(function(e,t){var i=p(t).attr("data-role");if(i)n[i]=t}),e.roles=n}}function t(e,t){var i="title",n="close-icon",r='<div class="${clsClass}" id="${clsId}"></div>',a="",s=[];if(e.closeButton)s=e.helper.getPartClasses(n),s.push(e.helper.getIconClass("close")),a=d.format(r,{clsId:e.helper.getId(n),clsClass:s.join(" ")});var o='<div id="${titleId}" class="${titleClass}"></div>${closeIcon}',l=e.helper.getPartClassName("head"),u={titleId:e.helper.getId(i),titleClass:e.helper.getPartClasses(i).join(" "),closeIcon:a},h=d.format(o,u);if(t)e.title=t.innerHTML;else if(t=document.createElement("div"),e.main.firstChild)d.insertBefore(t,e.main.firstChild);else e.main.appendChild(t);t.innerHTML=h,p(t).addClass(l);var f={main:t,renderOptions:e.renderOptions},m=c.create("Panel",f);return m.render(),e.addChild(m,"head"),m}function i(){var e=this.fire("beforeclose");if(e.isDefaultPrevented())return!1;if(this.hide(),this.fire("close"),this.closeOnHide)this.dispose()}function n(){var e=this.main;p(e).position({of:window,at:"center",my:"center"})}function r(e,t){var i=e.getChild("head").main;p(e.main).draggable({handle:i,addClasses:!1,containment:"window",disabled:t})}function a(e,t){var i=l(e),n=[e.helper.getPrefixClass("mask"),e.helper.getPrefixClass("mask-page")],r=e.helper.getPartClasses("mask").join(" ");n.push(r),i.className=n.join(" "),i.style.display="block",i.style.zIndex=t}function s(e){var t=l(e);if("undefined"!=typeof t)d.removeNode(t)}function o(e){var t=document.createElement("div");t.id=e,document.body.appendChild(t)}function l(e){var t=e.helper.getId(),i=g+"-"+t,n=d.g(i);if(!n)o(i);return d.g(i)}require("./Button"),require("./Panel"),require("./behavior/Draggable"),require("./behavior/position");var d=require("./lib"),u=require("./Control"),c=require("./main"),h=require("./painters"),f=require("eoo"),p=require("jquery"),m=require("underscore"),g="ctrl-mask",v=f.create(u,{type:"Dialog",initOptions:function(t){e(t);var i={closeButton:!0,closeOnHide:!0,draggable:!1,mask:!0,title:"我是标题",content:"<p>我是内容</p>",defaultFoot:'<div class="'+this.helper.getPartClassName("ok-btn")+'" data-ui="type:Button;id:btnFootOk;childName:btnOk;variants:primary;">确定</div> <div class="'+this.helper.getPartClassName("cancel-btn")+'" data-ui="type:Button;id:btnFootCancel;childName:btnCancel;variants:link">取消</div>',needFoot:!0,roles:{},setPositionOnScroll:!0,setPositionOnResize:!0};if(m.extend(i,v.defaultProperties,t),i.needFoot)if(!i.foot)i.foot=i.defaultFoot;this.setProperties(i)},initStructure:function(){if(p(this.main).appendTo(this.appendToElement),this.addState("hidden"),t(this,this.roles.title),this.createBF("body",this.roles.content),this.needFoot)this.createBF("foot",this.roles.foot)},initEvents:function(){if(this.closeButton){var e=d.g(this.helper.getId("close-icon"));if(e)this.helper.addDOMEvent(e,"click",m.partial(i,this))}},createBF:function(e,t){if(t)this.content=t.innerHTML;else if(t=document.createElement("div"),"body"===e){var i=this.getChild("head");if(i)d.insertAfter(t,i.main);else if(this.main.firstChild)d.insertBefore(t,i,this.main.firstChild);else this.main.appendChild(t)}else this.main.appendChild(t);p(t).addClass(this.helper.getPartClassName(e+"-panel"));var n={main:t,renderOptions:this.renderOptions},r=c.create("Panel",n);return r.render(),this.addChild(r,e),r},repaint:h.createRepaint(u.prototype.repaint,{name:"height",paint:function(e,t){if("auto"===t)e.main.style.height="auto";else if(t)e.main.style.height=t+"px";if(e.isShow)n.apply(e)}},{name:"width",paint:function(e,t){if("auto"===t)e.main.style.width="auto";else if(t)e.main.style.width=t+"px";if(e.isShow)n.apply(e)}},{name:"title",paint:function(e,t){var i=e.helper.getId("title");d.g(i).innerHTML=t}},{name:"content",paint:function(e,t){if(t){var i='<div class="${class}" id="${id}">${content}</div>',n=e.getBody(),r=e.helper.getId("body"),a=e.helper.getPartClasses("body"),s={"class":a.join(" "),id:r,content:t};n.setContent(d.format(i,s))}}},{name:"foot",paint:function(e,t){var i='<div class="${class}" id="${id}">${content}</div>',n=e.helper.getId("foot"),r=e.helper.getPartClasses("foot"),a=e.getFoot();if(null==t){if(e.needFoot=!1,a)e.removeChild(a)}else{e.needFoot=!0;var s={"class":r.join(" "),id:n,content:t};if(!a)a=e.createBF("foot");a.setContent(d.format(i,s))}}},{name:"draggable",paint:function(e,t){var i=!1;if(t)e.addState("draggable");else e.removeState("draggable"),i=!0;r(e,i)}}),getBody:function(){return this.getChild("body")},getHead:function(){return this.getChild("head")},getFoot:function(){return this.getChild("foot")},show:function(){var e=this.mask;if(this.helper.isInStage("INITED"))this.render();else if(this.helper.isInStage("DISPOSED"))return;if(this.setPositionOnResize)this.helper.addDOMEvent(window,"resize",n);if(this.setPositionOnScroll)this.helper.addDOMEvent(window,"scroll",n);this.setWidth(this.width),this.removeState("hidden"),n.apply(this);for(var t=1203,i=document.body.children,r=0,s=0,o=i.length;o>s;s++)if(1===i[s].nodeType)if(d.hasClass(i[s],this.helper.getPrimaryClassName())&&!d.hasClass(i[s],this.helper.getPrimaryClassName("hidden")))r++;if(t+=10*r,this.main.style.zIndex=t,e)a(this,t-1);if(!this.isShow)this.isShow=!0,this.fire("show")},hide:function(){if(this.isShow){if(this.isShow=!1,this.setPositionOnResize)this.helper.removeDOMEvent(window,"resize",n);if(this.setPositionOnScroll)this.helper.removeDOMEvent(window,"scroll",n);if(this.addState("hidden"),this.mask)s(this);this.fire("hide")}},setTitle:function(e){this.setProperties({title:e})},setContent:function(e){this.setProperties({content:e})},setFoot:function(e){this.setProperties({foot:e})},setHeight:function(e){this.setProperties({height:e})},setWidth:function(e){this.setProperties({width:e})},resize:function(){n.apply(this)},dispose:function(){if(!this.helper.isInStage("DISPOSED")){this.hide();var e=this.main.id;d.removeNode(e),u.prototype.dispose.apply(this,arguments)}}});return v.defaultProperties={appendToElement:"body"},v.OK_TEXT="确定",v.CANCEL_TEXT="取消",v.confirm=function(e){function t(e,t){e.fire(t),e.dispose()}var i="dialog-confirm",n=m.escape(e.title)||"",r=m.escape(e.content)||"",a=m.escape(e.okText)||v.OK_TEXT,s=m.escape(e.cancelText)||v.CANCEL_TEXT,o={type:"confirm",variants:"confirm",title:""};m.extend(o,e);var l=['<div class="${prefix}-icon ${prefix}-icon-${type}"><span class="${icon}"></span></div>','<div class="${prefix}-text">${content}</div>'].join("");o.id=d.getGUID(i),o.closeButton=!1,o.mask=!0,o.alwaysTop=!0;var u=o.type;o.type=null;var h=c.create("Dialog",o);h.appendTo(document.body),h.show();var f=h.getFoot().getChild("btnOk"),p=h.getFoot().getChild("btnCancel");if(f.setContent(a),p.setContent(s),h.setTitle(n),h.setContent(d.format(l,{type:u,content:r,prefix:h.helper.getPrimaryClassName(),icon:h.helper.getIconClass("question-circle")})),o.btnHeight)f.set("height",o.btnHeight),p.set("height",o.btnHeight);if(o.btnWidth)f.set("width",o.btnWidth),p.set("width",o.btnWidth);return f.on("click",m.partial(t,h,"ok")),p.on("click",m.partial(t,h,"cancel")),h},v.alert=function(e){function t(e,t){e.fire("ok"),t.dispose(),e.dispose()}var i="dialog-alert",n="dialog-alert-ok",r=m.escape(e.title)||"",a=m.escape(e.content)||"",s=m.escape(e.okText)||v.OK_TEXT,o={type:"warning",variants:"alert",title:""};m.extend(o,e);var l=['<div class="${prefix}-icon ${prefix}-icon-${type}"><span class="${icon}"></span></div>','<div class="${prefix}-text">${content}</div>'].join(""),u=d.getGUID(i);o.id=u,o.closeButton=!1,o.mask=!0,o.alwaysTop=!0;var h=o.type;o.type=null;var f=c.create("Dialog",o);f.appendTo(document.body),f.setTitle(r),f.setContent(d.format(l,{type:h,content:a,prefix:f.helper.getPrimaryClassName(),icon:f.helper.getIconClass("exclamation-circle")})),f.setFoot('<div class="'+f.helper.getPartClassName("ok-btn")+'" data-ui="type:Button;childName:okBtn;id:'+u+"-"+n+';variants:primary;">'+s+"</div>"),f.show();var p=f.getFoot().getChild("okBtn");if(p.on("click",m.partial(t,f,p)),o.btnHeight)p.set("height",o.btnHeight);if(o.btnwidth)p.set("width",o.btnwidth);return f},c.register(v),v}),define("ub-ria-ui/LightBox",["require","esui","esui/lib","underscore","eoo","esui/Control","esui/painters","jquery","./helper/swfHelper","esui/Dialog"],function(require){function e(e){return d.flash.create({id:e.id||"preview-fla",swf:e.url,width:e.width,height:e.height,wmode:"transparent"})}function t(e,t){return d.flash.create({id:e.id||"preview-flv",swf:t,width:e.width,height:e.height,wmode:"transparent",flashvars:"play_url="+e.url})}function i(e,t){return r.format(t.VIDEO_TPL,{id:e.id||"preview-video",title:e.title,src:e.url,width:e.width,height:e.height})}var n=require("esui"),r=require("esui/lib"),a=require("underscore"),s=require("eoo"),o=require("esui/Control"),l=require("esui/painters"),d=require("jquery");require("./helper/swfHelper"),require("esui/Dialog");var u=s.create(o,{constructor:function(){this.$super(arguments),this.dialog=null},type:"LightBox",initOptions:function(e){var t={currentIndex:0,width:"auto",height:"auto",dialogVariants:"lightbox",loadingStyle:this.helper.getPartClassName("media-loading"),loadFailedStyle:this.helper.getPartClassName("media-load-failed"),group:null,groupContainerId:null};a.extend(t,u.defaultProperties,e),this.setProperties(t)},initStructure:function(){var e={content:"",closeButton:!0,mask:!0,alwaysTop:!0,closeOnHide:!1,width:"auto"};a.extend(e,{title:this.title||"",foot:this.foot||"",draggable:this.draggable||!1,needfoot:this.needfoot||!1,variants:this.dialogVariants});var t=n.create("Dialog",e);t.appendTo(document.body),this.dialog=t},initEvents:function(){this.initCarousel();var e=r.g(this.dialog.helper.getId("link-left")),t=r.g(this.dialog.helper.getId("link-right")),i=this;if(this.dialog.helper.addDOMEvent(e,"click",function(){i.showPreviousMedia()}),this.dialog.helper.addDOMEvent(t,"click",function(){i.showNextMedia()}),this.group){var n=this.groupContainerId?r.g(this.groupContainerId):document.body;i.helper.addDOMEvent(n,"click","[data-lightbox-group]",function(e){var t=e.currentTarget;e.preventDefault();var r=d(n).find('[data-lightbox-group="'+i.group+'"]'),a=r.index(t),s=[];r.each(function(e,t){var i=d(t),n={url:i.attr("href")},r=i.attr("data-lightbox-type");n.width=i.attr("data-lightbox-width"),n.height=i.attr("data-lightbox-height"),r&&(n.type=r),s.push(n)}),i.datasource=s,i.show({currentIndex:a})})}},initCarousel:function(){var e=['<div id="${mediaId}" class="${mediaStyle}"></div>','<div id="${linkId}" class="${linkStyle}">','<a href="javascript:;" id="${leftLinkId}" class="${leftLinkStyle}"></a>','<a href="javascript:;" id="${rightLinkId}" class="${rightLinkStyle}"></a>',"</div>"].join(""),t=this.dialog.getBody(),i=this.dialog.helper,n=i.getPartClassName("lightbox-content-link-left")+" "+i.getIconClass(),a=i.getPartClassName("lightbox-content-link-right")+" "+i.getIconClass();t.setContent(r.format(e,{mediaId:i.getId("media"),mediaStyle:i.getPartClassName("lightbox-content-media"),linkId:i.getId("link"),linkStyle:i.getPartClassName("lightbox-content-link"),leftLinkId:i.getId("link-left"),leftLinkStyle:n,rightLinkId:i.getId("link-right"),rightLinkStyle:a}))},mediaContainer:function(){return r.g(this.dialog.helper.getId("media"))},show:function(e){e&&this.setProperties(e);var t=r.g(this.dialog.helper.getId("link"));t.style.display=this.datasource.length<=1?"none":"",this.showMedia()},hide:function(){this.dialog.hide()},setContent:function(e){this.setProperties({datasource:e})},showMedia:function(){var e=this.datasource[this.currentIndex];if(this.showLoading(),!e.type)if(/\.(?:jpg|png|gif|jpeg|bmp)$/i.test(e.url))e.type="image";else if(/\.swf/i.test(e.url))e.type="flash";else if(/\.(?:mp4|flv|mov|mkv|mpg|avi|rmvb|rm|ogg|wmv|mp3|wma|mid)/i.test(e.url))e.type="video";this.preview(e)},showLoading:function(){d(this.dialog.main).addClass(this.helper.getPartClassName("loading"))},hideLoading:function(){d(this.dialog.main).removeClass(this.helper.getPartClassName("loading"))},preview:function(e){if(e){var t=e.type;e.id=e.id||"preiew-"+Math.random(),e.width=e.width||this.width,e.height=e.height||this.height,t=t.charAt(0).toUpperCase()+t.slice(1).toLowerCase(),(this["preview"+t]||this.previewNotSupported).call(this,e)}},previewImage:function(e){var t=this,i=new Image;if(i.onload=function(){t.hideLoading(),t.mediaContainer().innerHTML="",t.mediaContainer().appendChild(i),t.dialog.show(),i.onload=i.onerror=null},i.onerror=function(){t.hideLoading(),t.mediaContainer().innerHTML=r.format(this.LOAD_FAILED_TPL,t),i.onload=i.onerror=null,t.dialog.show()},i.src=e.url,e.width)i.style.width=e.width+"px";if(e.height)i.style.height=e.height+"px"},previewFlash:function(t){var i=e(t);this.hideLoading(),this.mediaContainer().innerHTML="",this.mediaContainer().appendChild(i),this.dialog.show()},previewVideo:function(e){var n=e.url,r="";if(/\.flv/.test(n))r=t(e,this.swfPath);else if(/\.mp4|\.mov/.test(n))r=i(e,this);var a=d(this.mediaContainer());this.hideLoading(),a.html(""),a.append(d(r)),this.dialog.show()},previewNotSupported:function(){this.hideLoading(),this.mediaContainer().innerHTML=this.NOT_SUPPORT_MESSAGE,this.dialog.show()},showNextMedia:function(){this.currentIndex=++this.currentIndex%this.datasource.length,this.showMedia()},showPreviousMedia:function(){this.currentIndex=(--this.currentIndex+this.datasource.length)%this.datasource.length,this.showMedia()},repaint:l.createRepaint(o.prototype.repaint,{name:["title"],paint:function(e,t){e.dialog.setTitle(t||"")}})});return u.defaultProperties={NOT_SUPPORT_MESSAGE:"暂不支持该格式预览",VIDEO_TPL:['<video id="${id}" title="${title}" width="${width}" height="${height}" src="${src}" autoplay="autoplay">',"该浏览器暂不支持此格式视频预览","</video>"].join(""),LOAD_FAILED_TPL:'<div class="${loadFailedStyle}">加载图片失败</div>'},n.register(u),u}),define("esui/Select",["require","underscore","./lib","./InputControl","./Layer","eoo","./painters","jquery","./main"],function(require){function e(e){this.layer.toggle.call(this.layer,e),t.call(this,this.get("selectedIndex"))}function t(e){var t=this.layer.getElement(),i=h(t).find("li:nth-child("+(e+1)+")");if(i=i&&i[0]){var n=i.offsetTop,r=i.offsetHeight,a=t.scrollTop,s=t.clientHeight,o=n+r;if(a>n)a=n;else if(o>a+s)a=o-s;t.scrollTop=a}}function i(e){var t=e.currentTarget;if(!this.helper.isPart(t,"item-disabled")){var i=t.getAttribute("data-index");this.set("selectedIndex",+i),this.layer.hide()}}function n(e){if(null==e.selectedIndex&&null==e.rawValue&&null==e.value)e.selectedIndex=-1;if(null!=e.rawValue)e.value=null,e.selectedIndex=null;else if(null!=e.value)e.selectedIndex=null;if(null==e.selectedIndex&&(null!=e.value||null!=e.rawValue)){e.selectedIndex=-1;for(var t=e.rawValue||e.value,i=0;i<e.datasource.length;i++)if(e.datasource[i].value===t){e.selectedIndex=i;break}delete e.value,delete e.rawValue}if(e.selectedIndex<0||e.selectedIndex>=e.datasource.length)if(e.emptyText)e.selectedIndex=-1;else{e.selectedIndex=-1;for(var n=0;n<e.datasource.length;n++)if(!e.datasource[n].disabled){e.selectedIndex=n;break}}}function r(){this.fire("layerrendered",{layer:this.layer})}function a(e){var t=e.helper.getPart("text"),i=-1===e.selectedIndex?null:e.datasource[e.selectedIndex],n=e.getDisplayHTML(i);t.innerHTML=n,t.title=n;var r=e.layer.getElement(!1);if(r)e.layer.syncState(r)}var s=require("underscore"),o=require("./lib"),l=require("./InputControl"),d=require("./Layer"),u=require("eoo"),c=require("./painters"),h=require("jquery"),f=require("./main"),p=u.create(d,{constructor:function(){this.$super(arguments)},create:function(){var e=this.$super(arguments);return h(this.control.main).after(e),e},nodeName:"ol",render:function(e){for(var t="",i=0;i<this.control.datasource.length;i++){var n=this.control.datasource[i],r=this.control.helper.getPartClasses("item");if(n.disabled)r.push.apply(r,this.control.helper.getPartClasses("item-disabled"));t+='<li data-index="'+i+'" class="'+r.join(" ")+'">',t+=this.control.getItemHTML(n),t+="</li>"}e.innerHTML=t},initBehavior:function(e){var t=this.control.helper;t.addDOMEvent(e,"click","."+t.getPrimaryClassName("item"),i),h(e).addClass(t.getPrefixClass("dropdown"))},syncState:function(e){var t=this.control.helper.getPrimaryClassName("item-selected"),i=h(e).children(),n=this.control.selectedIndex;i.each(function(e,i){var r=h(i);if(e===n)r.addClass(t);else r.removeClass(t)})},dock:{strictWidth:!0}}),m=u.create(l,{constructor:function(){this.$super(arguments),this.layer=new p(this)},type:"Select",initOptions:function(e){var t={datasource:[],tabIndex:0},i={};if(s.extend(i,t,e),"select"===this.main.nodeName.toLowerCase()){i.datasource=[];for(var n=this.main.getElementsByTagName("option"),r=0,a=n.length;a>r;r++){var o=n[r],l={name:o.name||o.text,value:o.value};if(o.disabled)l.disabled=!0;if(i.datasource.push(l),o.selected&&null==i.selectedIndex&&null==i.value&&null==i.rawValue)i.selectedIndex=o.value?r:0
}this.helper.extractOptionsFromInput(this.main,i)}this.setProperties(i)},itemTemplate:"<span>${text}</span>",getItemHTML:function(e){var t={text:s.escape(e.name||e.text),value:s.escape(e.value)};return o.format(this.itemTemplate,t)},displayTemplate:"${text}",getDisplayHTML:function(e){if(!e)return s.escape(this.emptyText||"");var t={text:s.escape(e.name||e.text),value:s.escape(e.value)};return o.format(this.displayTemplate,t)},initStructure:function(){var e=this.helper,t="arrow",i="span",n=this.main;if("select"===n.nodeName.toLowerCase())e.replaceMain(),n=this.main;this.layer.autoCloseExcludeElements=[n],n.tabIndex=this.tabIndex,n.innerHTML=e.getPartHTML("text",i)+e.getPartHTML(t,i),h(e.getPart(t)).addClass(e.getIconClass())},initEvents:function(){this.helper.addDOMEvent(this.main,"click",e),this.layer.on("rendered",s.bind(r,this))},getRawValue:function(){if(this.selectedIndex<0)return null;var e=this.datasource[this.selectedIndex];return e?e.value:null},repaint:c.createRepaint(l.prototype.repaint,c.style("width"),c.style("height"),{name:"datasource",paint:function(e){e.layer.repaint()}},{name:["selectedIndex","emptyText","datasource"],paint:a},{name:["disabled","hidden","readOnly"],paint:function(e,t,i,n){if(t||i||n)e.layer.hide()}}),updateDatasource:function(e){if(!e)e=this.datasource;this.datasource=e;var t={name:"datasource"};this.repaint([t],{datasource:t})},setProperties:function(e){if(null==e.datasource)e.datasource=this.datasource;if(null==e.value&&null==e.rawValue&&null==e.selectedIndex&&e.datasource===this.datasource)e.selectedIndex=this.selectedIndex;if(!e.hasOwnProperty("emptyText"))e.emptyText=this.emptyText;n(e);var t=this.$super(arguments);if(t.hasOwnProperty("selectedIndex"))this.fire("change");return t},dispose:function(){if(!this.helper.isInStage("DISPOSED")){if(this.layer)this.layer.dispose(),this.layer=null;this.$super(arguments)}},getSelectedItem:function(){return this.get("datasource")[this.get("selectedIndex")]}});return f.register(m),m}),define("esui/MonthView",["require","./Button","./Select","./Panel","jquery","./lib","./Control","./main","moment","eoo","./painters","underscore"],function(require){function e(e){for(var t=e.viewRange||e.range,i=[],n=t.end.getFullYear(),r=t.begin.getFullYear();n>=r;r++)i.push({text:r,value:r});return i}function t(e,t){var i=e.viewRange||e.range,n=[],r=11,a=0;if(t===i.begin.getFullYear())a=i.begin.getMonth();if(t===i.end.getFullYear())r=i.end.getMonth();for(;r>=a;a++)n.push({text:a+1,value:a});return n}function i(e){var t=['<div class="${headClass}"><table><tr>','<td class="${monthBackTdClass}">','<div class="${monthBackClass}"',' data-ui-type="Button"',' data-ui-child-name="monthBack"',' data-ui-id="${monthBackId}"','><span class="${monthBackIcon}"></span></div>',"</td>",'<td class="${yearSelectTdClass}">','<div class="${yearSelectClass}"',' data-ui="type:Select;childName:yearSel;variants:compact;',' id:${yearSelId};"></div>',"</td>",'<td class="${selectLabelClass}">',"<div>${yearSelectLabel}</div>","</td>",'<td class="${monthSelectTdClass}">','<div class="${monthSelectClass}"',' data-ui="type:Select;childName:monthSel;variants:compact;',' id:${monthSelId};"></div>',"</td>",'<td class="${selectLabelClass}">',"<div>${monthSelectLabel}</div>","</td>",'<td class="${monthForTdClass}">','<div class="${monthForClass}"',' data-ui-type="Button"',' data-ui-child-name="monthForward"',' data-ui-id="${monthForwardId}"','><span class="${monthForwardIcon}"></span></div>',"</td>","</tr></table></div>",'<div id="${monthMainId}" class="${monthMainClass}"></div>'];t=t.join("");var i=e.helper;return $.format(t,{headClass:i.getPartClassName("head"),monthBackId:i.getId("monthBack"),monthBackIcon:i.getIconClass("caret-left"),monthForwardId:i.getId("monthForward"),monthForwardIcon:i.getIconClass("caret-right"),yearSelId:i.getId("yearSel"),monthSelId:i.getId("monthSel"),monthMainId:i.getId("monthMain"),monthMainClass:i.getPartClassName("month"),monthBackClass:i.getPartClassName("month-back"),monthForClass:i.getPartClassName("month-forward"),yearSelectClass:i.getPartClassName("year-select"),monthSelectClass:i.getPartClassName("month-select"),monthBackTdClass:i.getPartClassName("month-back-td"),monthForTdClass:i.getPartClassName("month-forward-td"),yearSelectTdClass:i.getPartClassName("year-select-td"),monthSelectTdClass:i.getPartClassName("month-select-td"),selectLabelClass:i.getPartClassName("select-label"),yearSelectLabel:e.yearSelectLabel,monthSelectLabel:e.monthSelectLabel})}function n(e,t){var i=e.helper,n=[];if("multi"===e.mode)n.push("");n=n.concat(e.dayNamesMin);var r='<table border="0" cellpadding="0" cellspacing="0" class="${className}"><thead><tr>';t.push($.format(r,{className:i.getPartClassName("month-main")}));for(var a='<td id="${id}" data-index="${index}" class="${className}">${text}</td>',s=i.getPartClassName("month-title"),o=i.getId("month-title"),l=i.getPartClassName("month-select-all"),d=n.length,u=0;d>u;u++)t.push($.format(a,{className:""===n[u]?l:s,text:n[u],index:u,id:o+"-"+u}));t.push("</tr></thead>")}function r(e,t){var i=e.helper;t.push("<tbody><tr>");var n='<td data-year="${year}" data-month="${month}" data-date="${date}" class="${className}" id="${id}">${date}</td>',r=i.getPartClassName("month-row-select"),a=i.getId("row-select"),o=0,l='<td id="${id}" class="'+r+'">&gt;</td>',d=0,u=e.year,c=e.month,h=new Date(u,c,1),f=new Date(u,c+1,1),p=1-(h.getDay()+6)%7;h.setDate(p);var m=i.getPartClassName("month-item"),g=i.getPartClassName("month-item-today"),v=i.getPartClassName("month-item-virtual"),y=i.getPartClassName("month-item-disabled"),_=e.range;if("multi"===e.mode)t.push($.format(l,{id:a+"-"+o++}));for(;f-h>0||d%7!==0;){if(p>1&&d%7===0)if(t.push("</tr><tr>"),"multi"===e.mode)t.push($.format(l,{id:a+"-"+o++}));var x=h.getMonth()!==c,b=!1;if(h<_.begin)b=!0;else if(h>_.end)b=!0;var w=m;if(x)w+=" "+v;else if(R().isSame(h,"day"))w+=" "+g;if(b)w+=" "+y;var M={year:h.getFullYear(),month:h.getMonth(),date:h.getDate(),className:w,id:s(e,h)};if(e.dateItemRender)t.push(e.dateItemRender(n,M));else t.push($.format(n,M));h=new Date(u,c,++p),d++}e.rowTagNum=o,t.push("</tr></tbody></table>")}function a(e){var t=[];return n(e,t),r(e,t),t.join("")}function s(e,t){return e.helper.getId(t.getFullYear()+"-"+t.getMonth()+"-"+t.getDate())}function o(e){var t=e.currentTarget,i=O(t),n=this.helper,r=n.getPartClassName("month-select-all"),a=n.getPartClassName("month-title"),s=n.getPartClassName("month-item"),o=n.getPartClassName("month-row-select"),l=n.getPartClassName("month-item-virtual"),d=n.getPartClassName("month-item-disabled");if(i.hasClass(s)&&!i.hasClass(l)&&!i.hasClass(d))C(this,t),this.fire("itemclick",t);else if("multi"===this.mode){if(i.hasClass(o))return void g(this,t);if(i.hasClass(a))return void h(this,t);if(i.hasClass(r))y(this,i)}}function l(e){var t=e.rawValue;e.viewValue={};for(var i=0;i<t.length;i++){var n=t[i],r=n.getFullYear(),a=n.getMonth(),s=n.getDate(),o=r+"-"+a+"-"+s;e.viewValue[o]={isSelected:!0,value:new Date(r,a,s)}}}function d(e,t){var i=e.helper,n=i.getPartClassName("month-item-virtual"),r=i.getPartClassName("month-item-disabled"),a=O(t);if(!a.hasClass(n)&&!a.hasClass(r))return 1;else if(a.hasClass(n)&&!a.hasClass(r))return-1;return 0}function u(e){for(var t=e.rowTagNum,i=e.helper.getId("row-select"),n=0;t>n;n++){var r=$.g(i+"-"+n);c(e,r)}}function c(e,t){for(var i=e.helper,n=i.getPartClassName("month-item-selected"),r=t.nextSibling,a=!0,s=0;r;){if(1===d(e,r))if(++s,!O(r).hasClass(n)){a=!1;break}r=r.nextSibling}if(0===s)a=!1;f(t,a,i.getPartClassName("month-row-select-selected"))}function h(e,t){var i=t.getAttribute("data-index"),n=e.helper,r=n.getPartClassName("month-title-selected"),a=!O(t).hasClass(r);f(t,a,r);for(var s=e.rowTagNum,o=n.getId("row-select"),l=e.viewValue,c=[],h=0;s>h;h++){var p=$.g(o+"-"+h),m=p.parentNode.children[i];if(1===d(e,m)){var g=m.getAttribute("data-date"),y=m.getAttribute("data-month"),b=m.getAttribute("data-year"),w=b+"-"+y+"-"+g;l[w]={isSelected:a,value:new Date(b,y,g)},c.push(w)}}if(c&&c.length>0)_(e),x(e,c,a),u(e),v(e)}function f(e,t,i){var n=O(e);if(n.removeClass(i),t)n.addClass(i)}function p(e){for(var t=e.helper.getId("month-title"),i=1;7>=i;i++){var n=$.g(t+"-"+i);m(e,n)}}function m(e,t){for(var i=e.helper,n=i.getPartClassName("month-item-selected"),r=t.getAttribute("data-index"),a=!0,s=0,o=e.rowTagNum,l=i.getId("row-select"),u=0;o>u;u++){var c=$.g(l+"-"+u),h=c.parentNode.children[r];if(1===d(e,h))if(++s,!O(h).hasClass(n)){a=!1;break}}if(0===s)a=!1;f(t,a,i.getPartClassName("month-title-selected"))}function g(e,t){var i=t.parentNode,n=e.helper,r=n.getPartClassName("month-row-select"),a=n.getPartClassName("month-row-select-selected"),s=n.getPartClassName("month-item-virtual"),o=n.getPartClassName("month-item-disabled"),l=!O(t).hasClass(a);f(t,l,a);var d=e.viewValue,u=[];if(O(i).children().each(function(e,t){var i=O(t);if(!i.hasClass(r)&&!i.hasClass(s)&&!i.hasClass(o)){var n=i.attr("data-date"),a=i.attr("data-month"),c=i.attr("data-year"),h=c+"-"+a+"-"+n;d[h]={isSelected:l,value:new Date(c,a,n)},u.push(h)}}),u&&u.length>0)_(e),x(e,u,l),p(e),v(e)}function v(e){for(var t=e.rowTagNum,i=e.helper,n=i.getId("row-select"),r=$.g(i.getId("month-title-0")),a=i.getPartClassName("month-row-select-selected"),s=0,o=0;t>o;o++){var l=$.g(n+"-"+o);if(O(l).hasClass(a))s++}f(r,s===t,a)}function y(e,t){for(var i,n=e.helper,r=e.rowTagNum,a=n.getId("row-select"),s=n.getPartClassName("month-row-select-selected"),o=t.hasClass(s),l=0;r>l;l++){if(i=$.g(a+"-"+l),o)O(i).addClass(s);else O(i).removeClass(s);g(e,i)}}function _(e){var t=[];for(var i in e.viewValue)if(e.viewValue[i].isSelected)t.push(e.viewValue[i].value);t.sort(function(e,t){return e-t}),e.rawValue=t,e.fire("change")}function x(e,t,i){if(i)w(e,t);else b(e,t)}function b(e,t){for(var i,n,r=e.helper,a=t.length,s=0;a>s;s++)i=r.getId(t[s]),n=$.g(i),O(n).removeClass(r.getPartClassName("month-item-selected"))}function w(e,t){for(var i,n,r=e.helper,a=t.length,s=0;a>s;s++)i=r.getId(t[s]),n=$.g(i),O(n).addClass(r.getPartClassName("month-item-selected"))}function M(e,t,i){var n=e.helper;if(!t)return!1;var r=O(t),a=n.getPartClassName(i);if(r.hasClass(a))return r.removeClass(a),!1;else return r.addClass(a),!0}function C(e,t){var i=t.getAttribute("data-date"),n=t.getAttribute("data-month"),r=t.getAttribute("data-year"),a=r+"-"+n+"-"+i;if("multi"===e.mode){var s=M(e,t,"month-item-selected");e.viewValue[a]={isSelected:s,value:new Date(r,n,i)},_(e);var o=t.parentNode.firstChild;c(e,o),p(e),v(e)}else{var l=e.helper.getPartClassName("month-item-selected");if(O(t).hasClass(l))return;var d=new Date(r,n,i);k(e,e.rawValue,d),e.rawValue=d,e.fire("change")}}function L(e,t,i){var n=e,r=n.viewRange||n.range,a=12*r.begin.getFullYear()+r.begin.getMonth(),s=12*r.end.getFullYear()+r.end.getMonth(),o=12*t+i,l=new Date(t,i,1);if(i=l.getMonth(),a-o>0)i+=a-o;else if(o-s>0)i-=o-s;return l.setMonth(i),i=l.getMonth(),t=l.getFullYear(),{year:t,month:i}}function T(t,i,n){if(null==i)i=t.year;if(null==n)n=t.month;var r=t,a=L(r,i,n);r.month=a.month,r.year=a.year;var s=r.getChild("yearSel"),o=s.getValue();if(s.setProperties({datasource:e(r),value:r.year}),+o===r.year)s.fire("change")}function k(e,t,i){if(t!==i){if(t){var n=$.g(s(e,t));if(n)M(e,n,"month-item-selected")}var r=$.g(s(e,i));if(r)if(d(e,r))M(e,r,"month-item-selected");else return e.rawValue=null,null}return i}function D(e){var t=new Date(e.year,e.month,1),i=R(t).add("month",1);T(e,i.year(),i.month())}function Y(e){var t=new Date(e.year,e.month,1),i=R(t).subtract("month",1);T(e,i.year(),i.month())}function S(e,i){var n=parseInt(i.getValue(),10);e.year=n;var r=e.month,a=L(e,n,r);r=a.month,e.month=r;var s=e.getChild("monthSel"),o=s.setProperties({datasource:t(e,e.year),value:e.month});if(!o.hasOwnProperty("rawValue"))P(e,s);e.fire("changeyear")}function P(e,t){var i=parseInt(t.getValue(),10);e.month=i,I(e),e.fire("changemonth")}function I(e){var t=e.helper,i=t.getId("monthMain"),n=$.g(i);n.innerHTML=a(e);var r=n.getElementsByTagName("tr"),s=r[r.length-1];t.addPartClasses("last-row",s),j(e)}function E(e,t){var i,n;if("string"==typeof e){var r=e.split(",");i=R(r[0],t).toDate(),n=R(r[1],t).toDate()}else i=e.begin,n=e.end;if(i>n)return{begin:n,end:i};else return{begin:i,end:n}}function N(e,t,i){if("single"===t)return R(e,i).toDate();for(var n=e.split(","),r=[],a=0;a<n.length-1;a+=2){var s,o=R(n[a],i).toDate(),l=R(n[a+1],i).toDate();if(o&&l)if(o-l===0)r.push(o);else for(s=o;l>=s;)r.push(s),s=new Date(s.getFullYear(),s.getMonth(),s.getDate()+1);else;}return r}function j(e){var t=e.helper;if("multi"!==e.mode)return void k(e,null,e.rawValue);var i=e.viewValue;for(var n in i)if(i.hasOwnProperty(n)){var r=$.g(t.getId(n));if(r){var a=d(e,r);if(1===a)if(i[n].isSelected)t.addPartClasses("month-item-selected",r);else t.removePartClasses("month-item-selected",r);else if(0===a)i[n].isSelected=!1,_(e)}}u(e),p(e),v(e)}function H(e,t){var i=e.helper.getPartClasses(t+"-layer"),n=this.layer;n.addCustomClasses(i),e.fire("selectlayerrendered",{layer:n})}require("./Button"),require("./Select"),require("./Panel");var O=require("jquery"),$=require("./lib"),A=require("./Control"),V=require("./main"),R=require("moment"),F=require("eoo"),q=require("./painters"),W=require("underscore"),B=F.create(A,{type:"MonthView",initOptions:function(e){var t={viewValue:{},mode:"single",dateItemRender:null};W.extend(t,B.defaultProperties,e),this.setProperties(t)},setProperties:function(e){var t=e.paramFormat||this.paramFormat;if(e.range)e.range=E(e.range,t);var i=new Date,n=e.mode||this.mode;if(null==e.rawValue)if(e.value)e.rawValue=N(e.value,n,t);else if(null==this.rawValue)if("single"===n)e.rawValue=i;else e.rawValue=[];var r=e.year,a=e.month;if(!r&&null==a)if("single"===n){if(e.rawValue)r=e.rawValue.getFullYear(),a=e.rawValue.getMonth()+1}else r=i.getFullYear(),a=i.getMonth()+1;if(r&&a)e.year=parseInt(r,10),e.month=parseInt(a,10)-1;else if(e.hasOwnProperty("year")){if(null==this.month)delete e.year}else if(e.hasOwnProperty("month"))if(null==this.year)delete e.month;else e.month=parseInt(a,10)-1;var s=A.prototype.setProperties.apply(this,arguments);if(s.hasOwnProperty("rawValue"))this.fire("change");return s},initStructure:function(){if(this.main.innerHTML=i(this),this.initChildren(this.main),"multi"===this.mode)this.addState("multi-select")},initEvents:function(){var e=this.getChild("monthBack");e.on("click",W.partial(Y,this));var t=this.getChild("monthForward");t.on("click",W.partial(D,this));var i=this.getChild("monthSel");i.on("change",W.partial(P,this,i)),i.on("layerrendered",W.partial(H,this,"month-select"));var n=this.getChild("yearSel");n.on("change",W.partial(S,this,n)),n.on("layerrendered",W.partial(H,this,"year-select"));var r=this.helper,a=["."+r.getPartClassName("month-item"),"."+r.getPartClassName("month-select-all"),"."+r.getPartClassName("month-title"),"."+r.getPartClassName("month-row-select")];r.addDOMEvent(r.getPart("monthMain"),"click",a.join(","),o)},repaint:q.createRepaint(A.prototype.repaint,{name:["range","rawValue","year","month"],paint:function(e,t,i){if(i)if("multi"===e.mode)l(e);T(e,e.year,e.month)}},{name:"disabled",paint:function(e,t){var i=e.getChild("monthBack");i.setProperties({disabled:t});var n=e.getChild("monthForward");n.setProperties({disabled:t});var r=e.getChild("monthSel");r.setProperties({disabled:t});var a=e.getChild("yearSel");a.setProperties({disabled:t})}}),disable:function(){this.setProperties({disabled:!0}),this.addState("disabled")},enable:function(){this.setProperties({disabled:!1}),this.removeState("disabled")},setRange:function(e){this.setProperties({range:e})},setRawValue:function(e){this.setProperties({rawValue:e})},getRawValue:function(){return this.rawValue},getValue:function(){return this.stringifyValue(this.rawValue)},stringifyValue:function(e){var t=this.paramFormat;if("single"===this.mode)return R(e).format(this.paramFormat)||"";for(var i=[],n=864e5,r=0;r<e.length;r++)if(0===r)i.push(R(e[r]).format(t));else if(e[r]-e[r-1]>n)i.push(R(e[r-1]).format(t)),i.push(R(e[r]).format(t));else if(r===e.length-1)i.push(R(e[r]).format(t));else continue;return i.join(",")},parseValue:function(e){return N(e,this.mode,this.paramFormat)},setRawValueWithoutFireChange:function(e){this.rawValue=e,l(this)},getDateItemHTML:function(e){return $.g(s(this,e))}});return B.defaultProperties={range:{begin:new Date(1982,10,4),end:new Date(2046,10,4)},paramFormat:"YYYY-MM-DD",dayNamesMin:["一","二","三","四","五","六","日"],monthSelectLabel:"月",yearSelectLabel:"年"},V.register(B),B}),define("ub-ria-ui/MultiCalendar",["require","esui/Button","esui/MonthView","eoo","esui/lib","esui/InputControl","esui/Layer","esui/main","moment","underscore","jquery","esui/painters"],function(require){function e(e,a,s){var o=e.getChild("prevMonthView"),l=e.getChild("nextMonthView"),d=e.range,u=t(d),p=c(e.rawValue).add(1,"month"),m=p.month()+1,g=p.year(),v=c(a).format("YYYY-MM")===c(u.nextRange.end).format("YYYY-MM");if(!v)l&&l.setProperties({range:u.nextRange,month:m,year:g}),o&&o.setProperties({rawValue:a,range:u.prevRange});else l&&l.setProperties({range:u.nextRange,rawValue:a}),o&&o.setProperties({rawValue:a,year:c(e.rawValue).year(),month:c(e.rawValue).month()});if("render"===s){var y=o.getChild("monthForward").main,_=l.getChild("monthBack").main;if(f(y).remove(),f(_).remove(),o.on("change",h.bind(r,e)),o.on("changemonth",h.bind(i,e)),l.on("change",h.bind(r,e)),l.on("changemonth",h.bind(n,e)),e.autoHideLayer)o.on("itemclick",h.bind(e.layer.toggle,e.layer)),l.on("itemclick",h.bind(e.layer.toggle,e.layer))}}function t(e){var t={},i=c(e.begin).endOf("month").toDate();i.setDate(i.getDate()+1);var n=c(e.end).startOf("month").toDate();n.setDate(n.getDate()-1);var r={begin:e.begin,end:n},a={begin:i,end:e.end};return t.prevRange=r,t.nextRange=a,t}function i(e){var t=this,i=e.target,n=t.getChild("nextMonthView"),r=i.year,a=i.month+1,s=c(r+"-"+a,"YYYY-MM").add(1,"month");n.setProperties({year:s.year(),month:s.month()+1})}function n(e){var t=this,i=e.target,n=t.getChild("prevMonthView"),r=c(i.year+"-"+i.month,"YYYY-MM");n.setProperties({year:r.year(),month:r.month()+1})}function r(e){var t=e.target,i=t.getRawValue();if(i)this.rawValue=i,a(this),this.fire("change")}function a(e){var t=e.helper.getPart("text");t.innerHTML=h.escape(c(e.getRawValue()).format(e.displayFormat))}require("esui/Button"),require("esui/MonthView");var s=require("eoo"),o=require("esui/lib"),l=require("esui/InputControl"),d=require("esui/Layer"),u=require("esui/main"),c=require("moment"),h=require("underscore"),f=require("jquery"),p=require("esui/painters"),m=s.create(d,{create:function(){var e=this.$super(arguments);return f(this.control.main).after(e),f(e).addClass(this.control.helper.getPrefixClass("multicalendar-layer")),e},render:function(t){var i=this.control,n=i.helper,r='<div data-ui="type: MonthView; childName: prevMonthView" class="${prevClass}"></div><div data-ui="type: MonthView; childName: nextMonthView" class="${nextClass}"></div>';t.innerHTML=o.format(r,{prevClass:n.getPartClassName("prev-month"),nextClass:n.getPartClassName("next-month")}),n.initChildren(t),e(i,i.rawValue,"render")},toggle:function(){var t=this.getElement();if(!t||!f(t).is(":visible")){var i=this.control;e(i,i.rawValue,"repaint"),this.show()}else this.hide()}}),g=s.create(l,{constructor:function(){this.now=new Date,this.$super(arguments),this.layer=new m(this)},type:"MultiCalendar",styleType:"Calendar",initOptions:function(e){var t=new Date,i={rawValue:t,autoHideLayer:!1};if(h.extend(i,g.defaultProperties,e),o.isInput(this.main))this.helper.extractOptionsFromInput(this.main,i);if(this.paramFormat=i.paramFormat,i.value)i.rawValue=this.parseValue(i.value);this.setProperties(i)},initStructure:function(){var e=this.helper,t=this.main,i="calendar";if(o.isInput(t))e.replaceMain(),t=this.main;var n='<div class="${classes}" id="${id}">${value}</div><div class="${arrow}"><span class="${icon}"></span></div>';f(t).addClass(e.getPrefixClass(i)),t.innerHTML=o.format(n,{classes:e.getPartClassName("text"),id:e.getId("text"),arrow:e.getPartClassName("arrow"),icon:e.getIconClass(i)}),this.layer.autoCloseExcludeElements=[t]},initEvents:function(){this.helper.addDOMEvent(this.main,"click",h.bind(this.layer.toggle,this.layer))},repaint:p.createRepaint(l.prototype.repaint,{name:["rawValue","range"],paint:function(t,i,n){if(n)n=t.convertToRaw(n,t.range),t.range=n;if(i)t.rawValue=i,a(t);if(t.layer)e(t,t.rawValue,"repaint")}},{name:["disabled","hidden","readOnly"],paint:function(e,t,i,n){if(t||i||n)e.layer.hide()}}),parseValue:function(e){var t=c(e,this.paramFormat).toDate();return t},stringifyValue:function(e){return c(e).format(this.dateFormat)||""},convertToRaw:function(e,t){var i=this.paramFormat;if(h.isString(e)){var n=e.split(",");return{begin:n[0]?c(n[0],i).toDate():t.begin,end:n[1]?c(n[1],i).toDate():t.end}}return{begin:e.begin?e.begin:t.begin,end:e.end?e.end:t.end}},dispose:function(){if(!this.helper.isInStage("DISPOSED")){if(this.layer)this.layer.dispose(),this.layer=null;this.$super(arguments)}}});return g.defaultProperties={range:{begin:new Date(1983,8,3),end:new Date(2046,10,4)},dateFormat:"YYYY-MM-DD",paramFormat:"YYYY-MM-DD",displayFormat:"YYYY-MM-DD"},u.register(g),g}),define("ub-ria-ui/selectors/FilterRichSelectorGroup",["require","../util","esui/Panel","esui/painters","eoo","esui"],function(require){var e=require("../util"),t=require("esui/Panel"),exports={};exports.type="FilterRichSelectorGroup",exports.getCategory=function(){return"input"},exports.initOptions=function(t){var i={multi:!0};e.extend(i,t),e.parseBoolean(i),this.$super([i])},exports.initStructure=function(){this.helper.initChildren();var t=this.children;e.each(t,function(e){var t=e.main.getAttribute("data-ui-role");if(t)this[t]=e},this),this.filter.on("load",function(t){var i=this.fire("load",{item:t.item}),n=i.data,r=e.filter(n,function(t){return null!=e.findWhere(this.getRawValue(),{id:t.id})},this);this.source.setProperties({datasource:n,selectedData:r})},this),this.source.on("add",function(t){var i;if(this.target){if(i=e.deepClone(this.getRawValue())||[],t.item)if(t.status){var n=e.omit(t.item,t.item.isSelected);i.push(n)}else i=e.filter(i,function(e){e.id!==t.item.id});else{var r=t.target.getSelectedItems();i=e.union(i,r)}this.target.setProperties({datasource:i})}else i=this.source.getSelectedItems();this.rawValue=i,this.fire("add"),this.fire("change")},this),this.target&&this.target.on("delete",function(e){var t=e.items;this.source&&this.source.selectItems(t,!1),this.fire("delete"),this.fire("change")},this)},exports.repaint=require("esui/painters").createRepaint(t.prototype.repaint,{name:"rawValue",paint:function(e,t){e.target&&e.target.setProperties({datasource:t})}},{name:"filterData",paint:function(e,t){e.filter&&e.filter.setProperties({datasource:t})}}),exports.stringifyValue=function(t){var i=[];if(!e.isArray(t))i=[t];else e.each(t,function(e){i.push(e.id)});return i.join(",")},exports.getRawValue=function(){if(this.target)return this.target.getRawValue();else return this.rawValue};var i=require("eoo").create(t,exports);return require("esui").register(i),i}),define("esui/SearchBox",["require","eoo","./lib","esui","./Control","./painters","underscore","jquery","./TextBox","./Button"],function(require){function e(){var e='<span class="${searchIconClasses}"></span>';e='<button data-ui="type:Button;childName:search;variants:${buttonVariants}"class="${searchClasses}">'+(this.buttonContent?this.buttonContent:e)+"</button>";var t='<div class="${addonClasses}">'+e+"</div>",i=this.helper;return r.format(t,{searchIconClasses:i.getIconClass("search"),buttonVariants:this.buttonVariants,searchClasses:i.getPartClassName("search"),addonClasses:i.getPrefixClass("textbox-addon")})}function t(){var e=this,t=this.getChild("text"),i=t.getValue()?"addState":"removeState";if(this[i]("searched"),"instant"===e.searchMode)e.fire("search")}function i(){var e=this.getChild("text");if(e.setValue(""),this.removeState("searched"),"instant"===this.searchMode)this.fire("search");else this.fire("clear")}var n=require("eoo"),r=require("./lib"),a=require("esui"),s=require("./Control"),o=require("./painters"),l=require("underscore"),d=require("jquery");require("./TextBox"),require("./Button");var u=n.create(s,{type:"SearchBox",initOptions:function(e){var t={searchMode:"normal",buttonContent:"",buttonVariants:"primary icon",buttonPosition:"left",text:"",searched:!1,width:""};if(l.extend(t,e),r.isInput(this.main)){if(!t.placeholder)t.placeholder=r.getAttribute(this.main,"placeholder");if(!t.text)t.text=this.main.value;if(!t.maxLength&&(r.hasAttribute(this.main,"maxlength")||this.main.maxLength>0))t.maxLength=this.main.maxLength}if(!t.title)t.title=this.main.title;if(t.text)t.searched=!0;s.prototype.initOptions.call(this,t)},initStructure:function(){var t='<div data-ui-type="TextBox" data-ui-mode="text" data-ui-child-name="text"data-ui-placeholder="${placeholder}" data-ui-icon="${clearClasses}"data-ui-variants="icon-right" data-ui-width="auto"></div>',i=e.apply(this);if("left"===this.buttonPosition)t=i+t;else if("right"===this.buttonPosition)t+=i;var n=r.format(t,{placeholder:this.placeholder,clearClasses:this.helper.getIconClass("times-circle")});if(r.isInput(this.main))this.helper.replaceMain();if(this.buttonPosition)d(this.main).addClass(this.helper.getPrefixClass("textbox-wrapper"));this.main.innerHTML=n,this.helper.initChildren(this.main)},initEvents:function(){var e=this.getChild("text"),n=this;e.on("input",l.bind(t,n)),e.on("keypress",function(e){if(13===e.keyCode)e.preventDefault()}),e.on("enter",function(){n.fire("search")}),e.on("iconclick",l.bind(i,n)),e.on("focus",l.bind(n.addState,n,"focus")),e.on("blur",l.bind(n.removeState,n,"focus"));var r=n.getChild("search");if(r)r.on("click",function(){n.fire("search")})},getValue:function(){var e=this.getChild("text");return e.getValue()},repaint:o.createRepaint(s.prototype.repaint,o.attribute("title"),{name:["maxLength","placeholder","text","height","disabled","readOnly"],paint:function(e,t,i,n,r,a,s){var o={maxLength:t,placeholder:i,value:n,height:r,disabled:a,readOnly:s};e.getChild("text").setProperties(o)}},{name:"disabled",paint:function(e,t){var i=e.getChild("search");i&&i.set("disabled",t)}},{name:"width",paint:function(e,t){if(t&&!isNaN(t))e.main.style.width=t+"px"}},{name:"searched",paint:function(e,t){var i=t?"addState":"removeState";e[i]("searched")}},{name:"searchMode",paint:function(e,t){e.addState(t)}}),getTextProperty:function(){var e=this.getChild("text");return e?e.getValue():this.text}});return a.register(u),u}),define("ub-ria-ui/selectors/RichSelector",["require","esui/Label","esui/Panel","esui/SearchBox","esui/lib","esui/InputControl","underscore","eoo","esui/painters","esui"],function(require){function e(){this.search()}function t(e){e.removeState("queried");var t=e.getSearchBox();if(t)t.set("text","")}require("esui/Label"),require("esui/Panel"),require("esui/SearchBox");var i=require("esui/lib"),n=require("esui/InputControl"),r=require("underscore"),a=require("eoo"),s=require("esui/painters"),o=require("esui"),l=a.create(n,{type:"RichSelector",initOptions:function(e){var t={hasHead:!0,needHeadCount:!0,title:"标题名",needBatchAction:!1,batchActionLabel:"批量操作",hasSearchBox:!0,hasFoot:!0,itemName:"结果",emptyText:"没有相应的搜索结果",holdState:!1,mode:"add",multi:!0,allowUnselectNode:!1};r.extend(t,e),this.$super([t])},getHeadHTML:function(){var e=this.helper,t="",n="";if(this.needBatchAction){var r=e.getPartClassName("batch-action-link"),a=this.helper.getId("batch-action");t='<a class="'+r+'" id="'+a+'" >'+this.batchActionLabel+"</a>"}if(this.hasHead&&this.needHeadCount){var s=e.getPartClassName("head-count");n='<span class="'+s+'" data-ui="type:Label;childName:headTotalCount;title:;"></span>'}var o=['<div data-ui="type:Panel;childName:head;"',' class="${headClass}">','<span class="${headTitleClass}" data-ui="type:Label;childName:title;title:;">',"${title}</span>${totalCount}","${actionLink}","</div>"].join("\n");return o=i.format(o,{headClass:e.getPartClassName("head"),headTitleClass:e.getPartClassName("head-title"),title:this.title,actionLink:t,totalCount:n})},getFootHTML:function(){return['<div data-ui="type:Panel;childName:foot;"',' class="'+this.helper.getPartClassName("foot")+'">','<span data-ui="type:Label;childName:totalCount">',"</span>","</div>"].join("\n")},getSearchBoxHTML:function(){return['<div data-ui="type:Panel;childName:searchBoxArea"',' class="'+this.helper.getPartClassName("search-wrapper")+'">','    <div data-ui="type:SearchBox;childName:itemSearch;" ','      data-ui-button-variants="bordered icon"></div>',"</div>"].join("")},initStructure:function(){var t=["${head}",'<div data-ui="type:Panel;childName:body;" class="${bodyClass}">',"    ${searchInput}",'    <div data-ui="type:Panel;childName:content" class="${contentClass}">','        <div data-ui="type:Label;childName:emptyText" ','           class="${emptyTextClass}">${emptyText}</div>','        <div data-ui="type:Panel;childName:queryList" class="${queryListClass}"></div>',"    </div>","</div>","${footInfo}"];if(this.main.innerHTML=i.format(t.join("\n"),{head:this.hasHead?this.getHeadHTML():"",bodyClass:this.helper.getPartClassName("body"),searchInput:this.hasSearchBox?this.getSearchBoxHTML():"",contentClass:this.helper.getPartClassName("content-wrapper"),emptyTextClass:this.helper.getPartClassName("empty-text"),emptyText:this.emptyText,queryListClass:this.helper.getPartClassName("query-list"),footInfo:this.hasFoot?this.getFootHTML():""}),this.initChildren(),this.addState(this.mode||"delete"),this.needBatchAction)this.helper.addDOMEvent(this.helper.getPart("batch-action"),"click",r.bind(this.batchAction,this));if(this.hasSearchBox){this.addState("has-search");var n=this.getSearchBox();n.on("search",r.bind(e,this)),n.on("clear",r.bind(this.clearQuery,this))}var a=this.getQueryList().main;this.helper.addDOMEvent(a,"click",r.bind(this.eventDispatcher,this))},eventDispatcher:function(){return!1},search:function(){var e=[],t=this.fire("search",e);if(!t.isDefaultPrevented()){var n=this.getSearchBox();if(n){var r={value:i.trim(n.getValue())};e.push(r)}}if(e.length)this.queryItem(e),this.refreshFoot(),this.refreshHead(),this.addState("queried");else this.clearQuery()},clearQuery:function(){return t(this),this.clearData(),this.refreshContent(),this.refreshFoot(),this.refreshHead(),this.fire("clearquery"),!1},getContent:function(){var e=this.getChild("body");if(e)return e.getChild("content");else return null},getKeyword:function(){var e=this.getSearchBox(),t=this.isQuery();if(e&&t)return i.trim(e.getValue());else return null},getQueryList:function(){var e=this.getContent();if(e)return e.getChild("queryList");else return null},getSearchBox:function(){var e=this.getChild("body").getChild("searchBoxArea");if(e)return e.getChild("itemSearch");else return void 0},getTotalCountPanel:function(){var e=this.getChild("foot");if(!e)return null;else return e.getChild("totalCount")},getHeadTotalCountPanel:function(){var e=this.getChild("head");if(!e)return null;else return e.getChild("headTotalCount")},isQuery:function(){return this.hasState("queried")},batchAction:function(){if("delete"===this.mode)this.deleteAll(),this.refreshFoot(),this.refreshHead();else if("add"===this.mode)this.selectAll();return!1},deleteAll:function(){return!1},addAll:function(){return!1},adaptData:function(){},refresh:function(){var e=this.adaptData(),i=!0;if(this.hasSearchBox&&this.isQuery())if(this.holdState)this.search(this.getKeyword()),i=!1;else t(this);if(i)this.refreshContent(),this.processDataAfterRefresh(e),this.refreshFoot(),this.refreshHead()},processDataAfterRefresh:function(){},refreshFoot:function(){if(this.hasFoot){var e=this.getCurrentStateItemsCount(),t=this.getTotalCountPanel();if(t){var i=r.escape(this.itemName);t.setText("共 "+e+" 个"+i)}}},refreshHead:function(){if(this.hasHead&&this.needHeadCount){var e=this.getCurrentStateItemsCount(),t=this.getHeadTotalCountPanel();if(t)t.setText("（"+e+"）")
}},getCurrentStateItemsCount:function(){return 0},repaint:s.createRepaint(n.prototype.repaint,{name:"title",paint:function(e,t){var i=e.getChild("head"),n=i&&i.getChild("title");n&&n.setText(t)}},s.style("width")),getSelectedItems:function(){return[]},getSelectedItemsFullStructure:function(){return{}},selectItems:function(){},setRawValue:function(e){if(!r.isArray(e))e=[e];if(!this.multi&&e.length>1)e=e.slice(0);this.selectItems(e,!0)},getRawValue:function(){var e=this.getSelectedItems();if(!this.multi)return e[0];else return e},stringifyValue:function(e){var t=[];if(!r.isArray(e))t=[e];else r.each(e,function(e){t.push(e.id)});return t.join(",")}});return o.register(l),l}),define("ub-ria-ui/selectors/RichSelectorGroup",["require","eoo","esui/Panel","esui","underscore"],function(require){var e=require("eoo"),t=require("esui/Panel"),i=require("esui"),n=require("underscore"),r=e.create(t,{type:"RichSelectorGroup",getCategory:function(){return"input"},initStructure:function(){this.helper.initChildren()},initEvents:function(){var e=this.getChild("filter"),t=this.getChild("source"),i=this.getChild("target");e&&e.on("load",this.fire.bind(this,"load")),t&&t.on("add",n.bind(function(e){var t=e.target.getSelectedItemsFullStructure();i&&i.setProperties({datasource:t}),this.fire("add"),this.fire("change")},this)),i&&i.on("delete",n.bind(function(e,i){t&&t.selectItems(i.items,!1),this.fire("delete"),this.fire("change")},this))},getRealTargetSelector:function(){var e=this.getChild("source"),t=this.getChild("target");if(t)return t;else return e},getValue:function(){return this.getRealTargetSelector().getValue()},getRawValue:function(){return this.getRealTargetSelector().getRawValue()},validate:function(){var e=this.getRealTargetSelector();if("function"==typeof e.validate)return e.validate();else return void 0}});return i.register(r),r}),define("esui/TreeStrategy",["require","underscore","eoo"],function(require){var e=require("underscore"),t=require("eoo"),i=t.create({constructor:function(t){var i={defaultExpand:!1};e.extend(this,i,t)},isLeafNode:function(e){return!e.children||!e.children.length},shouldExpand:function(){return this.defaultExpand},attachTo:function(e){this.enableToggleStrategy(e),this.enableSelectStrategy(e)},enableToggleStrategy:function(e){e.on("expand",function(e,t){this.expandNode(t.node.id)}),e.on("collapse",function(e,t){this.collapseNode(t.node.id,!1)})},enableSelectStrategy:function(e){e.on("select",function(e,t){this.selectNode(t.node.id)}),e.on("unselect",function(t,i){if(e.get("allowUnselectNode"))e.unselectNode(i.node.id)})}});return i}),define("ub-ria-ui/selectors/SelectorTreeStrategy",["require","esui/TreeStrategy","eoo","underscore"],function(require){var e=require("esui/TreeStrategy"),t=require("eoo"),i=require("underscore"),n=t.create(e,{constructor:function(e){var t={defaultExpand:!0,orientExpand:!1};i.extend(this,t,e)},isLeafNode:function(e){return!e.children},shouldExpand:function(e){if(this.orientExpand)return!e.isSelected;else return this.defaultExpand},enableSelectStrategy:function(e){var t=this;e.on("select",function(e,i){var n=!0,r=t.isLeafNode(i.node);if("load"!==t.mode){if(t.onlyLeafSelect&&!r)n=!1}else if(!r)n=!1;if(n)this.selectNode(i.node.id)}),e.on("unselect",function(t,i){if(e.get("allowUnselectNode"))e.unselectNode(i.node.id)})}});return n}),define("ub-ria-ui/selectors/TableRichSelector",["require","esui","esui/lib","underscore","eoo","esui/painters","./RichSelector"],function(require){function e(e,t,i,n){var r=e.fields,a=[],s=e.helper.getPartClassName("row-field"),o=0;u.each(r,function(r,l){var d=r.content,c="function"==typeof d?d.call(e,t,i,l):u.escape(t[d]);if(n){var h=n.insertCell(l);h.style.width=r.width+"px",h.title=c,h.innerHTML=c}else{var f='<td class="'+s+'" title="'+c+'" style="width:'+r.width+'px;">'+c+"</td>";a.push(f)}o++});var l=e.helper.getPartClassName("row-action-icon")+" "+e.helper.getIconClass(),d='<span class="'+l+'"></span>';if(n){var c=n.insertCell(o);c.innerHTML=d}else return a.push("<td>"+d+"</td>"),a.join(" ")}function t(e,t,n){var r=e.helper.getPartClassName("row-selected"),a=!1,s={item:n,status:1};if(d.hasClass(t,r)){if(e.allowUnselectNode)i(e,n.id,!1),a=!0,s.status=-1}else i(e,n.id,!0),a=!0;if(a)e.fire("add",s),e.fire("change")}function i(e,t,i){if(!e.multi)n(e),e.currentSelectedId=i?t:null;r(e,t,i)}function n(e){var t=e.currentSelectedId;r(e,t,!1),e.currentSelectedId=null}function r(e,t,i){var n=e.indexData[t];if(n){n.isSelected=i;var r=e.helper.getPart("row-"+t),a=i?d.addClass:d.removeClass;a(r,e.helper.getPartClassName("row-selected"))}}function a(e,t,i){s(e,i.id),e.fire("delete",{items:[i]}),e.fire("change")}function s(e,t){var i=e.indexData,n=i[t].index,r=[].slice.call(e.datasource,0);r.splice(n,1),e.set("datasource",r)}function o(e,t,n){var r=e.helper.getPartClassName("row-selected");if(!d.hasClass(t,r))i(e,n.id,!0),e.fire("load",{item:n}),e.fire("change")}var l=require("esui"),d=require("esui/lib"),u=require("underscore"),c=require("eoo"),h=require("esui/painters"),f=require("./RichSelector"),p=c.create(f,{type:"TableRichSelector",styleType:"RichSelector",initOptions:function(e){var t={firedOnIcon:!1,datasource:[],selectedData:[],fields:[{field:"name",title:"名称",content:"name",searchScope:"partial",isDefaultSearchField:!0}],hasRowHead:!0};u.extend(t,e),this.$super([t])},initStructure:function(){this.$super(arguments),d.addClass(this.main,this.helper.getPrefixClass("tablerichselector"))},repaint:h.createRepaint(f.prototype.repaint,{name:["datasource","selectedData","disabledData","fields"],paint:function(e){e.refresh(),e.fire("change")}}),adaptData:function(){this.allData=d.deepClone(this.datasource);var e={};u.each(this.allData,function(t,i){e[t.id]={index:i}});var t=this.selectedData||[];if(!this.multi)if(!u.isArray(t))this.currentSelectedId=t,t=[{id:t}];else if(t.length)this.currentSelectedId=t[0].id;u.each(t,function(t){if(void 0!==e[t.id])e[t.id].isSelected=!0});var i=this.disabledData||[];return u.each(i,function(t){if(void 0!==e[t.id])e[t.id].isDisabled=!0}),this.indexData=e,this.fieldsIndex={},this.defaultSearchFields=[],u.each(this.fields,function(e){if(this.fieldsIndex[e.field]=e,e.isDefaultSearchField)this.defaultSearchFields.push(e.field)},this),{allData:this.allData,indexData:this.indexData}},refreshContent:function(){var e=this.isQuery()?this.queriedData:this.allData;if(!e||0===e.length)this.addState("empty");else this.removeState("empty");var t=[];if(this.hasRowHead)t.push(this.createTableHead());t.push(this.createTableContent(e));var i=this.getQueryList();i.setContent(t.join(""))},createTableHead:function(){for(var e=this.helper.getPartClassName("head-table"),t=this.helper.getId("head-table"),i=['<table border=0 class="'+e+'" id="'+t+'"><tr>'],n=this.fields.length,r=0;n>r;r++){var a=this.fields[r];i.push('<th class="th'+r+'" style="width:'+a.width+'px;">'+a.title||"</th>")}return i.push("<th></th>"),i.push("</tr></table>"),i.join(" ")},rowTpl:'<tr id="${rowId}" class="${rowClass}" index="${index}">${content}</tr>',createTableContent:function(t){var i=this.indexData,n=this.helper,r=n.getPartClassName("content-table"),a=n.getId("content-table"),s=['<table border=0 class="'+r+'" id="'+a+'">'],o=n.getPartClassName("row"),l=n.getPartClassName("row-selected"),c=n.getPartClassName("row-disabled");return u.each(t,function(t,n){var r=[o],a=i[t.id];if(a.isSelected)r.push(l);if(a.isDisabled)r.push(c);s.push(d.format(this.rowTpl,{rowId:this.helper.getId("row-"+t.id),rowClass:r.join(" "),index:a.index,content:e(this,t,n)}))},this),s.push("</table>"),s.join(" ")},eventDispatcher:function(e){for(var t=e.target,i=this.helper,n=i.getPartClassName("row"),r=i.getPartClassName("row-action-icon");t&&t!==document.body;){var a;if(this.hasIcon&&this.fireOnIcon&&d.hasClass(t,r))a=t.parentNode;else if(d.hasClass(t,n))a=t;if(a)return void this.operateRow(a);t=t.parentNode}},operateRow:function(e){var i=this.helper.getPartClassName("row-disabled");if(!d.hasClass(e,i)){var n=parseInt(e.getAttribute("index"),10),r=this.allData[n];if(r)if("add"===this.mode)t(this,e,r);else if("delete"===this.mode)a(this,e,r);else if("load"===this.mode)o(this,e,r)}},selectAll:function(){var e=this.isQuery()?this.queriedData:this.allData,t=this;u.each(e,function(e){i(t,e.id,!0)}),this.fire("add"),this.fire("change")},selectItems:function(e,t){var n=this.indexData,r=this;u.each(e,function(e){var a=void 0!==e.id?e.id:e,s=n[a];if(null!==s&&void 0!==s)i(r,a,t)})},deleteAll:function(){var e=u.clone(this.datasource);this.set("datasource",[]),this.fire("delete",{items:e}),this.fire("change")},queryItem:function(e){function t(e,t,i){var n=!1;if("string"==typeof t)t=d.trim(t);if("partial"===this.fieldsIndex[e].searchScope){if(-1!==i[e].indexOf(t))n=!0}else if(i[e]===t)n=!0;return n}function i(i){return!u.any(e,function(e){var n=[];if(void 0===e.keys)n=this.defaultSearchFields;else n=e.keys;return!u.any(n,function(n){return t.call(this,n,e.value,i)},this)},this)}e=e||[],this.queriedData=u.filter(this.allData,i,this),this.afterQueryHandler()},afterQueryHandler:function(){this.addState("queried"),this.refreshContent()},clearData:function(){this.queriedData=[]},getSelectedItems:function(){var e=this.datasource,t=this.indexData,i=this.mode;if("delete"===i)return this.allData;var n=u.filter(e,function(e){return t[e.id].isSelected});return n},getSelectedItemsFullStructure:function(){return this.getSelectedItems()},getCurrentStateItemsCount:function(){var e=this.isQuery()?this.queriedData:this.allData;return e=e||[],e.length}});return l.register(p),p}),define("ub-ria-ui/selectors/TableRichSelectorWithFilter",["require","esui","esui/lib","underscore","eoo","esui/painters","esui/Select","esui/Panel","./TableRichSelector"],function(require){var e=require("esui"),t=require("esui/lib"),i=require("underscore"),n=require("eoo"),r=require("esui/painters");require("esui/Select"),require("esui/Panel");var a=require("./TableRichSelector"),s=n.create(a,{type:"TableRichSelectorWithFilter",styleType:"RichSelector",createTableHead:function(){for(var e=this.helper.getPartClassName("head-table"),t=['<table border=0 class="'+e+'"><tr>'],i=this.fields.length,n=0;i>n;n++){var r=this.fields[n];if(r.field!==this.filterField)t.push('<th class="th'+n+'" style="width:'+r.width+'px;">'+r.title||"</th>");else t.push('<th class="th'+n+'" style="width:'+r.width+'px;">    <div data-ui="type:Select;childName:filterSel;variants:compact;"></div></th>')}return t.push("<th></th>"),t.push("</tr></table>"),t.join(" ")},getSearchBoxHTML:function(){var e=this.$super(arguments),i='<div class="${queryListClass}" data-ui-type="Panel" data-ui-child-name="filter"></div>';return i=t.format(i,{queryListClass:this.helper.getPrefixClass("richselector-query-list")}),e+i},refreshFilter:function(){var e=this.getFilter();e.setContent(this.createTableHead());var t=e.getChild("filterSel");if(t)t.setProperties({datasource:this.filterDatasource}),t.on("change",i.bind(this.search,this))},repaint:r.createRepaint(a.prototype.repaint,{name:"fields",paint:function(e){e.refreshFilter()}}),initStructure:function(){this.$super(arguments),this.addState("with-filter")},refreshContent:function(){this.hasRowHead=!1,this.$super(arguments)},search:function(){var e=[],i=this.getSearchBox();if(i)e.push({value:t.trim(i.getValue())});var n=this.getFilter().getChild("filterSel");if(n){var r=n.getValue();if(r&&""!==r)e.push({keys:[this.filterField],value:n.getValue()})}if(e.length)this.queryItem(e),this.refreshFoot(),this.refreshHead(),this.addState("queried");else this.clearQuery()},getFilter:function(){return this.getChild("body").getChild("filter")}});return e.register(s),s}),define("ub-ria-ui/TogglePanel",["require","esui/Control","esui","eoo","esui/painters","underscore","esui/Layer","jquery","esui/Panel"],function(require){function e(e){var t={main:e,childName:"title",viewContext:this.viewContext,renderOptions:this.renderOptions},i=a.create("Panel",t);this.helper.addPartClasses("title",i.main),this.addChild(i,"title"),i.render(),this.set("title",e&&e.innerHTML)}function t(e){var t={main:e,childName:"content",viewContext:this.viewContext,renderOptions:this.renderOptions},i=a.create("Panel",t);this.helper.addPartClasses("content",i.main),this.addChild(i,"content"),i.render()}function i(e,t){var i=this;e.id=i.helper.getId("layer");var n=new d(i);i.layer=n,n.prepareLayer(e),n.on("hide",function(){i.setProperties({expanded:!1})}),n.autoCloseExcludeElements=[t]}function n(){var e=this.fire("beforetoggle");if(!e.isDefaultPrevented())this.toggleContent()}var r=require("esui/Control"),a=require("esui"),s=require("eoo"),o=require("esui/painters"),l=require("underscore"),d=require("esui/Layer"),u=require("jquery");require("esui/Panel");var c=s.create(r,{type:"TogglePanel",initOptions:function(e){var t={expanded:!1,position:"layer"},i=l.extend(t,e);this.setProperties(i)},initStructure:function(){var n=u(this.main).children(),r=n[0],a=n[1];e.call(this,r);var s=this.position;if(t.call(this,a),"layer"===s)i.call(this,a,r)},toggleContent:function(){this.toggleStates(),this.fire("change")},toggleStates:function(){this.setProperties({expanded:!this.expanded})},initEvents:function(){var e=this;e.$super(arguments);var t=e.getChild("title");e.helper.addDOMEvent(t.main,"click",l.bind(n,e))},repaint:o.createRepaint(r.prototype.repaint,{name:"title",paint:function(e,t){e.getChild("title").set("content",t)}},{name:"content",paint:function(e,t){e.getChild("content").set("content",t)}},{name:"expanded",paint:function(e,t){var i="layer"===e.position,n=t?"addState":"removeState";if(e[n]("expanded"),e[n]("active"),n=t?"show":"hide",i)e.layer[n]();else e.getChild("content")[n]()}},o.style("height"),o.style("height")),isExpanded:function(){return this.hasState("expanded")}});return a.register(c),c}),define("ub-ria-ui/selectors/ToggleSelector",["require","jquery","esui","underscore","../TogglePanel","eoo"],function(require){function e(e){var t=this.fire("change");if(!t.isDefaultPrevented())this.updateDisplayText(e.target)}function t(){if(this.collapseAfterChange)this.toggleContent()}var i=require("jquery"),n=require("esui"),r=require("underscore"),a=require("../TogglePanel"),s=require("eoo"),o=s.create(a,{type:"ToggleSelector",getCategory:function(){return"input"},initOptions:function(e){var t={textField:null,collapseAfterChange:!0};e=r.extend(t,e),this.$super(arguments)},initStructure:function(){var e=this,t=this.helper;e.$super(arguments);var n=i(e.main),r=n.children(),a=r.eq(0),s=r.eq(1),o=i("<span></span>").addClass(t.getPrefixClass("select-arrow")+" "+t.getIconClass());n.addClass(t.getPrefixClass("select")),a.addClass(t.getPrefixClass("select-text")),n.append(o),s.insertAfter(n)},initEvents:function(){var i=this,n=i.viewContext.getSafely(i.targetControl),a=i.helper;n.on("change",r.bind(e,i)),n.on("add",r.bind(t,i)),i.updateDisplayText(n),a.addDOMEvent(i.main,"click",i.toggleContent)},toggleContent:function(){if(!this.isDisabled())this.toggleStates()},updateDisplayText:function(e){var t=this.title;if(e.helper.isInStage("RENDERED")){var i=e.getRawValue();if(r.isArray(i))i=i[0];if(i&&i[this.textField])t=i[this.textField]}this.set("title",r.escape(t))},getRawValue:function(){var e=this.viewContext.getSafely(this.targetControl),t=e.getRawValue();if(t)return t[this.valueField];else return void 0},setRawValue:function(e){var t=this.viewContext.getSafely(this.targetControl);t.setRawValue(e)},getValue:function(){return this.getRawValue()},setValue:function(e){var t=[{id:e}];this.setRawValue(t)},validate:function(){var e=this.viewContext.get(this.targetControl);if(!e)return!0;if("function"==typeof e.validate)return e.validate();else return void 0}});return n.register(o),o}),define("esui/Tree",["require","eoo","./main","./Control","./lib","underscore","./painters","jquery","./TreeStrategy"],function(require){function e(e,t,i,n,r){var a=e.helper,s=r-n,o=0===s?"current":1===s?"previous":"far-previous",l=[].concat(a.getPartClasses("node-indicator"),a.getPartClasses("node-indicator-"+i),a.getPartClasses("node-indicator-level-"+n),a.getPartClasses("node-indicator-"+o)),d=0===s?x[i||"collapsed"]:"第"+n+"级",u="<span ";if(0===s)u+='id="'+a.getId("indicator-"+t.id)+'" ';return u+='class="'+l.join(" ")+'">'+d+"</span>"}function t(t,i,r,a){var s=t.helper,o=s.getPartClasses("content-wrapper");if(t.selectedNodeIndex[i.id])o=o.concat(s.getPartClasses("content-wrapper-selected"));o=o.join(" ");for(var l=s.getId("content-wrapper-"+i.id),d='<div id="'+l+'" class="'+o+'">',u=t.strategy.isLeafNode(i)?"empty":a?"expanded":"collapsed",c=0;r>=c;c++)d+=e(t,i,u,c,r);var h=t.getItemHTML(i);if(t.checkboxes)h=p.format('<div class="'+s.getPrefixClass("checkbox-custom")+'"><label>${contentHTML}</label></div>',{contentHTML:h});var f=s.getPartClasses("item-content");if(d+='<div class="'+f.join(" ")+'">'+h+"</div>",d+="</div>",a&&!t.strategy.isLeafNode(i)){var m=[].concat(s.getPartClasses("sub-root"),s.getPartClasses("sub-root-"+u));d+='<ul class="'+m.join(" ")+'">';for(var g,v=0;v<i.children.length;v++)g=i.children[v],d+=n(t,g,r+1,t.strategy.shouldExpand(g));d+="</ul>"}return d}function i(e,t,i,n){var r=e.helper,a=e.strategy.isLeafNode(t)?"empty":n?"expanded":"collapsed",s=[].concat(r.getPartClasses("node"),r.getPartClasses("node-"+a),r.getPartClasses("node-level-"+i));if(t===e.datasource)s=[].concat(r.getPartClasses("root"),r.getPartClasses("root-"+a),s);return s.join(" ")}function n(e,n,r,a,s){var o='<${nodeName} class="${classes}" id="${id}" data-id="${nodeId}" data-level="${level}">${content}</${nodeName}>';return s=s||"li",p.format(o,{nodeName:s,classes:i(e,n,r,a),id:e.helper.getId("node-"+n.id),nodeId:n.id,level:r,content:t(e,n,r,a)})}function r(e){var t=e.target,i=this.helper.getPartClasses("node-indicator")[0],n=v(t).hasClass(i),r=!n;if(!n){for(var a=this.helper.getPartClasses("content-wrapper")[0];t&&t!==this.main&&!v(t).hasClass(a);)t=t.parentNode;if(v(t).hasClass(a))n=this.wideToggleArea,r=r&&!0}if(n||r){for(;t&&t!==this.main&&!v(t).attr("data-id");)t=t.parentNode;var s=v(t).attr("data-id");if(n)this.triggerToggleStrategy(s);if(r)this.triggerSelectStrategy(s)}}function a(e,t){if(t=t||{},t[e.id]=e,e.children)for(var i=0;i<e.children.length;i++)a(e.children[i],t);return t}function s(e,t){var i=e.helper.getPartClasses("node-empty")[0];return v(t).hasClass(i)}function o(e,t){var i=e.helper.getPartClasses("node-expanded")[0];return v(t).hasClass(i)}function l(e,t){if(e.selectedNodeIndex[t.id])return!1;else return e.selectedNodes.push(t),e.selectedNodeIndex[t.id]=t,!0}function d(e,t){if(e.selectedNodeIndex[t.id]){delete e.selectedNodeIndex[t.id];for(var i=0;i<e.selectedNodes.length;i++)if(e.selectedNodes[i]===t)e.selectedNodes.splice(i,1);return!0}return!1}function u(e,t,i){if(i.force||e.allowUnselectNode){var n=e.nodeIndex[t];if(n){var r=d(e,n);if(r){if(i.modifyDOM){var a=p.g(e.helper.getId("content-wrapper-"+t));e.helper.removePartClasses("content-wrapper-selected",a)}if(!i.silent)e.fire("unselectnode",{node:n}),e.fire("selectionchange")}}}}var c=require("eoo"),h=require("./main"),f=require("./Control"),p=require("./lib"),m=require("underscore"),g=require("./painters"),v=require("jquery"),y=require("./TreeStrategy"),_=c.create(y,{attachTo:function(){}}),x={collapsed:"展开",expanded:"收起",busy:"加载中",empty:"无内容"},b=c.create(f,{type:"Tree",initOptions:function(e){var t={datasource:{},selectMode:"single",hideRoot:!1,strategy:new _,selectedNodes:[],selectedNodeIndex:{},checkboxes:!1},i=m.extend(t,e);if(null==i.allowUnselectNode)i.allowUnselectNode="single"!==i.selectMode;this.setProperties(i)},itemTemplate:"<span>${text}</span>",getItemHTML:function(e){var t={id:m.escape(e.id),text:m.escape(e.text)};return p.format(this.itemTemplate,t)},clickNode:function(){r.apply(this,arguments)},initStructure:function(){this.strategy.attachTo(this)},initEvents:function(){this.helper.addDOMEvent(this.main,"click",this.clickNode)},removeNodeFromIndex:function(e){var t=this.nodeIndex[e];if(t)if(this.nodeIndex[e]=void 0,t.children)m.each(t.children,this.removeNodeFromIndex,this)},repaint:g.createRepaint(f.prototype.repaint,{name:"datasource",paint:function(e,t){e.selectedNodes=[],e.selectedNodeIndex={},e.nodeIndex=a(t),e.main.innerHTML=n(e,t,0,!0,"div")}},{name:"hideRoot",paint:function(e,t){var i=t?"addState":"removeState";e[i]("hide-root")}}),triggerSelectStrategy:function(e){var t=this.nodeIndex[e];if(t)if(this.selectedNodeIndex[e])this.fire("unselect",{node:t});else this.fire("select",{node:t})},getSelectedNodes:function(){return this.selectedNodes.slice()},toggleNodeSelection:function(e){var t=this.selectedNodeIndex[e]?"unselectNode":"selectNode";this[t](e)},selectNode:function(e,t){var i=this.nodeIndex[e];if(i){var n=l(this,i);if(n){if("single"===this.selectMode&&this.selectedNodes.length>1)u(this,this.selectedNodes[0].id,{force:!0,silent:!0,modifyDOM:!0});var r=p.g(this.helper.getId("content-wrapper-"+e));if(this.helper.addPartClasses("content-wrapper-selected",r),!t)this.fire("selectnode",{node:i}),this.fire("selectionchange")}}},unselectNode:function(e,t){u(this,e,{force:!0,silent:t,modifyDOM:!0})},expandNode:function(e,n){var r=this.helper,s=p.g(r.getId("node-"+e));if(s){var o=+v(s).attr("data-level");if(n||"ul"!==s.lastChild.nodeName.toLowerCase()){var l=this.nodeIndex[e];if(!l)return;if(n){if(l.children)for(var d=0;d<l.children.length;d++)u(this,l.children[d].id,{force:!0,silent:!0,modifyDOM:!1}),this.removeNodeFromIndex(l.children[d].id);l.children=n,a(l,this.nodeIndex)}s.innerHTML=t(this,l,o,!0)}else{var c=p.g(r.getId("indicator-"+e));c.innerHTML=x.expanded;var h=[].concat(r.getPartClasses("node-indicator"),r.getPartClasses("node-indicator-level-"+o),r.getPartClasses("node-indicator-current"),r.getPartClasses("node-indicator-expanded"));c.className=h.join(" ");var f=[].concat(r.getPartClasses("sub-root"),r.getPartClasses("sub-root-expanded"));s.lastChild.className=f.join(" ")}var m=this.nodeIndex[e],g=i(this,m,o,!0);s.className=g}},collapseNode:function(e,t){var n=this.helper,r=p.g(n.getId("node-"+e));if(r){var a=this.nodeIndex[e],s=r.getElementsByTagName("ul")[0];if(s)if(t){if(s.parentNode.removeChild(s),a.children)for(var o=0;o<a.children.length;o++)u(this,a.children[o].id,{force:!0,silent:!1,modifyDOM:!1})}else{var l=[].concat(n.getPartClasses("sub-root"),n.getPartClasses("sub-root-collapsed"));s.className=l.join(" ")}var d=+v(r).attr("data-level"),c=i(this,a,d,!1);r.className=c;var h=p.g(n.getId("indicator-"+e)),f=[].concat(n.getPartClasses("node-indicator"),n.getPartClasses("node-indicator-level-"+d),n.getPartClasses("node-indicator-current"),n.getPartClasses("node-indicator-collapsed"));h.className=f.join(" "),h.innerHTML=x.collapsed}},toggleNode:function(e,t,i){if(this.nodeIndex[e]){var n=p.g(this.helper.getId("node-"+e));if(n)if(!s(this,n))if(o(this,n))this.collapseNode(e,i);else this.expandNode(e,t)}},triggerToggleStrategy:function(e){var t=this.nodeIndex[e];if(t){var i=p.g(this.helper.getId("node-"+e));if(i)if(!s(this,i))if(o(this,i))this.fire("collapse",{node:t});else this.fire("expand",{node:t})}},indicateNodeLoading:function(e){var t=this.helper,i=p.g(t.getId("node-"+e));if(i){for(var n=v(i).children(),r=0;!t.isPart(n[r],"item-content");)r++;var a=n[r];a.innerHTML=x.busy;var s=[].concat(t.getPartClasses("node-indicator"),t.getPartClasses("node-indicator-level-"+r),t.getPartClasses("node-indicator-current"),t.getPartClasses("node-indicator-busy"));a.className=s.join(" ")}},dispose:function(){this.$super(arguments),this.nodeIndex=null,this.selectedNodes=null,this.selectedNodeIndex=null}});return h.register(b),b}),define("ub-ria-ui/selectors/TreeRichSelector",["require","esui/Tree","esui","eoo","underscore","esui/lib","./RichSelector","./SelectorTreeStrategy","esui/painters","jquery"],function(require){function e(e,i,n){var r=e.getQueryList().getChild("tree"),a=e.indexData,s=a[i];if(s){if(!e.multi&&n)t(e),e.currentSeletedId=i;if(e.setItemState(i,"isSelected",n),n)r.selectNode(i,!0);else r.unselectNode(i,!0)}}function t(e){var t=e.currentSeletedId,i=e.getQueryList().getChild("tree");i.unselectNode(t),e.currentSeletedId=null}function i(e,t,i){if(e.needSyncParentChild)r(e,t,i),n(e,t,i)}function n(t,i,r){var a=t.indexData,s=i.node,o=s.children||[];f.each(o,function(i){e(t,i.id,r),n(t,a[i.id],r)})}function r(t,i){var n=t.indexData,a=i.parentId,s=n[a];if(s){var o=s.node.children||[],l=!f.find(o,function(e){return!t.getItemState(e.id,"isSelected")});e(t,a,l),r(t,s,l)}}function a(e,t){var i,n=e.indexData,r=n[t],s=r.parentId,o=n[s];if(!o)i=e.allData;else i=o.node;var l=i.children||[],d=f.without(l,r.node);if(0===d.length&&s!==u(e))a(e,s);else i.children=d,e.setProperties({datasource:e.allData})}function s(e,t){var i=e.children;return f.filter(i,function(e){return this.getItemState(e.id,"isSelected")},t)}function o(e,t){var i=[],n=t.children;return f.each(n,function(t){var n;if(-1!==t.text.indexOf(e))n=f.clone(t);if(t.children&&t.children.length){var r=o(e,t);if(r.length>0){if(!n)n=f.clone(t);n.children=r}}if(n)i.push(n)}),i}function l(e){return!e.children}function d(e,t,i){var n=1;if(i){if(l(t))if(!t.id||t.id===u(e))return 0;else return 1;n=0}else if(t.id===u(e))n=0;return n+=f.reduce(t.children,function(t,n){return t+d(e,n,i)},0)}function u(e){return e.datasource.id}require("esui/Tree");var c=require("esui"),h=require("eoo"),f=require("underscore"),p=require("esui/lib"),m=require("./RichSelector"),g=require("./SelectorTreeStrategy"),v=require("esui/painters"),y=require("jquery"),_=h.create(m,{type:"TreeRichSelector",styleType:"RichSelector",initOptions:function(e){var t={datasource:null,orientExpand:!1,wideToggleArea:!1,onlyLeafSelect:!0,hideRoot:!0,needSyncParentChild:!0,treeVariants:"icon angle hoverable"};f.extend(t,e),this.$super([t])},initStructure:function(){if(this.$super(arguments),y(this.main).addClass(this.helper.getPrefixClass("treerichselector")),this.onlyLeafSelect)this.addState("only-leaf-selectable")},repaint:v.createRepaint(m.prototype.repaint,{name:"datasource",paint:function(e){e.refresh()}},{name:"selectedData",paint:function(e,t){if(null!=t){var i=e.allData;if(i&&i.children){var n=e.getSelectedItems();e.selectItems(n,!1),e.selectItems(t,!0),e.fire("add"),e.fire("change")}}}}),adaptData:function(){var e=[];this.allData=p.deepClone(this.datasource);var t={};if(this.allData&&this.allData.children)this.walkTree(this.allData,this.allData.children,function(i,n){if(t[n.id]={parentId:i.id,node:n,isSelected:!1},n.hasOwnProperty("isSelected"))t[n.id].isSelected=n.isSelected;if(t[n.id].isSelected===!0)e.push(n)});return this.indexData=t,{indexData:t,selectedData:e}},processDataAfterRefresh:function(e){if("delete"!==this.mode)this.selectItems(e.selectedData,!0)},refreshContent:function(){var e=this.isQuery()?this.queriedData:this.allData;if(!e||!e.children||!e.children.length)this.addState("empty");else this.removeState("empty");if(e&&e.children){var t=this.getQueryList(),i=t.getChild("tree");if(!i){var n={childName:"tree",datasource:e,allowUnselectNode:this.allowUnselectNode,strategy:new g({mode:this.mode,onlyLeafSelect:this.onlyLeafSelect,orientExpand:this.orientExpand}),wideToggleArea:this.wideToggleArea,hideRoot:this.hideRoot,selectMode:this.multi?"multiple":"single",variants:this.treeVariants};if(this.getItemHTML)n.getItemHTML=this.getItemHTML;if(this.itemTemplate)n.itemTemplate=this.itemTemplate;i=c.create("Tree",n),t.addChild(i),i.appendTo(t.main);var r=this;i.on("selectnode",function(e,t){var i=t.node;r.handlerAfterClickNode(i)}),i.on("unselectnode",function(e,t){r.handlerAfterClickNode(t.node)})}else i.setProperties({datasource:p.deepClone(e),keyword:this.getKeyword()})}},getStateNode:function(e){return this.indexData[e]},getItemState:function(e,t){if(this.indexData[e]){var i=this.getStateNode(e);return i[t]}return null},setItemState:function(e,t,i){if(this.indexData[e]){var n=this.getStateNode(e);n[t]=i}},getDatasourceWithState:function(){var e=p.deepClone(this.datasource),t=this.indexData;return this.walkTree(e,e.children,function(e,i){i.isSelected=t[i.id].isSelected}),e},handlerAfterClickNode:function(e){var t=this.indexData[e.id];if(t)if("add"===this.mode)this.actionForAdd(t);else if("delete"===this.mode)this.actionForDelete(t);else if("load"===this.mode)this.actionForLoad(t)},actionForAdd:function(e){var t=this.getStateNode(e.node.id),n=!0;if(t.isSelected&&this.allowUnselectNode)n=!1;if(this.setItemState(e.node.id,"isSelected",n),!this.multi){if(this.currentSeletedId)this.setItemState(this.currentSeletedId,"isSelected",!n);if(n)this.currentSeletedId=e.node.id}else i(this,e,n);this.fire("add",{item:e.node}),this.fire("change")},selectAll:function(){var t=this.isQuery()?this.queriedData:this.allData,i=t.children,n=this;this.walkTree(t,i,function(t,i){e(n,i.id,!0)}),this.fire("add"),this.fire("change")},selectItems:function(t,n){var r=this.indexData;if(r){var a=this;f.each(t,function(t){var s=void 0!==t.id?t.id:t,o=r[s];if(null!=o&&void 0!==o)e(a,s,n),i(a,o,n)})}},actionForDelete:function(e){var t=this.fire("delete",{items:[e.node]});if(!t.isDefaultPrevented())a(this,e.node.id),this.fire("change")},deleteAll:function(){var e=this.fire("delete",{items:this.getSelectedItems()});if(!e.isDefaultPrevented())this.set("datasource",null),this.fire("change")},actionForLoad:function(e){if(this.setItemState(e.node.id,"isActive",!0),this.currentActiveId)if(this.setItemState(this.currentActiveId,"isActive",!1),!this.getStateNode(this.currentActiveId).isSelected){var t=this.getQueryList().getChild("tree");t.unselectNode(this.currentActiveId,!0)}this.currentActiveId=e.node.id,this.fire("load",{item:e.node}),this.fire("change")},getLeafItems:function(e,t){e=e||this.allData&&this.allData.children||[];var i=[],n=this;return f.each(e,function(e){if(l(e)){var r=t===this.getItemState(e.id,"isSelected");if("delete"===n.mode||r)i.push(e)}else i=f.union(i,n.getLeafItems(e.children,t))},this),i},getSelectedItems:function(){if(!this.allData)return[];var e=[],t=this;return this.walkTree(this.allData,this.allData.children,function(i,n){if("delete"===t.mode||t.getStateNode(n.id).isSelected)e.push(n)}),e},getSelectedTree:function(){var e=this,t=p.deepClone(this.allData);return this.walkTree(t,t.children,function(t,i){var n=s(i,e);if(n.length)i.children=n;else i.children=null}),t.children=f.filter(t.children,function(t){return t.children||e.indexData[t.id].isSelected}),t},getSelectedItemsFullStructure:function(){return this.getSelectedTree()},clearQuery:function(){if(this.$super(arguments),"delete"!==this.mode){var e=this.getSelectedItems();this.selectItems(e,!0)}return!1},clearData:function(){this.queriedData={}},queryItem:function(e){var t=e[0].value,i=[];i=o(t,this.allData),this.queriedData={id:u(this),text:"符合条件的结果",children:i},this.addState("queried"),this.refreshContent();var n=this.getSelectedItems();if("delete"!==this.mode)this.selectItems(n,!0)},walkTree:function(e,t,i){f.each(t,function(t){i(e,t),this.walkTree(t,t.children,i)},this)},getFilteredItemsCount:function(){var e=this.isQuery()?this.queriedData:this.allData,t=d(this,e,!0);return t},getCurrentStateItemsCount:function(){var e=this.isQuery()?this.queriedData:this.allData;if(!e)return 0;var t=d(this,e,!0);return t}});return c.register(_),_}),define("ub-ria-ui/Slider",["require","esui/Panel","esui/TextBox","esui/Select","esui","underscore","esui/lib","esui/InputControl","eoo","esui/painters","esui/behavior/Mouse","jquery"],function(require){function e(e){var t=e.value;if(delete e.value,null!=t&&null==e.rawValue)e.rawValue=this.parseValue(t,e);if(e.min="undefined"!=typeof e.min?e.min:this.min,e.max="undefined"!=typeof e.max?e.max:this.max,e.range||this.range)e.rawValue="undefined"==typeof e.rawValue?[e.min,e.max]:e.rawValue,e.minRangeValue=e.rawValue[0],e.maxRangeValue=e.rawValue[1],e.minRangeValue=Math.max(e.minRangeValue,e.min),e.maxRangeValue=Math.min(e.maxRangeValue,e.max),e.rawValue=[e.minRangeValue,e.maxRangeValue];else e.rawValue="undefined"==typeof e.rawValue?e.min:e.rawValue,e.rawValue=Math.max(e.rawValue,e.min),e.rawValue=Math.min(e.rawValue,e.max);
return e}function t(){var e=this.helper.getPart("body");if(e)g(e).mouse({start:c.bind(d,this),drag:c.bind(a,this),stop:c.bind(s,this)}),this.helper.addDOMEvent(e,"click",d)}function i(e){var t=this.widthHeight,i=this[t],n=e,r=n/i*(this.end-this.start);r-=r%this.step;var a=this.start+Math.round(r);return a}function n(e){var t=this.widthHeight,i=this[t],n=this.start,r=this.end,a=(e-n)/(r-n)*i;return a}function r(e,t){var i,r=e.cursorElement,a=e.leftTop,s=e.widthHeight;if(e.range){var o=e.cursorElementTwo,l=n.call(e,t[1]);if(o.style[a]=l+"px",i=n.call(e,t[0]),t[0]===t[1]&&t[0]===e.max)r.style.zIndex=3,o.style.zIndex=2;else r.style.zIndex=2,o.style.zIndex=3}else i=n.call(e,t);if(r.style[a]=i+"px",e.isShowSelectedBG)if(e.range)e.bodySelectedElement.style[a]=i+"px",e.bodySelectedElement.style[s]=l-i+"px";else e.bodySelectedElement.style[s]=i+"px"}function a(e,t,r){if(!c.isBoolean(t))r=t,t=!1;var a,s=this.activeCursorElement,o=this.cursorElement,l=this.pageXY,d=this.leftTop,u=this.widthHeight;if(this.range){var h,f,p=!1;if(s.id===o.id)h=n.call(this,this.maxRangeValue),f=this.maxRangeValue,p=!0,a=Math.max(this.minStartPos-this.startPos,e[l]-this.startPos),a=Math.min(a,h);else h=n.call(this,this.minRangeValue),f=this.minRangeValue,a=Math.max(h,e[l]-this.startPos),a=Math.min(a,this.maxEndPos-this.startPos)}else s=o,a=Math.max(this.minStartPos-this.startPos,e[l]-this.startPos),a=Math.min(a,this.maxEndPos-this.startPos);var m,g=i.call(this,a);if(this.range)if(p)m=[g,f];else m=[f,g];else m=g;if(!t){if(a=n.call(this,g),s.style[this.leftTop]=a+"px",this.isShowSelectedBG)if(this.range){var v;if(p)this.bodySelectedElement.style[d]=a+"px",v=h-a;else this.bodySelectedElement.style[d]=h+"px",v=a-h;this.bodySelectedElement.style[u]=v+"px"}else this.bodySelectedElement.style[u]=a+"px";this.fire("move",m)}return m}function s(e){g(this.activeCursorElement).removeClass(this.helper.getPartClassName("body-cursor-active"));var t=a.call(this,e,!0);this.rawValue=t,this.minRangeValue=t[0],this.maxRangeValue=t[1],r(this,t,!0),this.fire("change",t)}function o(e){var t=e.bodyElement,i=h.getOffset(t),r=e.leftTop,a=e.rightBottom,s=e.widthHeight;if(e[s]=i[s],"undefined"!=typeof e.min){var o=n.call(e,e.min);e.minStartPos=i[r]+o,e.startPos=i[r]}if("undefined"!=typeof e.max){var l=n.call(e,e.max);e.maxEndPos=i[r]+l,e.endPos=i[a]}}function l(e){var t=this.pageXY,i=this.leftTop,r=this.helper.getPart("body"),a=h.getOffset(r),s=e[t]-a[i];if(this.range){var o=n.call(this,this.minRangeValue),l=n.call(this,this.maxRangeValue),d=o+(l-o)/2;if(s>d&&this.cursorElementTwo)return this.cursorElementTwo}return this.cursorElement}function d(e){if(this.disabled===!0)return!1;var t=l.call(this,e);return this.activeCursorElement=t,g(t).addClass(this.helper.getPartClassName("body-cursor-active")),o(this),a.call(this,e),!0}require("esui/Panel"),require("esui/TextBox"),require("esui/Select");var u=require("esui"),c=require("underscore"),h=require("esui/lib"),f=require("esui/InputControl"),p=require("eoo"),m=require("esui/painters");require("esui/behavior/Mouse");var g=require("jquery"),v=p.create(f,{type:"Slider",initOptions:function(t){var i={orientation:"",start:0,end:10,step:1,min:null,max:null,isShowSelectedBG:!0,range:!1},n={};if(c.extend(n,i,t),n.min=n.min||n.start,n.max=n.max||n.end,n.min=Math.max(n.min,n.start),n.max=Math.min(n.max,n.end),"vertical"===n.orientation)n.leftTop="top",n.rightBottom="bottom",n.widthHeight="height",n.pageXY="pageY";else n.leftTop="left",n.rightBottom="right",n.widthHeight="width",n.pageXY="pageX";n=e.call(this,n),this.$super([n])},parseValue:function(e,t){if(t&&t.range||this.range)if("string"==typeof e){var i=e.split(",");return[+i[0],+i[1]]}return e},setProperties:function(t){if(t.hasOwnProperty("rawValue"))t=e.call(this,t);this.$super([t])},createBody:function(){var e=this.bodyElement=this.helper.createPart("body"),t=this.cursorElement=this.helper.createPart("body-cursor");if(e.appendChild(t),this.range){var i=this.cursorElementTwo=this.helper.createPart("body-cursortwo");g(this.cursorElementTwo).addClass(this.helper.getPartClassName("body-cursor")),e.appendChild(i)}if(this.isShowSelectedBG){var n=this.bodySelectedElement=this.helper.createPart("body-selected");e.appendChild(n)}this.main.appendChild(e),o(this)},initStructure:function(){if("vertical"===this.orientation)g(this.main).addClass(this.helper.getPartClassName("vertical"));/\d+/.test(this.size)&&(this.main.style[this.widthHeight]=this.size+"px"),this.createBody()},initEvents:function(){t.call(this)},getValue:function(){var e;if(this.range)e=[this.minRangeValue,this.maxRangeValue];else e=this.getRawValue();return e},repaint:m.createRepaint(f.prototype.repaint,{name:"rawValue",paint:function(e,t){r(e,t,!0)}}),dispose:function(){if(this.bodyElement=null,this.cursorElement=null,this.bodySelectedElement=null,this.activeCursorElement=null,this.range)this.cursorElementTwo=null;this.$super(arguments)}});return u.register(v),v}),define("esui/behavior/mousewheel",["require","jquery"],function(require){function e(e){return Math[e>=1?"floor":"ceil"](e/i)}function t(t){var r=t||window.event;t=n.event.fix(r),t.type="mousewheel";var a=0,s=0;if("detail"in r)a=-1*r.detail;if("wheelDelta"in r)a=r.wheelDelta;if("wheelDeltaY"in r)a=r.wheelDeltaY;if("wheelDeltaX"in r)s=-1*r.wheelDeltaX;var o=0===a?s:a;if("deltaY"in r)a=-1*r.deltaY,o=a;if("deltaX"in r)if(s=r.deltaX,0===a)o=-1*s;if(0!==a||0!==s){if(1===r.deltaMode){var l=n.data(this,"mousewheel-line-height");o*=l,a*=l,s*=l}else if(2===r.deltaMode){var d=n.data(this,"mousewheel-page-height");o*=d,a*=d,s*=d}var u=Math.max(Math.abs(a),Math.abs(s));if(!i||i>u)i=u;o=e(o),s=e(s),a=e(a),t.deltaX=s,t.deltaY=a,t.deltaFactor=i,t.deltaMode=0;var c=Array.prototype.slice.call(arguments,1);return c.unshift(t,o,s,a),(n.event.dispatch||n.event.handle).apply(this,c)}}var i,n=require("jquery"),r=["wheel","mousewheel"];if(n.event.fixHooks)for(var a=r.length;a;)n.event.fixHooks[r[--a]]=n.event.mouseHooks;var s=n.event.special.mousewheel={setup:function(){if(this.addEventListener)this.addEventListener("wheel",t,!1);else if(this.attachEvent)this.attachEvent("mousewheel",t);else this.onmousewheel=t;n.data(this,"mousewheel-line-height",s.getLineHeight(this)),n.data(this,"mousewheel-page-height",s.getPageHeight(this))},teardown:function(){if(this.removeEventListener)this.removeEventListener("wheel",t,!1);else if(this.detachEvent)this.detachEvent("mousewheel",t);else this.onmousewheel=null;n.removeData(this,"mousewheel-line-height"),n.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var t=n(e),i=t.offsetParent();return parseInt(i.css("fontSize"),10)||parseInt(t.css("fontSize"),10)||16},getPageHeight:function(e){return n(e).height()}};n.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),define("ub-ria-ui/Spinner",["require","eoo","esui/InputControl","esui/lib","underscore","moment","esui","esui/painters","jquery","esui/behavior/mousewheel"],function(require){function e(e){if(e)e=parseFloat(e);return isNaN(e)?"":e}function t(t){var i=this.getInput(),n="object"==typeof this.scale?this.scale:e(this.scale),r=this.format,a=p(i.value,r),s=this.max,o=this.min;if(a=a.isValid()?a:o,t===_.UP)if(a=a.add(n.value,n.key),p.max(a,s)===s)a=p(a,r).format(r);else if(this.turn&&"false"!==this.turn)a=p(o,r).format(r);else a=p(s,r).format(r);else if(a=a.subtract(n.value,n.key),p.min(a,o)===o)a=p(a,r).format(r);else if(this.turn&&"false"!==this.turn)a=p(s,r).format(r);else a=p(o,r).format(r);d.call(this,a)}function i(t){var i=this.getInput(),n=e(this.scale),r=e(i.value),a=this.max,s=this.min;if(t===_.UP){if(r+=n,r>a)if(this.turn&&"false"!==this.turn)r=s;else r=a}else if(r-=n,s>r)if(this.turn&&"false"!==this.turn)r=a;else r=s;d.call(this,r)}function n(e){if("number"!==this.format)t.call(this,e);else i.call(this,e)}function r(e){if(!this.disabled&&!this.readOnly){var t=e.target.id===this.helper.getId("up")?_.UP:_.DOWN,i={direct:t},r=this.fire("scrollValue",i);if(!r.isDefaultPrevented())n.call(this,t)}}function a(t){var i=this;this.timer=setInterval(function(){return r.call(i,t)},+e(this.timeInterval)),this.longTimer=setTimeout(function(){clearInterval(i.timer),i.timer=setInterval(function(){return r.call(i,t)},e(this.timeInterval)/2)},3e3)}function s(e,t){t=1===t?_.UP:_.DOWN,n.call(this,t),e.preventDefault()}function o(e){var t=1200-this.timeInterval;r.call(this,e);var i=this;this.timer=setTimeout(function(){return a.call(i,e)},t),e.preventDefault()}function l(){clearInterval(this.timer),clearTimeout(this.timer),clearTimeout(this.longTimer),this.timer=0,this.longTimer=0}function d(e){if(this.precision)e=e.toFixed(this.precision);var t=this.getInput();t.value=e}var u=require("eoo"),c=require("esui/InputControl"),h=require("esui/lib"),f=require("underscore"),p=require("moment"),m=require("esui"),g=require("esui/painters"),v=require("jquery");require("esui/behavior/mousewheel");var y=u.create(c,{type:"Spinner",constructor:function(){this.$super(arguments),this.timer=0,this.longTimer=0},initOptions:function(t){var i={};f.extend(i,y.defaultProperties,t);var n=i.format,r=i.max,a=i.min;if("number"===n)r="indefinite"===r?Number.MAX_VALUE:e(r),a="indefinite"===a?-Number.MAX_VALUE:e(a);else r="indefinite"===r?p().add(50,"years"):p(r,n),a="indefinite"===a?p().subtract(50,"years"):p(a,n);i.max=r,i.min=a;var s=i.scale;if("number"===n){s+="";var o=s.indexOf(".");if(o>-1)i.precision=s.length-o-1;else i.precision=0}if("number"!==n&&/^\s*\{/.test(s))i.scale=v.parseJSON(s);this.setProperties(i)},initStructure:function(){var e=this.helper,t=['<input id="${inputId}" type="text" />','<span id="${upId}" class="${upClass} ${iconClass}"></span>','<span id=${downId} class="${downClass} ${iconClass}"></span>'].join(""),i=this.main;i.innerHTML=h.format(t,{inputId:e.getId("input"),upId:e.getId("up"),upClass:e.getPartClasses("up"),downId:e.getId("down"),downClass:e.getPartClasses("down"),iconClass:e.getIconClass()}),v(i).addClass(e.getPrefixClass("textbox"))},initEvents:function(){var e=this.helper,t=e.getPart("up"),i=e.getPart("down");e.addDOMEvent(t,"mousedown",o),e.addDOMEvent(i,"mousedown",o),e.addDOMEvent(t,"mouseup",l),e.addDOMEvent(i,"mouseup",l),e.addDOMEvent(t,"mouseout",l),e.addDOMEvent(i,"mouseout",l);var n=this.getInput();e.addDOMEvent(n,"focus",function(){e.addDOMEvent(this.main,"mousewheel",s)}),e.addDOMEvent(n,"blur",function(){e.removeDOMEvent(this.main,"mousewheel",s)})},repaint:g.createRepaint(c.prototype.repaint,{name:["rawValue"],paint:function(t,i){var n=t.max,r=t.min,a=t.format;if("number"===t.format)i=e(i),i=Math.max(i,r),i=Math.min(i,n);else{if(i=p(i,a),i.isValid())i=p.max(i,r),i=p.min(i,n);else i=r;i=p(i,a).format(a)}d.call(t,i)}},{name:["width"],paint:function(e,t){t=parseInt(t,10),e.main.style.width=t+"px"}},{name:["disabled","readOnly"],paint:function(e,t,i){var n=e.getInput();n.disabled=t,n.readOnly=i}}),getInput:function(){return h.g(this.helper.getId("input"))},getValue:function(){var e=this.getInput();return e.value},setValue:function(e){d.call(this,e)}}),_={UP:"up",DOWN:"down"};return y.defaultProperties={turn:!0,scale:1,width:200,height:30,max:"indefinite",min:"indefinite",format:"number",timeInterval:100},m.register(y),y}),define("ub-ria-ui/Sticky",["require","underscore","esui","esui/lib","esui/Control","eoo","jquery"],function(require){function e(){return d(document).height()}function t(t){if(t.disabled)return!1;var i=d(window).scrollTop(),n=e()-d(window).height,r=i>n?n-i:0,a=t.initialTop-t.top-r;return i>=a}function i(e){e.currentTop=null,d(e.main).css({position:"",top:"",width:"",margin:"0px",left:""})}function n(){var n=d(document).scrollTop();if(u.length&&!(0>n))for(var r=e()-d(window).height(),a=n>r?r-n:0,o=0;o<u.length;o++){var l=u[o],c=l.main;if(c.offsetWidth&&c.offsetHeight)if(!t(l)){if(!isNaN(l.currentTop))i(l)}else{var h=0;if(l.top>=0){var f=c.offsetHeight;h=e()-f-l.top-n-a,h=0>h?h+l.top:l.top}if(l.currentTop!==h){var p=l.getWidthFrom?s.g(l.getWidthFrom).offsetWidth:c.offsetWidth;d(c).css({width:p+"px",position:"fixed",top:parseInt(h,10)+"px",left:d(c).offset().left+"px"}),l.currentTop=h}}else;}}var r=require("underscore"),a=require("esui"),s=require("esui/lib"),o=require("esui/Control"),l=require("eoo"),d=require("jquery"),u=[],c=l.create(o,{type:"Sticky",initOptions:function(e){var t={top:0};r.extend(t,e),this.setProperties(t)},initStructure:function(){var e=this.main,t="absolute"!==d(e).css("position")?e.offsetHeight:"",i=d(e).css("float");i="none"===i?"":i;var n=d("<div></div>").css({height:t+"px","float":i,margin:d(e).css("margin")}).addClass(this.helper.getPartClassName("placeholder"));d(e).wrap(n),this.initialTop=d(e).offset().top},initEvents:function(){if(0===u.length)this.helper.addDOMEvent(window,"scroll",n);u.push(this)},dispose:function(){if(i(this),u=r.without(u,this),0===u.length)this.helper.addDOMEvent(window,"scroll",n);d(this.main).unwrap(),this.$super(arguments)}});return a.register(c),c}),define("ub-ria-ui/TokenField",["require","esui","jquery","underscore","esui/lib","esui/InputControl","eoo","esui/painters","esui/TextBox"],function(require){function e(e){var t=this;setTimeout(function(){t.helper.addPartClasses("flash",e)},0),setTimeout(function(){t.helper.removePartClasses("flash",e)},300)}function t(e){var t={};if(a.each(this.data,function(i,n){if(i.value===e)return t.dataId=n,t.token=i,!1;else return void 0}),t.dataId)t.tokenElement=r(this.main).find("div[data-id="+t.dataId+"]")[0];return t}function i(){var i=this.getInput(),n=i.getRawValue();if(!(n.length<this.minLength)){if(!this.repeat){var r=t.call(this,n);if(r.token)return e.call(this,r.tokenElement),void(a.isFunction(this.repeatCallback)&&this.repeatCallback(r))}var s=this.getRawValue();if(this.setTokens(n,!0),s!==this.getRawValue()||!n.length)i.setRawValue("")}}var n=require("esui"),r=require("jquery"),a=require("underscore"),s=require("esui/lib"),o=require("esui/InputControl"),l=require("eoo"),d=require("esui/painters");require("esui/TextBox");var u=l.create(o,{constructor:function(){this.$super(arguments),this.data={}},type:"TokenField",initOptions:function(e){var t={width:300,inputWidth:90,minLength:0,limit:0,delimiter:",",tokens:"",repeat:!1};a.extend(t,e),t.name=t.name||this.main.getAttribute("name"),this.setProperties(t)},initStructure:function(){if("input"===this.main.nodeName.toLowerCase())this.helper.replaceMain(),this.main.id=this.helper.getId();var e=['<input type="text" name="${inputName}" autocomplete="off"',' class="${inputClasses}"',' data-ui-type="TextBox"',' data-ui-width="${width}"',' data-ui-id="${inputId}" />'].join("");this.main.innerHTML=s.format(e,{inputName:this.name,inputId:this.helper.getId("input"),inputClasses:this.helper.getPartClasses("input"),width:this.inputWidth}),this.initChildren(this.main),this.setTokens(this.tokens,!1)},initEvents:function(){var e=this.helper;e.addDOMEvent(this.main,"click",this.focusInput);var t=this.helper.getPartClassName("item");e.addDOMEvent(this.main,"click","."+t,this.remove);var i=this.getInput(),n=i.getFocusTarget();i.on("focus",a.bind(this.focus,this)),i.on("blur",a.bind(this.blur,this)),i.on("enter",a.bind(this.enter,this)),e.addDOMEvent(n,"keydown",this.keydown),e.addDOMEvent(n,"keyup",this.keyup)},getInput:function(){var e=this.helper.getId("input");return this.viewContext.get(e)},createToken:function(e){if("string"==typeof e)e={value:e,label:e};else e=a.extend({},e);if(e.value=s.trim(e.value),e.label=s.trim(e.label)||e.value,e.value&&e.label&&!(e.label.length<=this.minLength))if(!(this.limit&&this.getTokens().length>=this.limit)){this.fire("beforecreate",{token:e});var t=r("<div></div>");t.addClass(this.helper.getPartClassName("item")),t.html(this.helper.getPartHTML("label","span")+this.helper.getPartHTML("close","span"));var i=s.getGUID();t.attr("data-id",i),this.data[i]=e;var n=this.getInput(),o=n.main,l=t.children(":first-child");l.html(e.label);var d=t.children(":last-child");d.addClass(this.helper.getIconClass()),t.insertBefore(o),this.fire("aftercreate",{token:e})}},focusInput:function(){var e=this.getInput();e.getFocusTarget().focus()},focus:function(){this.focused=!0,this.helper.addStateClasses("focus")},blur:function(){this.focused=!1,this.helper.removeStateClasses("focus")},keydown:function(e){var t=this.getInput();switch(e.keyCode){case 8:if(t.getFocusTarget()===document.activeElement)this.lastInputValue=t.getRawValue()}},keyup:function(e){if(this.focused){var t=this.getInput(),i=t.getRawValue();switch(e.keyCode){case 8:case 46:if(t.getFocusTarget()===document.activeElement){if(i.length||this.lastInputValue)break;this.remove()}}}},enter:function(e){var t=e.target,n=t.getRawValue();if(t.getFocusTarget()===document.activeElement&&n.length)i.call(this)},remove:function(e){var t=this,i=e&&e.currentTarget;if(!i)i=r(t.getInput().main).prev();var n=r(i);if(n.size()>0){var a=r(i).attr("data-id");n.remove(),delete t.data[a]}},setTokens:function(e,t){if(e){var i=this.helper.getPartClassName("item"),n=this;if(!t)r(this.main).children().each(function(e,t){var a=r(t);if(a.hasClass(i)){var s=a.attr("data-id");delete n.data[s],a.remove()}});if("string"==typeof e)e=e.split(this.delimiter);a.each(e,function(e){n.createToken(e)})}},getTokens:function(){var e=[],t=this;return r(this.main).children().each(function(i,n){var a=r(n),s=a.attr("data-id");if(s){var o=t.data[s];if(o)e.push(o)}}),e},getRawValue:function(){var e=this.delimiter;return a.map(this.getTokens(),function(e){return e.value}).join(e)},repaint:d.createRepaint(o.prototype.repaint,d.style("width"),{name:["disabled","readOnly"],paint:function(e,t,i){var n=e.getInput();n.setProperties({disabled:t,readOnly:i})}})});return n.register(u),u}),define("esui/behavior/Selectable",["require","./Mouse","jquery","underscore","eoo","./bridge"],function(require){var e=require("./Mouse"),t=require("jquery"),i=require("underscore"),n=require("eoo"),r=n.create(e,{type:"selectable",constructor:function(e){e=i.extend({appendTo:"body",autoRefresh:!0,filter:"*",tolerance:"touch",selected:null,unselected:null,selecting:null,unselecting:null,distance:0},e),this.$super(arguments)},init:function(){this.$super(arguments);var e=this;this.addClass();var i;this.refresh=function(){i=t(e.options.filter,e.element[0]),this.addClass(i,"selectee"),i.each(function(){var i=t(this),n=i.offset();t.data(this,"selectable-item",{element:this,$element:i,left:n.left,top:n.top,right:n.left+i.outerWidth(),bottom:n.top+i.outerHeight(),startselected:!1,selected:e.hasClass("selected"),selecting:e.hasClass("selecting"),unselecting:e.hasClass("unselecting")})})},this.refresh(),this.selectees=i;var n=this.getClassName("helper");this.helper=t('<div class="'+n+'"></div>')},mouseStart:function(e){var i=this,n=this.options;if(this.mousePosition=[e.pageX,e.pageY],!this.options.disabled){if(this.selectees=t(n.filter,this.element[0]),this.$super(arguments),t(n.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),n.autoRefresh)this.refresh();var r=this.getClassName(!0,"selected");return this.selectees.filter(r).each(function(){var n=t.data(this,"selectable-item"),r=n.$element;if(n.startselected=!0,!e.metaKey&&!e.ctrlKey)i.removeClass(r,"selected"),i.addClass(r,"unselecting"),n.selected=!1,n.unselecting=!0,i.trigger("unselecting",e,{unselecting:n.element})}),t(e.target).parents().addBack().each(function(){var n=t.data(this,"selectable-item");if(n){var r=n.$element,a=!e.metaKey&&!e.ctrlKey||!i.hasClass(r,"selected");if(i.removeClass(r,a?"unselecting":"selected"),i.addClass(r,a?"selecting":"unselecting"),n.unselecting=!a,n.selecting=a,n.selected=a,a)i.trigger("selecting",e,{selecting:n.element});else i.trigger("unselecting",e,{unselecting:n.element});return!1}}),!0}},mouseDrag:function(e){if(!this.options.disabled){var i=this.mousePosition[0],n=e.pageX,r=Math.min(i,n),a=Math.max(i,n),s=this.mousePosition[1],o=e.pageY,l=Math.min(s,o),d=Math.max(s,o);this.helper.css({left:r,top:l,width:a-r,height:d-l});var u=this,c=this.options;return this.selectees.each(function(){var i=t.data(this,"selectable-item"),n=i.$element,s=!1;if(i&&i.element!==u.element[0]){if("touch"===c.tolerance)s=!(i.left>a||i.right<r||i.top>d||i.bottom<l);else if("fit"===c.tolerance)s=i.left>r&&i.right<a&&i.top>l&&i.bottom<d;if(s){if(i.selected)u.removeClass(n,"selected"),i.selected=!1;if(i.unselecting)u.removeClass(n,"unselecting"),i.unselecting=!1;if(!i.selecting)u.addClass(n,"selecting"),i.selecting=!0,u.trigger("selecting",e,{selecting:i.element})}else{if(i.selecting)if((e.metaKey||e.ctrlKey)&&i.startselected)u.removeClass(n,"selecting"),i.selecting=!1,u.addClass(n,"selected"),i.selected=!0;else{if(u.removeClass(n,"selecting"),i.selecting=!1,i.startselected)u.addClass(n,"unselecting"),i.unselecting=!0;u.trigger("unselecting",e,{unselecting:i.element})}if(i.selected)if(!e.metaKey&&!e.ctrlKey&&!i.startselected)u.removeClass(n,"selected"),i.selected=!1,u.addClass(n,"unselecting"),i.unselecting=!0,u.trigger("unselecting",e,{unselecting:i.element})}}}),!1}},mouseStop:function(e){var i=this;return t(this.getClassName(!0,"unselecting"),this.element[0]).each(function(){var n=t.data(this,"selectable-item");i.removeClass(n.$element,"unselecting"),n.unselecting=!1,n.startselected=!1,i.trigger("unselected",e,{unselected:n.element})}),t(this.getClassName(!0,"selecting"),this.element[0]).each(function(){var n=t.data(this,"selectable-item"),r=n.$element;i.removeClass(r,"selecting"),i.addClass(r,"selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i.trigger("selected",e,{selected:n.element})}),this.$super(arguments),this.helper.remove(),!1},dispose:function(){this.$super(arguments);var e=this;this.selectees.each(function(){var i=t.data(this,"selectable-item");e.removeClass(i,"selectee")}),this.removeClass("selectable, selectable-disabled"),this.selectees.removeData("selectable-item")}});return require("./bridge")("selectable",r),r}),define("esui/BoxGroup",["require","underscore","./lib","./InputControl","jquery","./painters","./main","eoo"],function(require){function e(e,t){for(var i=e.getElementsByTagName("input"),n=e.getElementsByTagName("label"),r={},s=n.length-1;s>=0;s--){var l=n[s],d=a.getAttribute(l,"for");if(d)r[d]=l}for(var u=[],c=[],h=0,f=i.length;f>h;h++){var p=i[h];if(p.type===t.boxType&&(t.name||"")===p.name){var m={value:p.value},g=p.id&&r[p.id];if(m.title=g?o(g).text():"",!m.title)m.title=p.title||("on"===p.value?p.value:"");if(u.push(m),a.hasAttribute(p,"checked"))c.push(p.value)}}if(t.datasource=u,!t.rawValue&&!t.value)t.rawValue=c}function t(e){var t=o(e.parentNode),i=this.helper.getPartClassName("wrapper-checked");if(e.checked)t.addClass(i);else t.removeClass(i)}function i(){r.each(this.getBoxElements(),t,this);var e=r.chain(this.getBoxElements()).where({checked:!0}).pluck("value").value();this.rawValue=e,this.fire("change")}function n(e,t,n){function s(t){var n=e.main.addEventListener?"change":"click";r.each(e.getBoxElements(),function(r){e.helper[t?"addDOMEvent":"removeDOMEvent"](r,n,i)})}s(!1);var o="",l=[].concat(e.helper.getPartClasses(n),e.helper.getPartClasses("wrapper")),d=[],u=e.boxClass;if(u)d.push(u);l=l.concat(d);for(var c=a.toDictionary(e.rawValue),f=e.name||a.getGUID(),p=0;p<t.length;p++){var m=t[p],g="";if(c[m.value])g+=" "+e.helper.getPartClassName("wrapper-checked");var v={wrapperClass:l.join(" ")+g,id:e.helper.getId("box-"+p),type:e.boxType,name:f,title:a.trim(m.title||m.name||m.text),value:m.value,checked:c[m.value]?' checked="checked"':""};o+=a.format(h,v)}e.main.innerHTML=o,s(!0)}var r=require("underscore"),a=require("./lib"),s=require("./InputControl"),o=require("jquery"),l=require("./painters"),d=require("./main"),u=require("eoo"),c=u.create(s,{type:"BoxGroup",initOptions:function(t){var i={datasource:[],orientation:"horizontal",boxType:"radio",boxClass:""};r.extend(i,t);var n=i.datasource;if(!n.length)e(this.main,i);if(!i.hasOwnProperty("rawValue")&&!i.hasOwnProperty("value"))if("radio"===i.boxType&&n.length)i.rawValue=[n[0].value];else i.rawValue=[];this.setProperties(i)},setProperties:function(e){if(!(!e.datasource&&!e.boxType||e.rawValue||e.value||this.rawValue&&this.rawValue.length))e.rawValue=[];var t=this.$super([e]);if(t.hasOwnProperty("rawValue"))this.fire("change")},repaint:l.createRepaint(s.prototype.repaint,{name:["datasource","boxType"],paint:n},{name:["disabled","readOnly"],paint:function(e,t,i){r.each(e.getBoxElements(),function(e){e.disabled=t,e.readOnly=i})}},{name:"rawValue",paint:function(e,i){i=i||[],e.rawValue=i;for(var n={},a=0;a<i.length;a++)n[i[a]]=!0;r.each(e.getBoxElements(),function(i){i.checked=n.hasOwnProperty(i.value),t.call(e,i)})}},{name:"orientation",paint:function(e,t){e.removeState("vertical"),e.removeState("horizontal"),e.addState(t)}}),parseValue:function(e){return e.split(",")},getBoxElements:function(){return this.main.getElementsByTagName("input")}}),h=['<div title="${title}" class="${wrapperClass}">','    <input type="${type}" name="${name}" id="${id}" title="${title}" value="${value}"${checked} />','    <label for="${id}">${title}</label>',"</div>"].join("");return d.register(c),c}),define("esui/Calendar",["require","./MonthView","underscore","moment","./lib","./main","./InputControl","./Layer","eoo","jquery","./painters"],function(require){function e(){var e=this.getChild("monthView"),i=e.getRawValue();if(i)this.rawValue=i,t(this),this.fire("change")}function t(e){var t=e.helper.getPart("text");t.innerHTML=i.escape(n(e.getRawValue()).format(e.displayFormat))}require("./MonthView");var i=require("underscore"),n=require("moment"),r=require("./lib"),a=require("./main"),s=require("./InputControl"),o=require("./Layer"),l=require("eoo"),d=require("jquery"),u=require("./painters"),c=l.create(o,{create:function(){var e=this.$super(arguments);return d(this.control.main).after(e),e},render:function(t){t.innerHTML='<div data-ui-type="MonthView" data-ui-child-name="monthView"></div>';var n=this.control;n.helper.initChildren(t);var r=n.getChild("monthView");if(r.setProperties({rawValue:n.rawValue,range:n.range}),r.on("change",i.bind(e,n)),n.autoHideLayer)r.on("itemclick",i.bind(n.layer.toggle,n.layer))},toggle:function(){var e=this.getElement();if(!e||!d(e).is(":visible")){var t=this.control,i=t.getChild("monthView");i.setProperties({rawValue:t.rawValue,range:t.range}),this.show()}else this.hide()}}),h=l.create(s,{constructor:function(){this.$super(arguments),this.layer=new c(this)},type:"Calendar",initOptions:function(e){var t=new Date,n={rawValue:t,autoHideLayer:!1};if(i.extend(n,h.defaultProperties,e),r.isInput(this.main))this.helper.extractOptionsFromInput(this.main,n);if(this.paramFormat=n.paramFormat,e.value)n.rawValue=this.parseValue(n.value);var a=n.range;if("string"==typeof a){var s=a.split(","),o=this.parseValue(s[0]),l=this.parseValue(s[1]);n.range={begin:o,end:l}}this.setProperties(n)},initStructure:function(){var e=this.helper;if(r.isInput(this.main))e.replaceMain();this.layer.autoCloseExcludeElements=[this.main];var t=['<div class="${classes}" id="${id}">${value}</div>','<div class="${arrow}"><span class="${iconCalendar}"></span></div>'];this.main.innerHTML=r.format(t.join(""),{classes:e.getPartClassName("text"),id:e.getId("text"),arrow:e.getPartClassName("arrow"),iconCalendar:e.getIconClass()})},initEvents:function(){this.helper.addDOMEvent(this.main,"click",i.bind(this.layer.toggle,this.layer))},repaint:u.createRepaint(s.prototype.repaint,{name:["rawValue","range"],paint:function(e,i,n){t(e);var r=e.getChild("monthView");if(r)r.setProperties({rawValue:i,range:n})}},{name:["disabled","hidden","readOnly"],paint:function(e,t,i,n){if(t||i||n)e.layer.hide()}}),setRange:function(e){this.setProperties({range:e})},stringifyValue:function(e){return n(e).format(this.dateFormat)||""},parseValue:function(e){var t=n(e,this.paramFormat).toDate();return t},dispose:function(){if(!this.helper.isInStage("DISPOSED"))if(this.$super(arguments),this.layer)this.layer.dispose(),this.layer=null}});return h.defaultProperties={range:{begin:new Date(1983,8,3),end:new Date(2046,10,4)},dateFormat:"YYYY-MM-DD",paramFormat:"YYYY-MM-DD",displayFormat:"YYYY-MM-DD"},a.register(h),h}),define("esui/CheckBox",["require","underscore","jquery","./lib","./InputControl","eoo","./painters","./main"],function(require){function e(){var e=n.g(this.boxId).checked;this.setProperties({checked:e})}var t=require("underscore"),i=require("jquery"),n=require("./lib"),r=require("./InputControl"),a=require("eoo"),s=require("./painters"),o=a.create(r,{type:"CheckBox",getCategory:function(){return"check"},initOptions:function(e){var i={value:this.main.value||"on",checked:this.main.checked||!1};t.extend(i,e),i.name=i.name||this.main.getAttribute("name");var n=i.datasource;if(delete i.datasource,this.setProperties(i),null!=n)if(t.isArray(n))this.checked=t.any(n,function(e){return e.value===this.value},this);else if(this.rawValue===n)this.checked=!0;if(!this.title)this.title=this.main.title||("on"===this.getValue()?"":this.getValue())},initStructure:function(){if(i(this.main).is("input")){var e=this.main.className;if(this.main.className="",this.boxId=this.main.id||this.helper.getId("box"),this.helper.replaceMain(),this.main.id=this.helper.getId(),e)i(this.main).addClass(e)}else this.boxId=this.helper.getId("box");var t='<input type="checkbox" name="${name}" id="${id}" /><label id="${textId}" for="${id}" class="${box}"></label>';this.main.innerHTML=n.format(t,{name:this.name,id:this.boxId,textId:this.helper.getId("text"),box:this.helper.getPartClasses("box")})},initEvents:function(){var t=n.g(this.boxId);if(this.helper.addDOMEvent(t,"click",function(i){if(this.fire("click"),!t.addEventListener)e.call(this,i)}),t.addEventListener)this.helper.addDOMEvent(t,"change",e)},setProperties:function(){var e=this.$super(arguments);if(e.hasOwnProperty("checked"))this.fire("change")},getFocusTarget:function(){var e=n.g(this.boxId);return e},updateTitle:function(e){this.title=e,e=t.escape(e),this.helper.getPart("text").innerHTML=e,i(this.boxId).attr("title",e)},updateIndeterminate:function(e){this.helper.getPart("box").indeterminate=e},repaint:s.createRepaint(r.prototype.repaint,{name:["rawValue","checked","indeterminate"],paint:function(e,t,i,r){if(void 0!==r)e.updateIndeterminate(r),delete e.indeterminate;var a=e.stringifyValue(t);e=n.g(e.boxId),e.value=a,e.checked=i}},{name:["disabled","readOnly"],paint:function(e,t,i){var r=n.g(e.boxId);r.disabled=t,r.readOnly=i}},{name:"title",paint:function(e,t){e.updateTitle(t)}}),setChecked:function(e){this.setProperties({checked:e})},isChecked:function(){if(this.helper.isInStage("RENDERED")){var e=n.g(this.boxId);return e.checked}return this.checked}});return require("./main").register(o),o}),define("esui/CommandMenu",["require","underscore","jquery","./lib","./Control","./Layer","./main","eoo","./painters"],function(require){function e(e){var t=e.currentTarget,i=+t.getAttribute("data-index"),n=this.datasource[i];if(!n.disabled){if("function"==typeof n.handler)n.handler.call(this,n,i);this.layer.hide(),this.fire("select",{item:n,index:i})}}var t=require("underscore"),i=require("jquery"),n=require("./lib"),r=require("./Control"),a=require("./Layer"),s=require("./main"),o=require("eoo"),l=require("./painters"),d=o.create(a,{nodeName:"ul",dock:{strictWidth:!0},create:function(){var e=this.$super(arguments),t=i(e),n=this.control;return t.addClass(n.helper.getPrefixClass("dropdown")),i(n.main).after(t),e},render:function(e){for(var t="",i=this.control,n=i.helper,r=0;r<i.datasource.length;r++){var a=[n.getPartClassName("node")];if(r===i.activeIndex)a.push(n.getPartClassName("node-active"));if(i.datasource[r].disabled)a.push(n.getPartClassName("node-disabled"));t+='<li data-index="'+r+'" class="'+a.join(" ")+'">',t+=i.getItemHTML(i.datasource[r]),t+="</li>"}e.innerHTML=t},initBehavior:function(t){var i=this.control.helper;i.addDOMEvent(t,"click","."+i.getPrimaryClassName("node"),e)}}),u=o.create(r,{constructor:function(){this.$super(arguments),this.layer=new d(this)
},type:"CommandMenu",itemTemplate:"<span>${text}</span>",getItemHTML:function(e){var i={text:t.escape(e.text)};return n.format(this.itemTemplate,i)},initStructure:function(){var e=this.main;if(!this.displayHTML)this.displayHTML=e.innerHTML;this.layer.autoCloseExcludeElements=[e],i(e).addClass(this.helper.getPrefixClass("button"))},initEvents:function(){this.helper.addDOMEvent(this.main,"click",t.bind(this.layer.toggle,this.layer))},repaint:l.createRepaint(r.prototype.repaint,l.style("width"),l.style("height"),{name:"datasource",paint:function(e){e.layer.repaint()}},l.text("displayText"),{name:"displayHTML",paint:function(e,t){if(!e.displayText)e.main.innerHTML=t}},{name:["disabled","hidden","readOnly"],paint:function(e,t,i,n){if(t||i||n)e.layer.hide()}}),dispose:function(){if(!this.helper.isInStage("DISPOSED")){if(this.layer.autoCloseExcludeElements=[],this.layer)this.layer.dispose(),this.layer=null;this.$super(arguments)}}});return s.register(u),u}),define("esui/Crumb",["require","underscore","jquery","./lib","./Control","./painters","./main","eoo"],function(require){function e(e){var t=i(e.currentTarget),n=t.attr("data-index");n=parseInt(n,10)||t.prevAll().size()/2;var r=this.fire("click",{item:this.path[n]});r.isDefaultPrevented()&&e.preventDefault(),r.isPropagationStopped()&&e.stopPropagation()}var t=require("underscore"),i=require("jquery"),n=require("./lib"),r=require("./Control"),a=require("./painters"),s=require("./main"),o=require("eoo"),l=o.create(r,{type:"Crumb",initOptions:function(e){var n={path:[]};t.extend(n,l.defaultProperties,e);var r=i(this.main).children();if(!e.path&&r.size()>0)r.each(function(e,t){var r=i(t),a={text:r.text()};if(r.is("a"))a.href=r.attr("href");n.path.push(a)});this.setProperties(n)},initEvents:function(){var t="."+this.helper.getPrimaryClassName("node");this.helper.addDOMEvent(this.main,"click",t,e)},getNodeHTML:function(e,i){var r=this.helper,a=[r.getPrimaryClassName("node")];if(0===i)a.push(r.getPrimaryClassName("node-first"));if(i===this.path.length-1)a.push(r.getPrimaryClassName("node-last"));var s=e.href?this.linkNodeTemplate:this.textNodeTemplate,o={href:t.escape(e.href),text:t.escape(e.text),index:i,classes:a.join(" ")};return n.format(s,o)},getSeparatorHTML:function(){return n.format(this.separatorTemplate,{classes:this.helper.getPartClassName("separator"),text:t.escape(this.separator)})},repaint:a.createRepaint(r.prototype.repaint,{name:["path","separator"],paint:function(e,i){var n=t.map(i,e.getNodeHTML,e),r=e.getSeparatorHTML();e.main.innerHTML=n.join(r)}})});return l.defaultProperties={separator:">",textNodeTemplate:'<span class="${classes}" data-index="${index}">${text}</span>',linkNodeTemplate:'<a class="${classes}" href="${href}" data-index="${index}">${text}</a>',separatorTemplate:'<span class="${classes}">${text}</span>'},s.register(l),l}),define("esui/TipLayer",["require","./Button","./Label","./Panel","jquery","./behavior/position","eoo","./main","underscore","./lib","./Control","./painters","./Layer"],function(require){function e(e){var t=e.main;if(t){var i=d(t).children("[data-role]"),n={};i.each(function(e,t){var i=d(t).attr("data-role");n[i]=t}),e.roles=n}}function t(e,t){if(t)e.title=t.innerHTML;else if(t=document.createElement("h3"),e.main.firstChild)f.insertBefore(t,e.main.firstChild);else e.main.appendChild(t);var i=e.helper.getPartClassName("title");d(t).addClass(i);var n={main:t,childName:"title",title:""},r=c.create("Label",n);return r.render(),e.addChild(r),r}function i(e,t,i){if(i)e.content=i.innerHTML;else if(i=document.createElement("div"),"body"===t){var n=e.getChild("title");if(n)f.insertAfter(i,n.main);else if(e.main.firstChild)f.insertBefore(i,n,e.main.firstChild);else e.main.appendChild(i)}else e.main.appendChild(i);d(i).addClass(e.helper.getPartClassName(t+"-panel"));var r={main:i,renderOptions:e.renderOptions},a=c.create("Panel",r);return a.render(),e.addChild(a,t),a}function n(e,t,i){if(e.isShow)d(this.main).position({of:d(t),at:i.targetPositionOpt.right+" "+i.targetPositionOpt.top,my:i.positionOpt.right+" "+i.positionOpt.top})}function r(e,t,i,n){if(t)clearTimeout(e.showTimeout),clearTimeout(e.hideTimeout),e.showTimeout=setTimeout(h.bind(e.show,e,i,n),t);else e.show(i,n)}function a(e,t){clearTimeout(e.showTimeout),clearTimeout(e.hideTimeout),e.hideTimeout=setTimeout(h.bind(e.hide,e),t)}function s(e,t){if("string"==typeof t)t=e.viewContext.get(t);return t.main}function o(e){this.helper.addDOMEvent(document.documentElement,"mouseup",e.layer.clickOutsideHideHandler),this.helper.addDOMEvent(this.main,"mouseup",e.layer.preventPopMethod)}function l(e){this.helper.removeDOMEvent(document.documentElement,"mouseup",e.layer.clickOutsideHideHandler),this.helper.removeDOMEvent(this.main,"mouseup",e.layer.clickOutsideHideHandler)}require("./Button"),require("./Label"),require("./Panel");var d=require("jquery");require("./behavior/position");var u=require("eoo"),c=require("./main"),h=require("underscore"),f=require("./lib"),p=require("./Control"),m=require("./painters"),g=require("./Layer"),v=u.create(p,{type:"TipLayer",initOptions:function(t){e(t);var i={roles:{},showMode:"manual"};h.extend(i,v.defaultProperties,t),this.setProperties(i)},initStructure:function(){if(d(this.main).appendTo(this.appendToElement),this.addState("hidden"),this.title||this.roles.title)t(this,this.roles.title);if(i(this,"body",this.roles.content),this.foot||this.roles.foot)i(this,"foot",this.roles.foot)},repaint:m.createRepaint(p.prototype.repaint,m.style("width"),{name:"title",paint:function(e,i){var n=e.getHead();if(null==i){if(n)e.removeChild(n)}else{if(!n)n=t(e);n.setText(i)}}},{name:"content",paint:function(e,t){var i='<div class="${class}" id="${id}">${content}</div>',n=e.getBody(),r=e.helper.getId("body"),a=e.helper.getPartClasses("body"),s={"class":a.join(" "),id:r,content:t};n.setContent(f.format(i,s))}},{name:"foot",paint:function(e,t){var n='<div class="${class}" id="${id}">${content}</div>',r=e.helper.getId("foot"),a=e.helper.getPartClasses("foot"),s=e.getFoot();if(null==t){if(s)e.removeChild(s)}else{var o={"class":a.join(" "),id:r,content:t};if(!s)s=i(e,"foot");s.setContent(f.format(n,o))}}},{name:["targetDOM","targetControl","showMode","positionOpt","targetPositionOpt","delayTime","showDuration"],paint:function(e,t,i,n,r){var a=arguments[6],s=arguments[7],o={targetDOM:t,targetControl:i,showMode:n,delayTime:null!=a?a:e.delayTime,showDuration:null!=s?s:e.showDuration};if(r)r=r.split("|"),o.positionOpt={top:r[0]||"top",right:r[1]||"left"};if("manual"!==n)e.attachTo(o)}}),attachTo:function(e){var t=this.getInitHandler(e);if(t)switch(e.handler=t,e.showMode){case"auto":this.initAutoMode(e);break;case"over":this.initOverMode(e);break;case"click":this.initClickMode(e);break;case"manual":}},getInitHandler:function(e){var t,i=this,n=e.positionOpt||{top:"top",right:"left"},d=e.targetPositionOpt||{top:"top",right:"right"};if(e.targetDOM)t=f.g(e.targetDOM);else if(e.targetControl)t=s(this,e.targetControl);if(!t)return null;var u={targetElement:t,layer:{show:function(){if("over"===e.showMode)i.helper.removeDOMEvent(i.main,"mouseover"),i.helper.removeDOMEvent(i.main,"mouseout"),i.helper.addDOMEvent(i.main,"mouseover",h.bind(i.show,i,t,{targetPositionOpt:d,positionOpt:n})),i.helper.addDOMEvent(i.main,"mouseout",function(){u.layer.hide()});r(i,e.delayTime,t,{targetPositionOpt:d,positionOpt:n})},hide:h.partial(a,i,e.delayTime),bind:function(e,n){e=e||"mouseup",i.helper.addDOMEvent(t,e,function(e){if(u.layer.show(),"function"==typeof n)n();e.stopPropagation()})},preventPopMethod:function(e){e.stopPropagation()},clickOutsideHideHandler:function(){u.layer.hide()},enableOutsideClickHide:function(){o.call(i,u)},disableOutsideClickHide:function(){l.call(i,u)}}};return u},initAutoMode:function(e){var t=e.handler;if(t.layer.show(),!e.showDuration)t.layer.enableOutsideClickHide();else t.layer.hide(e.showDuration);t.layer.bind("mouseup")},initClickMode:function(e){var t=e.handler;t.layer.bind("mouseup"),t.layer.enableOutsideClickHide()},initOverMode:function(e){var t=e.handler;t.layer.bind("mouseover"),this.helper.addDOMEvent(t.targetElement,"mouseout",function(){t.layer.hide()})},getHead:function(){return this.getChild("title")},getBody:function(){return this.getChild("body")},getFoot:function(){return this.getChild("foot")},show:function(e,t){var i=this.helper;if(i.isInStage("INITED"))this.render();else if(i.isInStage("DISPOSED"))return;if(clearTimeout(this.hideTimeout),i.addDOMEvent(window,"resize",h.partial(n,this,e,t)),this.main.style.zIndex=g.getZIndex(e),this.removeState("hidden"),d(this.main).position({of:d(e),at:t.targetPositionOpt.right+" "+t.targetPositionOpt.top,my:t.positionOpt.right+" "+t.positionOpt.top}),!this.isShow)this.isShow=!0,this.fire("show")},hide:function(){if(this.isShow)this.isShow=!1,this.addState("hidden"),this.fire("hide")},setTitle:function(e){this.setProperties({title:e})},setContent:function(e){this.setProperties({content:e})},setFoot:function(e){this.setProperties({foot:e})},dispose:function(){if(!this.helper.isInStage("DISPOSED"))this.hide(),this.roles=null,d(this.main).remove(),this.$super(arguments)}});return v.defaultProperties={delayTime:0,showDuration:150,appendToElement:"body"},v.onceNotice=function(e){function t(e){var t=e.onok,i="function"==typeof t;if(i)t(e);e.fire("ok"),e.dispose()}var i="tipLayer-once-notice",n="tipLayer-notice-ok",r=h.escape(e.content)||"",a={type:"onceNotice",skin:"onceNotice"};h.extend(a,e);var s=document.createElement("div");document.body.appendChild(s);var o=f.getGUID(i);a.id=o,a.main=s,a.type=null;var l=c.create("TipLayer",a);l.setContent(r);var d=e.okText||"知道了";l.setFoot(f.format('<div data-ui="type:Button;childName:okBtn;id:${id}" class="${classes}">${oktext}</div>',{id:o+"-"+n,classes:l.helper.getPartClasses("once-notice"),okText:d})),l.render();var u=l.getFoot().getChild("okBtn");u.on("click",h.partial(t,l,"ok"));var p=f.g(e.targetDOM)||l.viewContext.get(e.targetControl);return l.show(p,{top:"top",right:"left"}),l},c.register(v),v}),define("esui/Tip",["require","eoo","./main","underscore","./Control","./TipLayer","./painters"],function(require){function e(e,t){var i="",n=e.main;if(t.title=t.title||n.getAttribute("title"),n.removeAttribute("title"),t.content=t.content||n.innerHTML,t.icon)i='<span class="'+e.helper.getIconClass(t.icon)+'"></span>';n.innerHTML=i}var t=require("eoo"),i=require("./main"),n=require("underscore"),r=require("./Control");require("./TipLayer");var a=t.create(r,{type:"Tip",initOptions:function(t){var i={title:"",content:"",arrow:!0,showMode:"over",delayTime:500,icon:"question-circle",appendToElement:null,selfRight:"right",selfTop:"top",tipRight:"left",tipTop:"top"};n.extend(i,t),e(this,i),this.setProperties(i)},initStructure:function(){var e=document.createElement("div");document.body.appendChild(e);var t=i.create("TipLayer",{main:e,childName:"layer",content:this.content,title:this.title,arrow:this.arrow,width:this.layerWidth||200,viewContext:this.viewContext,variants:"from-tip",appendToElement:this.appendToElement});this.addChild(t),t.render();var n={showMode:this.mode||this.showMode,delayTime:this.delayTime,targetControl:this.id,positionOpt:{right:this.tipRight,top:this.tipTop},targetPositionOpt:{right:this.selfRight,top:this.selfTop}};t.attachTo(n)},repaint:require("./painters").createRepaint(r.prototype.repaint,{name:"title",paint:function(e,t){var i=e.getChild("layer");if(i)i.setTitle(t)}},{name:"content",paint:function(e,t){var i=e.getChild("layer");if(i)i.setContent(t)}})});return i.register(a),a}),define("esui/Table",["require","eoo","./main","./lib","underscore","./Control","./painters","jquery","./behavior/Mouse","./Tip"],function(require){function e(e){return!("undefined"==typeof e||null===e)}function t(t){return!e(t)||!t.toString().length}function i(e,t,i){Nt.setAttribute(e,"data-"+t,i)}function n(e,t){return Nt.getAttribute(e,"data-"+t)}function r(e,t){var i=Nt.getStyle(e,t);return""===i?0:parseInt(i,10)||0}function a(e,t){return e.helper.getId(t)}function s(e,t){return e.helper.getPartClasses(t).join(" ")}function o(e){return Nt.g(a(e,"head"))}function l(e){return Nt.g(a(e,"body"))}function d(e){return Nt.g(a(e,"foot"))}function u(e,t){return Nt.g(a(e,"row")+t)}function c(e){return Nt.g(a(e,"select-all"))}function h(e,t){e.selectedIndex=t;for(var i={},n=t.length-1;n>=0;n--)i[t[n]]=1;e.selectedIndexMap=i}function f(e,t){if(e.selectedIndexMap)return!!e.selectedIndexMap[t];else return!1}function p(e){for(var t=0,i=e.realFields,n=e.minColsWidth,r=0,a=i.length;a>r;r++){var s=i[r];t+=s.width||n[r]}return t}function m(e){if(e.width)return e.width;var t=document.createElement("div"),i=e.main.parentNode;i.appendChild(t);var n=t.offsetWidth;return t.parentNode.removeChild(t),n}function g(e){if(e.fields){for(var t=e.fields,i=t.slice(0),n=i.length;n--;)if(!i[n])i.splice(n,1);if(e.realFields=i,e.select)switch(e.select.toLowerCase()){case"multi":i.unshift(ct(e));break;case"single":i.unshift(ht(e))}}}function v(e){if(e.followHead)if(_(e),!e.noFollowHeadCache)w(e)}function y(e){if(e.followHead)_(e),w(e)}function _(e){if(e.followHead){for(var t=e.followDoms=[],i=e.main.parentNode.firstChild,r=e.id;i;){if(1===i.nodeType&&n(i,"follow-thead")===r)t.push(i);i=i.nextSibling}b(e),x(e)}}function x(e){var t=e.followDoms,i=e.followHeightArr;i[0]=0;for(var n=0,r=t.length;r>n;n++){var a=t[n];i[n+1]=i[n]+a.offsetHeight}i[n+1]=i[n],i.lenght=n+2}function b(e){for(var t=e.followDoms,i=e.followWidthArr,n=0,a=t.length;a>n;n++){var s=t[n],o=r(s,"padding-left")+r(s,"padding-right")+r(s,"border-left-width")+r(s,"border-right-width");i[n]=o,t[n].style.width=e.realWidth-o+"px"}}function w(e){var t=e.followDoms,i=Nt.getOffset(t[0]||e.main);e.followTop=i.top,e.followLeft=i.left}function M(e){var t=e.realFields,i=[],n=e.fontSize,r=2*e.colPadding+5;if(!e.noHead)for(var a=0,s=t.length;s>a;a++){var o=t[a],l=o.minWidth;if(!l&&!o.breakLine)l=o.title.length*n+r+(e.sortable&&o.sortable?e.sortWidth:0)+(o.tip?e.tipWidth:0);i[a]=l}else{var d=n+r;for(a=0,s=t.length;s>a;a++)i[a]=d}e.minColsWidth=i}function C(e){var t=e.realFields,i=[];e.colsWidth=[];var n="auto"===e.overflowX?p(e):e.realWidth;n=Math.max(n,e.realWidth),e.bodyWidth=n;for(var r=n-1,a=0,s=t.length;s>a;a++){var o=t[a],l=o.width;if(l=l?parseInt(l,10):0,e.colsWidth.push(l),r-=l,!o.stable)i.push(a)}s=i.length;var d,u,c,h=Math.round(r/s);for(a=0;s>a;a++)if(d=i[a],u=Math.abs(r)<Math.abs(h)?r:h,r-=u,e.colsWidth[d]+=u,c=e.minColsWidth[d],c>e.colsWidth[d])r+=e.colsWidth[d]-c,e.colsWidth[d]=c;if(0>r)for(a=0;s>a&&0!==r;){if(d=i[a],c=e.minColsWidth[d],c<e.colsWidth[d])u=e.colsWidth[i[a]]-c,u=u>Math.abs(r)?r:-u,r+=Math.abs(u),e.colsWidth[d]+=u;a++}else if(r>0)e.colsWidth[i[0]]+=r}function L(e){var t=d(e);if(!(e.foot instanceof Array))t&&(t.style.display="none");else{if(!t)t=document.createElement("div"),t.id=a(e,"foot"),t.className=s(e,"foot"),i(t,"control-table",e.id),e.main.appendChild(t);if(t.style.display="",e.realWidth)t.style.width=e.realWidth+"px";t.innerHTML=T(e)}}function T(e){var i=[],n=e.foot,r=0,a=e.colsWidth,o=s(e,"fcell"),l=s(e,"fcell-text"),d=e.rowWidthOffset;i.push(Nt.format(Vt,{width:"100%",controlTableId:e.id}),"<tr>");for(var u=0,c=n.length;c>u;u++){var h=n[u],f=a[r],p=h.colspan||1,m=[o],g=h.content;if("function"==typeof g)g=g.call(e);if(t(g))g="&nbsp;";for(var v=1;p>v;v++)f+=a[r+v];if(r+=p,h.align)m.push(s(e,"cell-align-"+h.align));f+=d,0>f&&(f=0),i.push('<th id="'+P(e,u)+'" class="'+m.join(" ")+'"',' style="width:'+f+"px;",(f?"":"display:none;")+'">','<div class="'+l+'">',g,"</div></th>")}return i.push("</tr></table>"),i.join("")}function k(e){var t=o(e),n=a(e,"head-panel");if(!t)if(t=document.createElement("div"),t.id=a(e,"head"),t.className=s(e,"head"),i(t,"control-table",e.id),e.main.appendChild(t),t.innerHTML=Nt.format('<div id="${id}" data-ui="type:Panel;id:${id};"></div>',{id:n}),e.initChildren(t),e.headPanel=e.viewContext.get(n),e.columnResizable)e.helper.addDOMEvent(t,"mousemove","th",$),$t(t).mouse({start:jt.partial(V,e),drag:jt.partial(F,e),stop:jt.partial(G,e)});if(e.noHead)return void(t.style.display="none");if(t.style.display="",e.bodyWidth)t.style.width=e.bodyWidth+"px";Nt.g(n).innerHTML=Y(e),D(e,e.viewContext.get(n))}function D(e,t){if(t.children)t.disposeChildren();if(e.hasTip)t.initChildren()}function Y(e){var i=e.realFields,n=s(e,"hcell"),r=s(e,"hcell-text"),o=s(e,"cell-break"),l=e.helper.getIconClass(),d=s(e,"hsort")+" "+l,u=s(e,"hcell-sel"),c=-1,h=-1,f=e.rowWidthOffset;if(!e.disabled){for(var p=0,m=i.length;m>p;p++)if(!i[p].stable){c=p;break}for(p=m-1;p>=0;p--)if(!i[p].stable){h=p;break}}var g=[];return g.push(Nt.format(Vt,{width:"100%",controlTableId:e.id}),"<tr>"),jt.each(i,function(i,l){var p=[n],v=i.title,y=e.sortable&&i.sortable,_=y&&i.field&&i.field===e.orderBy,x=r;if(0===l)x+=" "+s(e,"hcell-text-first");if(l===m-1)x+=" "+s(e,"hcell-text-last");var b="";if(y){if(p.push(s(e,"hcell-sort")),_)p.push(s(e,"hcell-"+e.order));b=Nt.format(Rt,{className:d})}if(i.align)p.push(s(e,"cell-align-"+i.align));if(e.breakLine||i.breakLine)p.push(o);var w="",M="",C=i.tip;if("function"==typeof C)M=C.call(e);else M=C;if(M)w=Nt.format(Ft,{id:a(e,"htip"+l),className:s(e,"htip"),content:M}),e.hasTip=!0;var L;if("function"==typeof v)L=v.call(e);else L=v;if(t(L))L="&nbsp;";var T='<th id="${cellId}" data-index="${index}" class="${classes}" ${sortable} ${dragRight} ${dragLeft} style="width:${width}px; ${display}"><div class="${realThTextClass} ${selClass}">${content}</div></th>';g.push(Nt.format(T,{cellId:S(e,l),index:l,classes:p.join(" "),sorable:y?'data-sortable="1"':"",dragRight:l>=c&&h>l?'data-dragright="1"':"",dragLeft:h>=l&&l>c?'data-dragleft="1"':"",width:e.colsWidth[l]+f,display:e.colsWidth[l]?"":"display:none",realThTextClass:x,selClass:i.select?u:"",content:w+L+b}))}),g.push("</tr></table>"),g.join("")}function S(e,t){return a(e,"title-cell")+t}function P(e,t){return a(e,"foot-cell")+t}function I(e){return e.tableHeadDragging}function E(e){N(this,e)}function N(e,t){if(!I(e)&&!e.dragReady)if(e.helper.addPartClasses("hcell-hover",t),e.sortable){e.sortReady=1;var i=n(t,"index"),r=e.realFields[i];if(r&&r.sortable)e.helper.addPartClasses("hcell-sort-hover",t)}}function j(e){H(this,e)}function H(e,t){if(e.helper.removePartClasses("hcell-hover",t),e.sortable)e.sortReady=0,e.helper.removePartClasses("hcell-sort-hover",t)}function O(e){var t=this;if(t.sortable&&t.sortReady){var i=n(e,"index"),r=t.realFields[i];if(r.sortable){var a=t.orderBy,s=t.order;if(a===r.field)s=!s||"asc"===s?"desc":"asc";else s="desc";t.setProperties({order:s,orderBy:r.field}),t.fire("sort",{field:r,order:s})}}}function $(e){var t=this;if(!I(t)){var i="startdrag",r=8,a=e.originalEvent.target;if(a=A(t,a)){var s=t.helper.getPart("head"),o=e.pageX||e.clientX+Nt.page.getScrollLeft(),l=Nt.getOffset(a),d=n(a,"sortable");if(n(a,"dragleft")&&o-l.left<r)d&&H(t,a),t.helper.addPartClasses(i,s),t.dragPoint="left",t.dragReady=1;else if(n(a,"dragright")&&l.left+a.offsetWidth-o<r)d&&H(t,a),t.helper.addPartClasses(i,s),t.dragPoint="right",t.dragReady=1;else t.helper.removePartClasses(i,s),t.dragPoint="",t.dragReady=0,N(t,a)}}}function A(e,t){for(;1===t.nodeType;){if("TH"===t.nodeName)return t;t=t.parentNode}return null}function V(e,t){e.fire("startdrag"),e.fire("dragstart");var i=s(e,"startdrag"),r=t.originalEvent.target;if(r=A(e,r),!r)return!1;if(Nt.g(a(e,"head")).className.indexOf(i)<0)return!1;else return e.tableHeadDragging=!0,e.htmlHeight=document.documentElement.clientHeight,e.dragIndex=n(r,"index"),e.dragStart=t.pageX||t.clientX+Nt.page.getScrollLeft(),R(e),q(e,e.dragStart),!0}function R(e){var t=Nt.getOffset(e.main);e.top=t.top,e.left=t.left}function F(e,t){return q(e,t.pageX||t.clientX+Nt.page.getScrollLeft()),!1}function q(e,t){var i=z(e),n=e.left+e.realWidth,r=e.left+1,a=n-1;if(t=r>t?r:t,t=t>a?a:t,!i)i=B(e);i.style.top=e.top+"px",i.style.left=t+"px",i.style.zIndex=e.zIndex||"";var s=e.htmlHeight-e.top+Nt.page.getScrollTop(),o=e.main.offsetHeight;s=o>s?s:o,i.style.height=s+"px"}function W(e){var t=z(e);t.style.left="-10000px",t.style.top="-10000px"}function B(e){var t=document.createElement("div");return t.id=a(e,"drag-mark"),t.className=s(e,"mark "),t.style.top="-10000px",t.style.left="-10000px",document.body.appendChild(t),t}function z(e){return Nt.g(a(e,"drag-mark"))}function G(e,t){var i=parseInt(e.dragIndex,10);if("left"===e.dragPoint)i--;var n=e.colsWidth,r=e.minColsWidth[i],a=t.pageX,s=a-e.dragStart,o=n[i]+s;if(r>o)s+=r-o,o=r;for(var l,d=[],u=[],c=e.realFields,h=c.length,f=0,p=i+1;h>p;p++)if(!c[p].stable&&n[p]>0)d.push(p),l=n[p],u.push(l),f+=l;var m=0,g=s,v=d.length;for(p=0;v>p;p++){var y=d[p];l=u[p];var _=s*l/f,x=g>0?Math.ceil(_):Math.floor(_);if(x=Math.abs(x)<Math.abs(g)?x:g,l-=x,g-=x,r=e.minColsWidth[y],r>l)m+=r-l,l=r;n[y]=l}return o-=m,n[i]=o,ut(e),W(e),e.fire("enddrag"),e.fire("dragend"),e.tableHeadDragging=!1,!1}function U(e){var t=l(e),i=a(e,"body-panel");if(!t){var n="body",r=a(e,n);t=document.createElement("div"),t.id=r,t.className=s(e,n),e.main.appendChild(t),t.innerHTML=Nt.format('<div id="${id}" data-ui="type:Panel;id:${id}"></div>',{id:i}),e.initChildren(t),e.bodyPanel=e.viewContext.get(i)}var o=t.style;if(o.overflowX="auto",o.overflowY="auto",e.bodyWidth)o.width=e.bodyWidth+"px";e.bodyPanel.disposeChildren(),Nt.g(i).innerHTML=J(e),e.fire("bodyChange")}function X(e){var t=l(e),i=t.style,n=e.datasource.length,r=e.bodyMaxHeight;if(r>0&&n>0){var s=r,o=Nt.g(a(e,"body-panel"));if(o)s=o.offsetHeight;if(s>=r)return void(i.height=r+"px")}i.height="auto"}function J(e){var t=e.datasource||[],i=t.length,n=[];if(!i)return Nt.format(qt,{className:s(e,"body-nodata"),html:e.noDataHtml});for(var r=e.rowBuilderList,a=0;i>a;a++){var o=t[a];n.push(et(e,o,a,r))}return n.join("")}function K(e,t,i){return a(e,"cell")+t+"-"+i}function Z(t,i){for(var n=t.rowBuilderList||[],r=0,a=i.length;a>r;r++){var s=i[r];if(s.getColHtml){if(s.getSubrowHtml)t.hasSubrow=!0;if(!e(s.index))s.index=1e3;n.push(s)}else;}n.sort(function(e,t){return e.index-t.index}),t.rowBuilderList=n}function Q(e){Z(e,[{index:1,getRowArgs:tt,getColHtml:it}])}function et(t,i,n,r){function s(e,t){return e.index-t.index}for(var o=[],l=t.realFields,d=t.rowWidthOffset,u=[],c=[],h=[],f=0,p=r.length;p>f;f++){var m=r[f],g=m.getRowArgs?m.getRowArgs(t,n)||{}:{};u.push(g),g.rowClass&&c.push(g.rowClass),g.rowAttr&&h.push(g.rowAttr)}if(jt.each(l,function(a,l){for(var c=t.colsWidth[l],h=[],f=[],p=[],m=[],g=[],v=[],y=-1,_=0,x=r.length;x>_;_++){var b=r[_].getColHtml(t,i,a,n,l,u[_]);if(b){var w=b.html;if(b.colClass)h.push(b.colClass);if(b.textClass)f.push(b.textClass);if(b.colAttr)p.push(b.colAttr);if(b.textAttr)m.push(b.textAttr);if(e(w))if(b.notInText)b.index=_,v.push(b);else g.push(w),0>y&&(y=_)}else;}var M;if(g=['<div class="'+f.join(" ")+'" ',m.join(" ")+">",g.join(""),"</div>"].join(""),v.push({html:g,index:y}),v.sort(s),v.length>1){for(M=['<table width="100%" cellpadding="0" cellspacing="0">',"<tr>"],_=0,x=v.length;x>_;_++){var C=v[_];M.push("<td ",e(C.width)?' width="'+C.width+'" ':"",C.align?' align="'+C.align+'">':">",C.html,"</td>")}M.push("</tr></table>"),M=M.join("")}else M=g;o.push('<td id="'+K(t,n,l)+'" ','class="'+h.join(" ")+'" ',p.join(" ")+" ",'style="width:'+(c+d)+"px;",(c?"":"display:none")+'" ','data-control-table="'+t.id+'" ','data-row="'+n+'" data-col="'+l+'">',M,"</td>")}),o.unshift(Nt.format(Wt,{id:a(t,"row")+n,className:c.join(" "),attr:h.join(" "),index:n}),Nt.format(Vt,{width:"100%",controlTableId:t.id})),o.push("</tr></table></div>"),t.hasSubrow)for(f=0,p=r.length;p>f;f++){var v=r[f].getSubrowHtml;if(v)o.push(v(t,n,u[f]))}return o.join("")}function tt(e,t){var i=e.datasource||[],n=i.length;return{tdCellClass:s(e,"cell"),tdBreakClass:s(e,"cell-break"),tdTextClass:s(e,"cell-text"),fieldLen:e.realFields.length,rowClass:[s(e,"row"),s(e,"row-"+(t%2?"odd":"even")),f(e,t)?s(e,"row-selected"):"",n-1===t?s(e,"row-last"):""].join(" ")}}function it(e,i,n,r,o,l){var d=l.tdCellClass,u=l.tdBreakClass,c=l.tdTextClass,h=[d],f=[c],p=n.content;if(0===o)f.push(s(e,"cell-text-first"));if(o===l.fieldLen-1)f.push(s(e,"cell-text-last"));if(e.breakLine||n.breakLine)h.push(u);if(n.select)f.push(s(e,"cell-sel"));if(n.align)h.push(s(e,"cell-align-"+n.align));if(n.field&&n.field===e.orderBy)h.push(s(e,"cell-sorted"));var m="function"==typeof p?p.call(e,i,r,o):e.encode?jt.escape(i[p]):i[p];if(t(m))m="&nbsp;";return{colClass:h.join(" "),textClass:f.join(" "),html:Nt.format(Bt,{colTextId:a(e,"cell-textfield-"+r+"-"+o),content:m})}}function nt(e){if(!I(this))this.helper.addPartClasses("row-hover",e)}function rt(e){this.helper.removePartClasses("row-hover",e)}function at(e,t){var i=this,r=i.helper.getPartClasses("cell-text")[0];if("line"===i.selectMode&&Nt.hasClass(t.target,r)){if(i.dontSelectLine)return void(i.dontSelectLine=!1);var s=n(e,"index");switch(i.select){case"multi":var o=Nt.g(a(i,"multi-select")+s);pt(i,s,!o.checked),mt(i);break;case"single":xt(i,s,!0)}}}function st(e){e.viewWidth=Nt.page.getViewWidth(),e.viewHeight=Nt.page.getViewHeight();var t=function(){var t=Nt.page.getViewWidth(),i=Nt.page.getViewHeight();if(t!==e.viewWidth||i!==e.viewHeight)e.viewWidth=t,e.viewHeight=i,ot(e)};e.helper.addDOMEvent(window,"resize",t)}function ot(e){var t=o(e),i=d(e);e.realWidth=m(e);var n=e.realWidth+"px";if(e.realWidth)e.main.style.width=n;C(e),ut(e);var r=e.bodyWidth+"px";if(e.realWidth)l(e).style.width=r,t&&(t.style.width=r),i&&(i.style.width=n);if(e.followHead)b(e),x(e);R(e),e.fire("resize"),e.topReseter&&e.topReseter()}function lt(e,t,i,n){if(e)e.style.top=i+"px",e.style.left=n+"px",e.style.position=t}function dt(e){if(e.followHead&&!e.topReseter){var t=o(e),i=a(e,"top-placeholder"),n=document.createElement("div");n.id=i,n.style.width="100%",n.style.display="none",Nt.insertBefore(n,e.main),n=null,e.topReseter=function(){if(e.followHead){var n=Nt.page.getScrollTop(),r=Nt.ie&&Nt.ie<7?"absolute":"fixed",a=e.main.offsetHeight,s="absolute"===r,o=Nt.g(i),l=e.followDoms;if(e.noFollowHeadCache){var d=t.style.position;if("fixed"!==d&&"absolute"!==d)w(e)}var u;if(n>e.followTop&&(s||n-e.followTop<a)){var c=Nt.page.getScrollLeft(),h=e.followHeightArr,f=h.length;R(e);var p=s?e.left:e.left-c;if(o.style.height=h[f-1]+t.offsetHeight+"px",o.style.display="",Nt.ie&&Nt.ie<8)t.style.zIndex=e.zIndex+1;if(s){var m=l.length;for(u=0;m>u;u++)lt(l[u],r,h[u]+n,p);lt(t,r,h[f-1]+n,p)}else{for(u=0,m=l.length;m>u;u++)lt(l[u],r,h[u],p);lt(t,r,h[f-1],p)}}else{for(o.style.height=0,o.style.display="none",r="",u=0,m=l.length;m>u;u++)lt(l[u],r,0,0);lt(t,r,0,0),t.style.zIndex=""}}},e.helper.addDOMEvent(window,"scroll",e.topReseter)}}function ut(e){var t,i,r,a,s=e.colsWidth,o=e.foot,d=e.id,u=o instanceof Array&&o.length,c=l(e).getElementsByTagName("td"),h=c.length,f=e.rowWidthOffset;if(u){var p=0;for(t=0;u>t;t++){var m=o[t];r=s[p];var g=m.colspan||1;for(i=1;g>i;i++)r+=s[p+i];p+=g,a=Nt.g(P(e,t)),r=Math.max(r+f,0),a.style.width=r+"px",a.style.display=r?"":"none"}}if(u=s.length,!e.noHead)for(t=0;u>t;t++)r=Math.max(s[t]+f,0),a=Nt.g(S(e,t)),a.style.width=r+"px",a.style.display=r?"":"none";for(i=0,t=0;h>t;t++)if(a=c[t],n(a,"control-table")===d)r=Math.max(s[i%u]+f,0),a.style.width=r+"px",a.style.display=r?"":"none",i++}function ct(e){var t=e.helper,i=[t.getPrefixClass("checkbox-custom"),t.getPrefixClass("checkbox-single")].join(" ");return{width:30,stable:!0,select:!0,title:function(t,n){var r={id:a(e,"select-all"),className:s(e,"select-all"),disabled:e.disabled?'disabled="disabled"':"",index:n,checkboxClassName:i};return Nt.format(zt,r)},content:function(t,n){var r={id:a(e,"multi-select")+n,className:s(e,"multi-select"),disabled:e.disabled?'disabled="disabled"':"",index:n,checked:f(e,n)?'checked="checked"':"",checkboxClassName:i};return Nt.format(Gt,r)}}}function ht(e){return{width:30,stable:!0,title:"&nbsp;",select:!0,content:function(t,i){var n=a(e,"single-select"),r={id:n+i,name:n,className:s(e,"single-select"),index:i,disabled:e.disabled?'disabled="disabled"':"",checked:f(e,i)?'checked="checked"':"",checkboxClassName:e.helper.getPrefixClass("radio-custom")};return Nt.format(Ut,r)}}}function ft(e){var t=n(e,"index");pt(this,t),mt(this)}function pt(t,i,r){var s,o,l="row-selected",d=t.helper;if(i>=0){if(o=Nt.g(a(t,"multi-select")+i))if(e(r)&&(o.checked=r),s=u(t,i),o.checked)d.addPartClasses(l,s);else d.removePartClasses(l,s)}else if(e(r))for(var c=vt(t,"checkbox"),h=0,f=c.length;f>h;h++){o=c[h],o.checked=r;var p=n(o,"index");if(s=u(t,p),r)d.addPartClasses(l,s);else d.removePartClasses(l,s)}}function mt(e){for(var t=c(e),i=vt(e,"checkbox"),r=!0,s=[],o=a(e,"multi-select"),l=0,d=i.length;d>l;l++){var u=i[l];if(u.id.indexOf(o)>=0){var f=n(u,"index");if(!u.checked)r=!1;else s.push(f)}}h(e,s),e.fire("select",{selectedIndex:s}),t.checked=r}function gt(){yt(this,c(this).checked)}function vt(e,t){for(var i=l(e).getElementsByTagName("input"),n=[],r=0,a=i.length;a>r;r++){var s=i[r],o=s.id;if(s.getAttribute("type")===t&&o)n.push(s)}return n}function yt(e,t){pt(e,-1,t),mt(e)}function _t(e){xt(this,n(e,"index"),!0)}function xt(t,i,n){var r=t.selectedIndex;if(i>=0){var s=Nt.g(a(t,"single-select")+i);if(s){if(e(n)&&(s.checked=n),t.fire("select",{selectedIndex:i}),r&&r.length)t.helper.removePartClasses("row-selected",u(t,r[0]));if(n)h(t,[i]),t.helper.addPartClasses("row-selected",u(t,i))}}}function bt(e){e.main.style.zIndex=e.zIndex||""}function wt(e){for(var t=vt(e,"multi"===e.select?"checkbox":"radio"),i=t.length-1;i>=0;i--)if(e.disabled)t[i].setAttribute("disabled","disabled");else t[i].removeAttribute("disabled");if("multi"===e.select){var n=c(e);if(n)if(e.disabled)n.setAttribute("disabled","disabled");else n.removeAttribute("disabled")}if(e.children&&e.children.length){var r=e.children;for(i=r.length-1;i>=0;i--)r[i].setDisabled(e.disabled)}}function Mt(e){var t=" "+e+" ";return function(e){var i=" "+e.className+" ";return i.replace(Xt," ").indexOf(t)>=0}}function Ct(e,t){var i=null;if(t)i="function"==typeof t?t:Mt(t);return{handler:e,matchFn:i}}function Lt(e,t,i){var n=t.id,r=e.handlers[n];if(!r)r=e.handlers[n]={};if(i)if(r=e.handlers[i],!r)r=e.handlers[i]=[];return r}function Tt(e,t,i,n){var r=Lt(e,t,i),a=[];if(!r.length)Yt(e,t,i);for(var s=0,o=n.length;o>s;s++){var l=n[s],d=Ct(l.handler,l.matchFn);r.push(d),a.push(d)}return a}function kt(e,t,i,n){for(var r=Lt(e,t,i),a=0,s=n.length;s>a;a++)for(var o=n[a],l=0,d=r.length;d>l;l++)if(r[l]===o)r.splice(l,1),l--;if(!r.length)St(e,t,i)}function Dt(e,t,i){return function(n){for(var r=n.target;r;){if(1===r.nodeType)for(var a=t.length-1;a>=0;a--){var s=t[a];if(!s.matchFn||s.matchFn(r))s.handler.call(i,r,n)}if(r===e)break;r=r.parentNode}}}function Yt(e,t,i){var n=Lt(e,t,i);e.helper.addDOMEvent(t,i,Dt(t,n,e))}function St(e,t,i){e.helper.removeDOMEvent(t,i)}function Pt(e){var t=e.helper,i=t.getPartClassName("row"),n=t.getPartClassName("hcell"),r=t.getPartClassName("select-all"),a=t.getPartClassName("multi-select"),s=t.getPartClassName("single-select");Tt(e,e.main,"mouseover",[{handler:nt,matchFn:i},{handler:E,matchFn:n}]),Tt(e,e.main,"mouseout",[{handler:rt,matchFn:i},{handler:j,matchFn:n}]),Tt(e,e.main,"click",[{handler:at,matchFn:i},{handler:O,matchFn:n},{handler:gt,matchFn:r},{handler:ft,matchFn:a},{handler:_t,matchFn:s}])}var It=require("eoo"),Et=require("./main"),Nt=require("./lib"),jt=require("underscore"),Ht=require("./Control"),Ot=require("./painters"),$t=require("jquery");require("./behavior/Mouse"),require("./Tip");var At=It.create(Ht,{constructor:function(e){var t={followHeightArr:[0,0],followWidthArr:[],handlers:[]};this.$super([jt.extend({},e,t)])},type:"Table",initOptions:function(e){var t={};jt.extend(t,At.defaultProperties,e),this.setProperties(t)},initStructure:function(){if(this.realWidth=m(this),this.realWidth)this.main.style.width=this.realWidth+"px";bt(this),Q(this),st(this),Pt(this)},repaint:function(e,t){this.$super(arguments);var i=this;if(!i.realWidth)if(i.realWidth=m(i),i.realWidth)i.main.style.width=i.realWidth+"px";var n=At.defaultProperties,r={};if(!e){for(var a in n)if(n.hasOwnProperty(a))r[a]=!0}else for(var s=0;s<e.length;s++){var o=e[s];
r[o.name]=!0}var l=!1,d=!1,u=!1;if(r.fields||r.select||r.selectMode||r.sortable)g(i),l=!0;if(l||r.breakLine||r.colPadding||r.fontSize)M(i),C(i),d=!0;if(l||d||r.noHead||r.order||r.orderBy||r.selectedIndex)k(i);if(r.followHead||r.noFollowHeadCache)v(i),dt(i);if(l||d||r.encode||r.noDataHtml||r.datasource||r.selectedIndex)U(i),u=!0;if(u||r.bodyMaxHeight)X(i);if(l||d||r.foot)L(i);if(i.extraRepaint=Ot.createRepaint([{name:"disabled",paint:wt},{name:"width",paint:ot},{name:"zIndex",paint:bt}]),i.extraRepaint(e,t),u&&i.helper.isInStage("RENDERED"))switch(i.select){case"multi":h(i,[]),i.fire("select",{selectedIndex:i.selectedIndex})}if(i.realWidth!==m(i))ot(i)},getId:function(e){return a(this,e)},getBodyCellId:function(e,t){return K(this,e,t)},setCellText:function(e,i,n,r){if(r)e=jt.escape(e);e=t(e)?"&nbsp":e,Nt.g(a(this,"cell-textfield-"+i+"-"+n)).innerHTML=e},getClass:function(e){return s(this,e)},getRow:function(e){return u(this,e)},addRowBuilders:function(e){Z(this,e)},addHandlers:function(e,t){if(!t.length)t=[t];return Tt(this,this.main,e,t)},removeHandlers:function(e,t){if(!t.length)t=[t];kt(this,this.main,e,t)},adjustWidth:function(){ot(this)},setDatasource:function(e){this.datasource=e,h(this,[]);var t={name:"datasource"},i={name:"selectedIndex"};this.repaint([t,i],{datasource:t,selectedIndex:i})},updateRowAt:function(e,t){t&&(this.datasource[e]=t);var i=this.datasource[e],n=u(this,e);if(i&&n){this.fire("beforerowupdate",{index:e,data:i});var r=document.createElement("div");r.innerHTML=et(this,t,e,this.rowBuilderList);var a=r.children[0];n.parentNode.replaceChild(a,n),this.fire("afterrowupdate",{index:e,data:i})}},getSelectedItems:function(){var e=this.selectedIndex,t=[];if(e){var i=this.datasource;if(i)for(var n=0;n<e.length;n++)t.push(i[e[n]])}return t},setRowSelected:function(e,t){var i=this,n="multi"===i.select,r=n?pt:xt;if(jt.isArray(e))if(n)jt.each(e,function(e){r(i,e,t)});else r(i,e[0],t);else r(i,e,t);if(n)mt(i)},setAllRowSelected:function(e){this.setRowSelected(-1,e)},resetFollowHead:function(){y(this)},dispose:function(){var e=this.helper;if(!e.isInStage("DISPOSED")){e.beforeDispose();var t=this.main;if(t)this.followDoms=null,$t("#"+a(this,"drag-mark")).remove();this.rowBuilderList=null,this.headPanel.disposeChildren(),this.bodyPanel.disposeChildren(),this.headPanel=null,this.bodyPanel=null,e.dispose(),e.afterDispose()}}});At.defaultProperties={noDataHtml:"没有数据",subEntryOpenTip:"点击展开",subEntryCloseTip:"点击收起",noFollowHeadCache:!1,followHead:!1,sortable:!1,encode:!1,columnResizable:!1,rowWidthOffset:-1,select:"",selectMode:"box",subrowMutex:1,subEntryWidth:18,breakLine:!1,hasTip:!1,hasSubrow:!1,tipWidth:18,sortWidth:9,fontSize:13,colPadding:8,zIndex:0,overflowX:"hidden"};var Vt='<table cellpadding="0" cellspacing="0" width="${width}" data-control-table="${controlTableId}">',Rt='<div class="${className}"></div>',Ft='<div id="${id}" class="${className}" data-ui="type:Tip;id:${id};content:${content}"></div>',qt='<div class="${className}">${html}</div>',Wt='<div id="${id}" class="${className}" data-index="${index}" ${attr}>',Bt='<span id="${colTextId}">${content}</span>',zt='<div class="${checkboxClassName}"><input type="checkbox" id="${id}" class="${className}" data-index="${index}" ${disabled}/><label for="${id}"></label></div>',Gt='<div class="${checkboxClassName}"><input type="checkbox" id="${id}" class="${className}" data-index="${index}" ${disabled} ${checked} /><label for="${id}"></label></div>',Ut='<div class="${checkboxClassName}"><input type="radio" id="${id}" name="${name}" class="${className}" data-index="${index}" ${disabled} ${checked} /><label for="${id}"></label></div>',Xt=/[\t\r\n]/g;return Et.register(At),At}),define("esui/extension/AutoSort",["require","underscore","../Table","../Extension","eoo","esui"],function(require){function e(e){function i(t,i){var r=n(t,i);return"asc"===e.order?r:-r}var n=e.field.comparer;if(!n){var r=e.field.field;n=function(e,i){if(r)e=e[r],i=i[r];return t.isString(e)&&t.isString(i)?e.localeCompare(i):e-i}}var a=this.datasource;a.sort(i),this.setDatasource(a)}var t=require("underscore"),i=require("../Table"),n=require("../Extension"),r=require("eoo"),a=require("esui"),s=r.create(n,{type:"AutoSort",activate:function(){if(this.target instanceof i)this.target.on("sort",e),this.$super(arguments)},inactivate:function(){if(this.target instanceof i)this.target.un("sort",e),this.$super(arguments)}});return a.registerExtension(s),s}),define("esui/extension/Command",["require","underscore","../lib","../Extension","eoo","../main"],function(require){var e=require("underscore"),t=require("../lib"),i=require("../Extension"),n=require("eoo"),r=require("../main"),a=n.create(i,{constructor:function(e){if(e=e||{},!e.events)e.events=["click"];else e.events=t.splitTokenList(e.events);this.$super(arguments)},type:"Command",handleCommand:function(e){for(var t=e.target,i=this.main&&this.main.parentNode;t&&t!==i;){if(1===t.nodeType&&(t.disabled!==!0||"click"!==e.type)){var n=t.getAttribute("data-command");if(n){var r=t.getAttribute("data-command-args"),a=this.fire("command",{name:n,triggerType:e.type,args:r},e);if(a.isPropagationStopped())return}}t=t.parentNode}},activate:function(){for(var e=0;e<this.events.length;e++)this.target.helper.addDOMEvent(this.target.main,this.events[e],this.handleCommand);this.$super(arguments)},inactivate:function(){for(var e=0;e<this.events.length;e++)this.target.helper.removeDOMEvent(this.target.main,this.events[e],this.handleCommand);this.$super(arguments)}});return a.createDispatcher=function(i){var n=i;if(e.isArray(i)){n={};for(var r=0;r<i.length;r++){var a=i[r],s=a.triggerType?a.triggerType+":"+a.name:a.name;n[s]=a.handler}}return function(e){var i,r=n[e.triggerType+":"+e.name];if(!r)r=n[e.name];if(!r)i="execute"+t.pascalize(e.name)+t.pascalize(e.triggerType),r=this[i];if("function"!=typeof r)i="execute"+t.pascalize(e.name),r=this[i];if("function"!=typeof r)r=n[e.triggerType+":*"];if(!r)r=n["*"];if("function"==typeof r)r.apply(this,arguments)}},r.registerExtension(a),a}),define("esui/extension/CustomData",["require","../Extension","../main","eoo"],function(require){var e=require("../Extension"),t=require("../main"),i=require("eoo"),n=i.create(e,{type:"CustomData",activate:function(){var e=/^data[A-Z0-9]/;this.$super(arguments);var i=this.target.data;if("object"!=typeof i)i=t.parseAttribute(this.target.data);for(var n in this.target)if(this.target.hasOwnProperty(n)&&e.test(n)){var r=n.charAt(4).toLowerCase()+n.slice(5);i[r]=this.target[n]}this.target.getData=function(e){return i[e]},this.target.setData=function(e,t){i[e]=t}},inactivate:function(){this.$super(arguments),delete this.target.getData,delete this.target.setData}});return t.registerExtension(n),n}),define("esui/validator/ValidityState",["eoo"],function(){var e=require("eoo"),t=e.create({constructor:function(e,t){this.state=e,this.message=t||""},getMessage:function(){return this.message},getState:function(){return this.state},setMessage:function(e){this.message=e},setState:function(e){this.state=e}});return t}),define("esui/validator/Rule",["require","./ValidityState","../lib","eoo"],function(require){var e=require("./ValidityState"),t=require("../lib"),i=require("eoo"),n=i.create({type:null,errorMessage:"${title}验证失败",check:function(){return new e(!0,"")},getErrorMessage:function(e){var i=e.get(this.type+"ErrorMessage")||this.errorMessage;return t.format(i,e)},getLimitCondition:function(e){return e.get(this.type)},getName:function(){return this.type}});return n}),define("esui/validator/MaxLengthRule",["require","./Rule","./ValidityState","eoo","../main","../lib"],function(require){var e=require("./Rule"),t=require("./ValidityState"),i=require("eoo"),n=require("../main"),r=require("../lib"),a=i.create(e,{type:"maxLength",errorMessage:"${title}不能超过${maxLength}个字符",check:function(e,i){return new t(e.length<=this.getLimitCondition(i),this.getErrorMessage(i))},getErrorMessage:function(e){var t=e.get(this.type+"ErrorMessage")||this.errorMessage,i=this.getLimitCondition(e),n={title:e.get("title"),maxLength:i,length:i};return r.format(t,n)},getLimitCondition:function(e){return e.get("length")||e.get("maxLength")}});return n.registerRule(a,100),a}),define("esui/validator/MaxRule",["require","./Rule","./ValidityState","eoo","../main"],function(require){var e=require("./Rule"),t=require("./ValidityState"),i=require("eoo"),n=require("../main"),r=i.create(e,{type:"max",errorMessage:"${title}不能大于${max}",check:function(e,i){var n=+e,r=!isNaN(n)&&n<=this.getLimitCondition(i);return new t(!e||r,this.getErrorMessage(i))}});return n.registerRule(r,301),r}),define("esui/validator/MinRule",["require","./Rule","./ValidityState","eoo","../main"],function(require){var e=require("./Rule"),t=require("./ValidityState"),i=require("eoo"),n=require("../main"),r=i.create(e,{type:"min",errorMessage:"${title}不能小于${min}",check:function(e,i){var n=+e,r=!isNaN(n)&&n>=this.getLimitCondition(i);return new t(!e||r,this.getErrorMessage(i))}});return n.registerRule(r,300),r}),define("esui/validator/RequiredRule",["require","./Rule","./ValidityState","eoo","../main"],function(require){var e=require("./Rule"),t=require("./ValidityState"),i=require("eoo"),n=require("../main"),r=i.create(e,{type:"required",errorMessage:"${title}不能为空",check:function(e,i){return new t(!!e,this.getErrorMessage(i))}});return n.registerRule(r,0),r}),define("esui/validator/PatternRule",["require","./Rule","./ValidityState","eoo","../main"],function(require){var e=require("./Rule"),t=require("./ValidityState"),i=require("eoo"),n=require("../main"),r=i.create(e,{type:"pattern",errorMessage:"${title}格式不符合要求",check:function(e,i){var n=new RegExp(this.getLimitCondition(i));return new t(!e||n.test(e),this.getErrorMessage(i))}});return n.registerRule(r,200),r}),define("esui/extension/TableEdit",["require","../validator/MaxLengthRule","../validator/MaxRule","../validator/MinRule","../validator/RequiredRule","../validator/PatternRule","../Extension","../lib","../main","../Table","../validator/ValidityState","../validator/Validity","../Layer","underscore","eoo"],function(require){function e(e,i){if(rt=e,K=i.rowIndex,Z=i.columnIndex,!et)et=O.create(),document.body.appendChild(et),et.className=e.helper.getPartClassName("editor"),t();et.style.zIndex=e.zIndex||"",n(i)}function t(){a(),i()}function i(){var e=E.init(et);it=s(e,W),nt=s(e,B),it.on("click",c()),nt.on("click",m()),b(1)}function n(e){if(e.field&&at!==e.field){tt&&tt.dispose(),tt=null;var t=F+st++,i=q+st,n=I.g(R),r=I.g(z);n.innerHTML=I.format(X,{inputId:t}),r.innerHTML=I.format(J,{validId:i});var a={properties:{}};a.properties[t]=$.extend({id:t,validityLabel:q+st},e.field.editRules),tt=E.init(n,a)[0],E.init(r),tt.on("enter",c()),at=e.field}}function r(e){if(e===rt){o(),tt.dispose(),it.dispose(),nt.dispose();try{et&&document.body.removeChild(et)}catch(t){}et=null,tt=null,it=null,nt=null,rt=null,at=null}}function a(){et.innerHTML=I.format(V,{inputFieldId:R,okId:W,cancelId:B,okText:G,cancelText:U,optClass:rt.helper.getPartClassName("editor-opt"),errorClass:rt.helper.getPartClassName("editor-error"),errorId:z,editorBtnClass:rt.helper.getPartClassName("editor-buttons")})}function s(e,t){for(var i=e.length-1;i>=0;i--){var n=e[i];if(n.id===t)return n}}function o(){et&&(et.style.display="none")}function l(){et&&(et.style.display="")}function d(e){if(e){var t=new H;t.addState("TableEditCustomRule",new j(!1,e)),tt.showValidity(t)}}function u(){var e=new H;e.addState("TableEditCustomRule",new j(!0)),tt.showValidity(e)}function c(){return function(){h()}}function h(){if(tt.validate()){var e={value:M(),rowIndex:K,columnIndex:Z,field:rt.realFields[Z]},t=rt.fire("saveedit",e);if(S(rt,"saveedit",e),!t.isDefaultPrevented())f.call(rt,e);else p.call(rt,e)}}function f(){if(this===rt)o(),Q=0}function p(e){if(this===rt&&e.errorMsg)d(e.errorMsg)}function m(){return function(){_()}}function g(){if(this===rt)y(this)}function v(){if(this===rt)y(this)}function y(e){if(et){var t=I.g(e.getBodyCellId(K,Z));if(t)O.attachTo(et,t)}}function _(){Q=0,o(),b(1);var e={rowIndex:K,columnIndex:Z,field:rt.realFields[Z]};rt.fire("canceledit",e),S(rt,"canceledit",e)}function x(t,i){if(Q&&rt)_();Q=1,e(t,i),b(0),l();var n=I.g(t.getBodyCellId(i.rowIndex,i.columnIndex));O.attachTo(et,n),w(i.value),u()}function b(e){it.setDisabled(e),nt.setDisabled(e)}function w(e){tt.setValue(e)}function M(){return tt.getValue()}function C(e){var t=this;if(t.startEdit){var i=I.getAttribute(e,"data-row"),n=I.getAttribute(e,"data-col");t.startEdit(i,n,e)}}function L(e,t,i){if(this.editable){var n=this.realFields[t],r={rowIndex:e,columnIndex:t,field:n},a=this.fire("startedit",r);if(S(this,"startedit",r),!a.isDefaultPrevented()){var s=this.datasource[e],o=n.editContent,l="function"==typeof o?o.call(this,s,e,t):s[n.field];x(this,{field:n,rowIndex:e,columnIndex:t,element:i,value:l})}}}function T(){if(this===rt)_()}function k(){if(this===rt)o()}function D(){if(this===rt)l()}function Y(e,t,i,n,r,a){var s=i.editable;if("function"==typeof s)s=s.call(e,t,n,r,a);var o=e.helper.getIconClass();if(e.editable&&s)return{textClass:e.getClass("cell-editable"),html:I.format(lt,{className:e.getClass("cell-editentry")+" "+o,row:n,col:r})};else return void 0}function S(e,t,i){var n=i.field["on"+t];if(n&&"[object Function]"===Object.prototype.toString.call(n))n.call(e,i)}require("../validator/MaxLengthRule"),require("../validator/MaxRule"),require("../validator/MinRule"),require("../validator/RequiredRule"),require("../validator/PatternRule");var P=require("../Extension"),I=require("../lib"),E=require("../main"),N=require("../Table"),j=require("../validator/ValidityState"),H=require("../validator/Validity"),O=require("../Layer"),$=require("underscore"),A=require("eoo"),V=['<div class="${optClass}">','<div id="${inputFieldId}"></div>','<div class="${editorBtnClass}">','<button data-ui="id:${okId};type:Button;variants:primary">${okText}</button> ','<button data-ui="id:${cancelId};type:Button;variants:link">',"${cancelText}","</button>","</div>","</div>",'<div class="${errorClass}" id="${errorId}"></div>'].join(""),R="ctrl-table-editor-inputField",F="ctrl-table-editorInput",q="ctrl-table-editor-validityLabel",W="ctrl-table-editor-ok",B="ctrl-table-editor-cancel",z="ctrl-table-editor-error",G="确定",U="取消",X='<input data-ui="type:TextBox;id:${inputId}"/>',J='<label data-ui="type:Validity;id:${validId}"></label>',K=-1,Z=-1,Q=0,et=null,tt=null,it=null,nt=null,rt=null,at=null,st=1,ot=A.create(P,{type:"TableEdit",activate:function(){var e=this.target;if(e instanceof N)e.startEdit=L,e.cancelEdit=T,e.hideEditLayer=k,e.showEditError=D,e.addRowBuilders([{index:3,getColHtml:Y}]),e.addHandlers("click",{handler:C,matchFn:e.helper.getPartClassName("cell-editentry")}),e.on("enddrag",g),e.on("resize",v),this.$super(arguments)},inactivate:function(){var e=this.target;if(e instanceof N)delete e.startEdit,delete e.cancelEdit,e.un("enddrag",g),e.un("resize",v),r(e),this.$super(arguments)}}),lt='<div class="${className}" data-row="${row}" data-col="${col}"></div>';return E.registerExtension(ot),ot}),define("esui/extension/TableSubrow",["require","../Extension","../lib","../main","../Table","jquery","eoo"],function(require){function e(e,t){return e.helper.getId(t)}function t(e,t){return e.helper.getPartClassName(t)}function i(e,t,i){w(e).attr("data-"+t,i)}function n(e){return!("undefined"==typeof e||null===e)}function r(t,i){return e(t,"subrow")+i}function a(t,i){return e(t,"subentry")+i}function s(e){return{subrow:e.subrow&&"false"!==e.subrow}}function o(e){l(this,e)}function l(e,t){var i=/subentry-opened/.test(t.className),n="subentry-hover";if(i)n="subentry-opened-hover";e.helper.addPartClasses(n,t)}function d(e){u(this,e)}function u(e,t){e.helper.removePartClasses(e,"subentry-hover",t),e.helper.removePartClasses(e,"subentry-opened-hover",t)}function c(e){var t=this,i=w(e),n=i.data("index"),r=t.datasource,a=r instanceof Array&&r.length;if(a&&!(n>=a)){if("1"!==i.attr("data-subrowopened")){var s=r[n],o={index:n,item:s},d=t.fire("subrowopen",o);if(!d.isDefaultPrevented())f(t,n,e)}else h(t,n,e);l(t,e)}}function h(e,t,n){var a={index:t,item:e.datasource[t]};if(a=e.fire("subrowclose",a),!a.isDefaultPrevented())return u(e,n),e.subrowIndex=null,e.helper.removePartClasses("subentry-opened",n),e.helper.removePartClasses("row-unfolded",e.getRow(t)),i(n,"title",e.subEntryOpenTip),i(n,"subrowopened",""),_.g(r(e,t)).style.display="none",!0;else return!1}function f(e,t,s){var o=e.subrowIndex,l=1;if(n(o))l=h(e,o,_.g(a(e,o)));if(l)e.helper.addPartClasses("subentry-opened",s),e.helper.addPartClasses("row-unfolded",e.getRow(t)),i(s,"title",e.subEntryCloseTip),i(s,"subrowopened","1"),_.g(r(e,t)).style.display="",e.subrowMutex&&(e.subrowIndex=t)}function p(e,i,n,r,s,o){var l=o.subrow,d=l&&n.subEntry,u={notInText:!0,width:e.subEntryWidth,align:"right"},c=e.helper.getIconClass();if(d){var h="function"==typeof n.isSubEntryShow?n.isSubEntryShow.call(e,i,r,s):!0;if(h!==!1)u.html=_.format(L,{className:t(e,"subentry")+" "+c,id:a(e,r),title:e.subEntryOpenTip,index:r});u.colClass=t(e,"subentryfield")}return u}function m(e,i,n){var a=e.datasource?e.datasource.length:0;return n.subrow?'<div id="'+r(e,i)+'" class="'+t(e,"subrow")+" "+(a===i+1?t(e,"subrow-last"):"")+'" style="display:none"></div>':""}function g(e,t){return _.g(r(e,t))}function v(t,i){var n=g(t,i),r=e(t,"subrow-panel-"+i),a=t.bodyPanel.getChild(r);if(!a)n.innerHTML=_.format(T,{id:r,index:i}),t.initChildren(n),a=t.viewContext.get(r),t.bodyPanel.addChild(a,r);return a}var y=require("../Extension"),_=require("../lib"),x=require("../main"),b=require("../Table"),w=require("jquery"),M=require("eoo"),C=M.create(y,{type:"TableSubrow",activate:function(){var e=this.target;if(e instanceof b){var t=e.helper.getPartClassName("subentry");e.addRowBuilders([{index:0,getRowArgs:s,getColHtml:p,getSubrowHtml:m}]),e.addHandlers("click",{handler:c,matchFn:t}),e.addHandlers("mouseover",{handler:o,matchFn:t}),e.addHandlers("mouseout",{handler:d,matchFn:t}),e.getSubrow=function(e){return g(this,e)},e.setSubrowContent=function(e,t){var i=v(this,t);if(i)i.set("content",e)},e.getSubrowContainer=function(e){return v(this,e)},e.openSubrow=function(e){var t=_.g(a(this,e));f(this,e,t)},e.closeSubrow=function(e){var t=_.g(a(this,e));h(this,e,t)},this.$super(arguments)}},inactivate:function(){var e=this.target;if(e instanceof b)delete e.getSubrow,this.$super(arguments)}}),L='<div class="${className}" id="${id}" title="${title}" data-index="${index}"></div>',T='<div data-ui="type:Panel;id:${id}" data-index="${index}"></div>';return x.registerExtension(C),C}),define("esui/Form",["require","underscore","./lib","./main","./Panel","eoo","jquery"],function(require){function e(e){this.length=e.length;for(var t=0;t<e.length;t++)this[t]=e[t]}function t(e,t){for(var i={},n=0;n<e.length;n++){var r=e[n];if("check"!==r.getCategory()||r.isChecked())if(!r.isDisabled()){var a=r.get("name"),s=t(r);if(i.hasOwnProperty(a))i[a]=[].concat(i[a],s);else i[a]=s}else;else;}return i}function i(e){var t=e.getCategory();return"input"===t||"check"===t}var n=require("underscore"),r=require("./lib"),a=require("./main"),s=require("./Panel"),o=require("eoo"),l=require("jquery");e.prototype.splice=Array.prototype.splice,e.prototype.getData=function(){return t(this,function(e){return e.getRawValue()})},e.prototype.getDataAsString=function(){var e=t(this,function(e){var t=e.getValue();return encodeURIComponent(t)}),i="";return n.each(e,function(e,t){i+=encodeURIComponent(t)+"="+e}),i},e.prototype.getValueAsString=function(e){var t=this.getData(),i=t[e],n=i?"string"==typeof i?i:i.join(","):"";return n},e.prototype.checkAll=function(){for(var e=0;e<this.length;e++){var t=this[e];if("check"===t.getCategory())t.setChecked(!0)}},e.prototype.uncheckAll=function(){for(var e=0;e<this.length;e++){var t=this[e];if("check"===t.getCategory())t.setChecked(!1)}},e.prototype.checkInverse=function(){for(var e=0;e<this.length;e++){var t=this[e];if("check"===t.getCategory())t.setChecked(!t.isChecked())}},e.prototype.checkByValue=function(e){for(var t=r.toDictionary(e),i=0;i<this.length;i++){var n=this[i];if("check"===n.getCategory()){var a=t.hasOwnProperty(n.getValue());n.setChecked(a)}}};var d=o.create(s,{type:"Form",validateAndSubmit:function(){var e=this.fire("beforevalidate");if(!e.isDefaultPrevented())try{var t=this.get("autoValidate")?this.validate():!0,i=this.fire("aftervalidate",{isValid:t});if(i.isDefaultPrevented())return;var n={triggerSource:this};if(t)this.fire("submit",n);else this.fire("invalid",n)}catch(r){this.fire("submitfail",{error:r})}},initEvents:function(){if("form"===this.main.nodeName.toLowerCase())this.helper.addDOMEvent(this.main,"submit",function(e){return this.validateAndSubmit(),e.preventDefault(),!1})},createMain:function(e){var t=document.createElement("form");return t.method="POST",t.action=e.action||"",t},initOptions:function(e){var t=n.extend({},d.defaultProperties,e);if("form"===this.main.nodeName.toLowerCase())t.action=this.main.getAttribute("action"),t.method=this.main.getAttribute("method");else t.method=this.method||"POST";if("false"===e.autoValidate)t.autoValidate=!1;else t.autoValidate=!!t.autoValidate;s.prototype.initOptions.call(this,t)},getInputControls:function(t,n){var r=[],s=a.getConfig("instanceAttr"),o=this;return l(o.main).find("["+s+"]").each(function(e,s){var l=a.getControlByDOM(s);if(l&&i(l)&&l.viewContext===o.viewContext&&l.get("name")&&(!t||l.get("name")===t)&&(!n||l.get("type")===n))r.push(l)}),new e(r)},getData:function(){var e=this.getInputControls();return e.getData()},getDataAsString:function(){var e=this.getInputControls();return e.getDataAsString()},validate:function(){for(var e=this.getInputControls(),t=!0,i=0;i<e.length;i++){var n=e[i];if(!n.isDisabled())t&=n.validate();else;}return!!t},repaint:function(e,t){s.prototype.repaint.apply(this,arguments);var i=!1;if(!t&&this.submitButton)i=!0;var n=this,r=function(e){return n.validateAndSubmit.call(n,e),!1};if(t&&t.hasOwnProperty("submitButton")){var a=t.submitButton;if(a.oldValue){for(var o=0;o<a.oldValue.length;o++){var l=this.viewContext.get(a.oldValue[o]);if(l)l.un("click",r)}i=!!this.submitButton}}if(i)for(var d=0;d<this.submitButton.length;d++){var u=this.viewContext.get(this.submitButton[d]);if(u)u.on("click",r)}},setProperties:function(e){if(e=n.clone(e),e.hasOwnProperty("submitButton"))e.submitButton=r.splitTokenList(e.submitButton);this.$super([e])}});return d.defaultProperties={autoValidate:!1},a.register(d),d}),define("esui/Frame",["require","./Control","eoo","./painters","./main","underscore"],function(require){var e=require("./Control"),t=require("eoo"),i=require("./painters"),n=require("./main"),r=require("underscore"),a=t.create(e,{type:"Frame",createMain:function(){return document.createElement("iframe")},initOptions:function(e){var t={};if(r.extend(t,e),!t.src)t.src=this.main.src;this.setProperties(t)},initEvents:function(){var e=this.helper;e.delegateDOMEvent(this.main,"load"),e.addDOMEvent(this.main,"message",function(e){var t={origin:e.origin,data:e.data};this.fire("message",t)})},repaint:i.createRepaint(e.prototype.repaint,{name:"src",paint:function(e,t){if(e.main.src!==t)e.main.src=t}},i.style("height"),i.style("width")),callContentMethod:function(e){var t=[].slice.call(arguments,1),i=this.main.contentWindow;if(!i)throw new Error("No content window on this iframe");if("function"!=typeof i[e])throw new Error('No "'+e+'" method on window');return i[e].apply(i,t)},postMessage:function(e,t){var i=this.main.contentWindow;if(!i)throw new Error("No content window on this iframe");if("function"!=typeof i.postMessage)throw new Error("Current browser does not support postMessage");i.postMessage(e,t)}});return n.register(a),a}),define("esui/Link",["require","underscore","./Control","./painters","eoo","./main","jquery"],function(require){var e=require("underscore"),t=require("./Control"),i=require("./painters"),n=require("eoo"),r=require("./main"),a=require("jquery"),s=n.create(t,{type:"Link",getCategory:function(){return"container"},createMain:function(){return document.createElement("a")},initOptions:function(t){var i={};if(e.extend(i,t),null==i.href)i.href=this.main.href;if(null==i.target)i.target=this.main.target;if(null==i.content)i.content=this.main.innerHTML;e.extend(this,i)},initEvents:function(){this.helper.delegateDOMEvent(this.main,"click")},render:function(){var e=a(this.main);if(e.is("a"))this.$super(arguments);else e.html("Invalid Tag: Only a element is allowed.")},repaint:i.createRepaint(t.prototype.repaint,i.attribute("href"),i.attribute("target"),{name:"content",paint:function(e,t){e.helper.disposeChildren(),e.main.innerHTML=t,e.helper.initChildren()}})});return r.register(s),s}),define("esui/Pager",["require","underscore","jquery","./lib","./main","./Control","./painters","eoo","./Select"],function(require){function e(e){var t=['<div id="${pagerWrapperId}" class="${pagerWrapperClass}">','<div id="${selectWrapperId}" ','class="${selectWrapperClass}">','<span id="${labelId}" class="${labelClass}">',"${labelText}</span>",'<div data-ui="type:Select;childName:select;variants:compact;','id:${selectPagerId};" class="${selectClass}"></div>',"</div>",'<ul id="${mainId}" class="${mainClass}"></ul>',"</div>"],i=e.helper;return d.format(t.join(""),{pagerWrapperId:i.getId("pager-wrapper"),pagerWrapperClass:i.getPartClassName(e.layout),selectWrapperId:i.getId("select-wrapper"),selectWrapperClass:i.getPartClassName("select-wrapper"),labelId:i.getId("label"),labelClass:i.getPartClassName("label"),labelText:e.pagerLabelText,selectPagerId:i.getId("selectPager"),selectClass:i.getPartClassName("select"),mainId:i.getId("main"),mainClass:i.getPartClassName("main")})}function t(e){function t(t){return d.format(e.urlTemplate,{page:t,pageSize:e.pageSize})}function i(i,n,r,a){var s=[];o.each(i.split(" "),function(t){s.push(e.helper.getPartClassName(t))});var l={className:s.join(" ")};if(arguments.length>1)l.link=t(n),l.id=e.helper.getId(r),l.page=n,l.text=a;return l}function n(t,i){if(!i){var n={anchor:s,plain:a};i=n[e.pageType]||n.anchor}return d.format(i,t)}function r(e,t){if("number"==typeof e)e=i("item",e,"page-"+e,e);var r=n(e,t);u.push(r)}var a='<li class="${className}" id="${id}" data-page="${page}">${text}</li>',s='<li class="${className}" id="${id}"><a href="${link}">${text}</a></li>',l='<li class="${className}">…</li>',u=[],c=e.pagePattern,h=e.page,f=e.backCount,p=e.forwardCount,m=Math.ceil(e.count/e.pageSize);if(h>1){if("fullPattern"===c){var g=i("item-extend item-first",0,"page-first",e.firstText);r(g)}r(i("item-extend",h-1,"page-back",e.backText))}if(h>f+1)if(r(1),h>f+2)r(i("item-omit"),l);for(var v=h>f?f:h-1,y=h-v;h>y;y++)r(y);r(i("item-current",h,"page-"+h,h),a);for(var _=m-h>p?p:m-h,x=h+1;h+_+1>x;x++)r(x);if(m-p>h){if(m-p-1>h)r(i("item-omit"),l);r(m)}if(m>h)if(r(i("item-extend",h+1,"page-forward",e.forwardText)),"fullPattern"===c)r(i("item-extend item-last",Math.ceil(e.count/e.pageSize),"page-last",e.lastText));return u.join("")}function i(e){var i=e.pageSize;i=i>0?i:1,e.pageSize=i,e.getChild("select").set("value",i+"");var n=Math.ceil(e.count/i),r=e.page;r=r>n?n:r,r=r>0?r:1,e.page=r;var a=e.helper.getPart("main");a.innerHTML=t(e)}function n(e,t){function i(){for(var t=[],i=0,n=arguments.length;n>i;i++)t.push(e.helper.getPartClassName(arguments[i]));return t.join(" ")}var n=l(e.helper.getPart("pager-wrapper"));n.removeClass(i("alignLeft","alignLeftReversed","alignRight","alignRightReversed","distributed","distributedReversed")),n.addClass(e.helper.getPartClassName(t))}function r(e){var t=e.target,i=this.helper,n=i.getId("page-last"),r=i.getId("page-back"),a=i.getId("page-forward"),s=i.getId("page-first"),o=this.page;if(i.isPart(t,"item")||i.isPart(t,"item-extend")){if(t.id===r)o--;else if(t.id===n)o=Math.ceil(this.count/this.pageSize);else if(t.id===a)o++;else if(t.id===s)o=1;else o=+d.getAttribute(t,"data-page");this.set("page",o)}}function a(e){var t=o.map(e,function(e){return{text:e+"",value:e+""}});return t}function s(){var e=parseInt(this.getChild("select").getValue(),10);this.pageSize=e,i(this),this.fire("changepagesize"),this.fire("pagesizechange")}var o=require("underscore"),l=require("jquery"),d=require("./lib"),u=require("./main"),c=require("./Control"),h=require("./painters"),f=require("eoo");require("./Select");var p=f.create(c,{type:"Pager",initOptions:function(e){var t={pageType:"anchor",count:0,page:1,backCount:3,forwardCount:3,urlTemplate:"",layout:"alignLeft"};o.extend(t,p.defaultProperties,e),this.setProperties(t)},initStructure:function(){this.main.innerHTML=e(this),this.helper.initChildren();var t=this.getChild("select");if(!this.pageSizes||!this.pageSizes.length)t.hide();else{var i={datasource:a(this.pageSizes),value:this.pageSize+""};t.setProperties(i),s.call(this)}},initEvents:function(){var e=this.getChild("select");e.on("change",o.bind(s,this)),this.helper.addDOMEvent("main","click",r)},setProperties:function(e){if(e=o.clone(e),e.hasOwnProperty("pageIndex")&&!e.hasOwnProperty("page"))e.page=+e.pageIndex+1;var t=["count","page","backCount","forwardCount","pageSize"];o.each(t,function(t){var i=e[t];if(o.isString(i))e[t]=+i});var i=c.prototype.setProperties.apply(this,arguments);if(i.hasOwnProperty("page"))this.fire("changepage"),this.fire("pagechange")},repaint:h.createRepaint(c.prototype.repaint,{name:"pageSizes",paint:function(e,t){var i=e.getChild("select");if(!t||!t.length)i.hide();else{var n={datasource:a(t),value:e.pageSize+""};i.setProperties(n),i.show()}}},{name:"layout",paint:n},{name:["pageType","count","pageSize","page","backCount","forwardCount","firstText","lastText","backText","pagePattern","forwardText","urlTemplate"],paint:i}),getPageIndex:function(){return this.get("page")-1}});return p.defaultProperties={pagerLabelText:"每页显示",firstText:"首页",lastText:"末页",backText:"上一页",forwardText:"下一页",pageSizes:[15,30,50,100],pageSize:15},u.register(p),p}),define("esui/RangeCalendar",["require","./Button","./MonthView","./CheckBox","./Label","jquery","./lib","./InputControl","./Layer","./main","moment","underscore","eoo","./painters"],function(require){function e(e,t,i){if("render"===i){var n=e.helper,r=n.getPart("shortcut"),a="."+n.getPartClassName("shortcut-item");n.addDOMEvent(r,"click",a,f);var s=e.getChild("endlessCheck");if(s)if(s.on("change",T.partial(o,e)),e.isEndless)s.setChecked(!0),n.addPartClasses("shortcut-disabled",n.getPart(e));var l=e.getChild("okBtn");l.on("click",T.partial(m,e));var u=e.getChild("cancelBtn");u.on("click",T.bind(e.layer.hide,e.layer));var p=e.getChild("closeBtn");p.on("click",T.bind(e.layer.hide,e.layer)),e.layer.on("hide",function(e){function t(e){e.getChild("yearSel").layer.hide(),e.getChild("monthSel").layer.hide()}var i=e.target.control;t(i.getChild("beginCal")),t(i.getChild("endCal"))})}else{e.view.begin=t.begin,e.view.end=t.end,e.value=e.convertToParam(t);var g;if(!t.end)g=!0;else g=!1;e.setProperties({isEndless:g})}h(e,"begin",e.view.begin,"render"===i),h(e,"end",e.view.end,"render"===i);var v=d(e,e.view);c(e,v)}function t(e){var t=e.helper,i='<div class="${shortCutClass}" id="${shortcutId}">${shortCut}</div><div class="${bodyClass}">${beginCalendar}${endCalendar}</div><div class="${footClass}"><div class="${okBtnClass}" data-ui="type:Button;childName:okBtn;variants:primary">${okButtonText}</div><div class="${cancelBtnClass}" data-ui="type:Button;childName:cancelBtn;variants:link">${cancelLinkText}</div></div><div class="${closeIconContainer}" data-ui="type:Button;childName:closeBtn;variants:link"><span class="${closeIcon}"></span></div>';return b.format(i,{bodyClass:t.getPartClassName("body"),shortcutId:t.getId("shortcut"),shortCutClass:t.getPartClassName("shortcut"),shortCut:a(e),beginCalendar:s(e,"begin"),endCalendar:s(e,"end"),footClass:t.getPartClassName("foot"),okBtnClass:t.getPartClassName("okBtn"),cancelBtnClass:t.getPartClassName("cancelBtn"),closeIconContainer:t.getPartClassName("close-icon-container"),closeIcon:t.getIconClass("close"),okButtonText:e.okButtonText,cancelLinkText:e.cancelLinkText})
}function i(e){return L(e).startOf("day").toDate()}function n(e){return L(e).endOf("day").toDate()}function r(e,t){var r=e.range,a=t.getValue.call(e,e.now);if(i(r.begin)>i(r.begin)||n(a.end)<n(a.end))return!0;else return!1}function a(e){for(var t=e.shownShortCut.split(","),i={},n=0;n<t.length;n++)i[t[n]]=!0;for(var a='<span data-index="${shortIndex}" class="'+e.helper.getPartClassName("shortcut-item")+' ${shortClass}" id="${shortId}">${shortName}</span>',s=e.shortCutItems,o=s.length,l=[],d=0;o>d;d++){var u=s[d];if(i[u.name]){var c=u.name,h=[];if(0===d)h=h.concat(e.helper.getPartClasses("shortcut-item-first"));var f=r(e,u);if(f)h=h.concat(e.helper.getPartClasses("shortcut-item-disabled"));var p=e.helper.getId("shortcut-item"+d);l.push(b.format(a,{shortIndex:d,shortClass:h.join(" "),shortId:p,shortName:c}))}}return l.join("")}function s(e,t){var i="";if(e.endlessCheck&&"end"===t)i='<input type="checkbox" title="${noEndLabel}" data-ui-type="CheckBox" data-ui-variants="custom"data-ui-child-name="endlessCheck" />';var n='<div class="${frameClass}"><div class="${labelClass}"><h3>${labelTitle}</h3>'+i+'</div><div class="${calClass}"><div data-ui="type:MonthView;childName:${calName}"></div></div></div>';return b.format(n,{frameClass:e.helper.getPartClassName(t),labelClass:e.helper.getPartClassName("label"),labelTitle:"begin"===t?e.startCalendarLabel:e.endCalendarLabel,titleId:e.helper.getId(t+"Label"),calClass:e.helper.getPartClassName(t+"-cal"),calName:t+"Cal",noEndLabel:e.noEndLabel})}function o(e){var t=e.getChild("endCal"),i=e.helper.getPart("shortcut");if(this.isChecked())e.isEndless=!0,t.disable(),e.view.end=null,e.helper.addPartClasses("shortcut-disabled",i);else e.isEndless=!1,t.enable(),p.apply(e,[t,"end"]),e.helper.removePartClasses("shortcut-disabled",i)}function l(e,t){if(!e&&t||e&&!t)return!1;else if(!e&&!t)return!0;return L(e).isSame(t,"day")}function d(e,t){for(var i=e.shortCutItems,n=i.length,r=0;n>r;r++){var a=i[r],s=a.getValue.call(e,e.now);if(l(t.begin,s.begin)&&l(t.end,s.end))return r}return-1}function u(e,t){var i=e,n=e.shortCutItems;if(!(0>t||t>=n.length)){var r=n[t].getValue.call(i,i.now),a=r.begin,s=r.end;e.view={begin:a,end:s},h(e,"begin",a),h(e,"end",s),c(i,t)}}function c(e,t){var i=e.shortCutItems,n=e.miniMode;if(null!==n&&n!==t)e.helper.removePartClasses("shortcut-item-selected",e.helper.getPart("shortcut-item"+n));if(e.miniMode=t,t>=0)e.helper.addPartClasses("shortcut-item-selected",e.helper.getPart("shortcut-item"+t)),e.curMiniName=i[t].name;else e.curMiniName=null}function h(e,t,i,n){var r=e.getChild(t+"Cal");if(r){if(n===!0)r.on("change",T.bind(p,e,r,t)),r.on("changemonth",T.bind(_,null,e));r.setProperties({rawValue:i,range:e.range})}}function f(e){if(!this.isEndless){var t=x(e.currentTarget),i=this.helper.getPartClassName("shortcut-item-disabled");if(!t.hasClass(i))u(this,t.attr("data-index"))}}function p(e,t){var i=e.getRawValue();if(i){this.view[t]=i;var n=d(this,this.view);c(this,n),_(this)}}function m(e){var t=e,i=e.view,n=i.begin,r=i.end;if(e.isEndless)r=null;var a=r-n;if(!r)a=n;var s;if(a>0)s={begin:n,end:r};else if(null!==r)s={begin:r,end:n};var o=t.fire("beforechange",{value:s});if(!o.isDefaultPrevented())t.rawValue=s,t.value=t.convertToParam(s),g(t,s),t.layer.hide(),t.fire("change",s)}function g(e,t){var i=e.helper.getPart("text");i.innerHTML=v(e,t)}function v(e,t){var i=y(e,t);if(e.isEndless&&i)return i;var n="";if(!e.curMiniName&&null!==e.miniMode&&e.miniMode>=0&&e.miniMode<e.shortCutItems.length)e.curMiniName=e.shortCutItems[e.miniMode].name;if(e.curMiniName)n=e.curMiniName+"&nbsp;&nbsp;";if(i)return n+i;else return""}function y(e,t){t=t||e.getRawValue();var i=t.begin,n=t.end,r=e.dateFormat,a=e.fromLabelText,s="";if(i&&n)s=L(i).format(r)+" "+e.toLabelText+" "+L(n).format(r);else if(!n)if("before"===e.fromLabelPosition)s=a+" "+L(i).format(r);else s=L(i).format(r)+" "+a;return s}function _(e){function t(e,t){var n=new Date(e.year,e.month,1);n=L(n);for(var r=n.clone().endOf("month"),o=n;r>=o;){var l=!0;if("begin"===t&&(o<=L(a)||o>L(s)))l=!1;else if("end"===t&&(o<L(a)||o>=L(s)))l=!1;i(e,o.toDate(),l),o.add("day",1)}}function i(e,t,i){var n=e.getDateItemHTML(t);if(i)e.helper.addPartClasses("month-item-highlight",n);else e.helper.removePartClasses("month-item-highlight",n)}var n=e.getChild("beginCal"),r=e.getChild("endCal"),a=e.view.begin,s=e.view.end;t(n,"begin"),t(r,"end")}require("./Button"),require("./MonthView"),require("./CheckBox"),require("./Label");var x=require("jquery"),b=require("./lib"),w=require("./InputControl"),M=require("./Layer"),C=require("./main"),L=require("moment"),T=require("underscore"),k=require("eoo"),D=require("./painters"),Y=k.create(M,{create:function(){var e=this.$super(arguments);return x(this.control.main).after(e),e},render:function(i){var n=this.control;i.innerHTML=t(n),n.helper.initChildren(i),e(n,n.view,"render")},toggle:function(){var t=this.getElement();if(!t||!x(t).is(":visible")){var i=this.control;e(i,i.rawValue,"repaint"),this.show()}else this.hide()}}),S=k.create(w,{constructor:function(e){this.now=new Date,this.$super([e]),this.layer=new Y(this)},type:"RangeCalendar",convertToParam:function(e){var t=e.begin,i=e.end,n=" 00:00:00",r=" 23:59:59",a=[];if(a.push(L(t).format("YYYY-MM-DD")+n),i)a.push(L(i).format("YYYY-MM-DD")+r);return a.join(",")},convertToRaw:function(e){var t=e.split(",");if(1===t.length)t.push("2046-11-04");else if(""===t[0])t[0]="1983-09-03";else if(""===t[1])t[1]="2046-11-04";return{begin:L(t[0],"YYYY-MM-DD").toDate(),end:L(t[1],"YYYY-MM-DD").toDate()}},initOptions:function(e){var t=this.now,i={begin:t,end:t},n={endlessCheck:!1,rawValue:i,view:T.clone(i),value:this.convertToParam(i)};if(x(this.main).is("input"))this.helper.extractOptionsFromInput(this.main,n);if(T.extend(n,S.defaultProperties),e.value)n.rawValue=this.convertToRaw(e.value),n.view={begin:n.rawValue.begin,end:n.rawValue.end},n.miniMode=null;else if(e.rawValue)n.miniMode=null;else if(!e.rawValue&&null!=e.miniMode){var r=n.shortCutItems[n.miniMode];if(r)n.rawValue=r.getValue.call(this,this.now),n.miniMode=parseInt(n.miniMode,10);else n.miniMode=null}if(T.extend(n,e),e.range&&"string"==typeof e.range)n.range=this.convertToRaw(n.range);else if(!n.rawValue.end)n.endlessCheck=!0,n.isEndless=!0;if(n.isEndless)n.endlessCheck=!0,n.rawValue.end=null,n.view.end=null,n.view.value=this.convertToParam({begin:t,end:null});this.setProperties(n)},initStructure:function(){if(b.isInput(this.main))this.helper.replaceMain();var e=['<div class="${className}" id="${id}"></div>','<div class="${arrow}"><span class="${iconCalendar}"></span></div>'];this.layer.autoCloseExcludeElements=[this.main],this.main.innerHTML=b.format(e.join("\n"),{className:this.helper.getPartClassName("text"),id:this.helper.getId("text"),arrow:this.helper.getPartClassName("arrow"),iconCalendar:this.helper.getIconClass("calendar")})},initEvents:function(){this.helper.addDOMEvent(this.main,"click",T.bind(this.layer.toggle,this.layer))},repaint:D.createRepaint(w.prototype.repaint,{name:["rawValue","range"],paint:function(t,i,n){if(n){if("string"==typeof n)n=t.convertToRaw(n);if(!n.begin)n.begin=new Date(1983,8,3);else if(!n.end)n.end=new Date(2046,10,4);t.range=n}if(i)g(t,i);if(t.layer)e(t,i)}},{name:["disabled","hidden","readOnly"],paint:function(e,t,i,n){if(t||i||n)e.layer.hide()}},{name:"isEndless",paint:function(e,t){if(!e.endlessCheck)e.isEndless=!1;else{var i=e.getChild("endlessCheck");if(i)i.setChecked(t)}}}),setRawValue:function(e){this.setProperties({rawValue:e})},getRawValue:function(){return this.rawValue},stringifyValue:function(e){return this.convertToParam(e)||""},parseValue:function(e){return this.convertToRaw(e)},dispose:function(){if(!this.helper.isInStage("DISPOSED")){if(this.layer)this.layer.dispose(),this.layer=null;this.$super(arguments)}}});return S.defaultProperties={range:{begin:new Date(1983,8,3),end:new Date(2046,10,4)},shownShortCut:"昨天,最近7天,上周,本月,上个月,上个季度",dateFormat:"YYYY-MM-DD",fromLabelText:"起",fromLabelPosition:"after",toLabelText:"至",startCalendarLabel:"开始日期",endCalendarLabel:"结束日期",okButtonText:"确定",cancelLinkText:"取消",noEndLabel:"不限结束",shortCutItems:[{name:"昨天",value:0,getValue:function(){var e=new Date(this.now.getTime());return e.setDate(e.getDate()-1),{begin:e,end:e}}},{name:"最近7天",value:1,getValue:function(){var e=L(this.now);return{begin:e.clone().subtract("day",7).toDate(),end:e.clone().subtract("day",1).toDate()}}},{name:"上周",value:2,getValue:function(){var e=this.now,t=new Date(e.getTime()),i=new Date(e.getTime()),n=1;if(t.getDay()<n%7)t.setDate(t.getDate()-14+n-t.getDay());else t.setDate(t.getDate()-7-t.getDay()+n%7);return t.setHours(0,0,0,0),i.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()+6),i.setHours(0,0,0,0),{begin:t,end:i}}},{name:"本月",value:3,getValue:function(){return{begin:L(this.now).startOf("month").toDate(),end:L(this.now).toDate()}}},{name:"上个月",value:4,getValue:function(){var e=L(this.now).subtract("month",1).startOf("month").toDate(),t=L(this.now).startOf("month").subtract("day",1).toDate();return{begin:e,end:t}}},{name:"上个季度",value:5,getValue:function(){var e=this.now,t=L(e).subtract("month",e.getMonth()%3+3).startOf("month").toDate(),i=L(e).subtract("month",e.getMonth()%3).startOf("month").subtract("day",1).toDate();return{begin:t,end:i}}}]},C.register(S),S}),define("esui/Region",["require","./Select","jquery","./lib","./InputControl","./main","underscore","eoo","./painters"],function(require){function e(e){for(var t=e.regionData,i=t.length,n=[],r=0;i>r;r++)n.push(o(e,t[r],1));var a='<input type="hidden" id="${inputId}" name="${name}" />';n.push(w.format(a,{inputId:e.helper.getId("param-value"),name:e.name})),e.main.innerHTML=n.join("")}function t(e,i,n){i.call(n,e),L.each(e.children,function(e){t(e,i,n)})}function i(e,i){var a=e.regionDataIndex,s=[];L.each(i,function(e){var i=a[e];if(i)t(i,function(e){s.push(e.id)})});var o={};L.each(s,function(e){o[e]=1}),L.each(e.regionDataIndex,function(t,i){var r=o.hasOwnProperty(i),a=n(e,i);if(a)a.checked=r;else t.isSelected=r}),r(e),_(e)}function n(e,t){return w.g(e.helper.getId("item-"+t))}function r(e,t,i,a){a=a||0,t=t||{children:e.regionData};var o=e.regionDataIndex[t.id];if(!i)e.rawValue=[];var l,d=0,u=t.id&&n(e,t.id),c=t.children,h=c instanceof Array&&c.length;if(h){for(var f=!0,p=0;h>p;p++){if(l=r(e,c[p],1,a+1))d++;f=f&&l}if(u)u.checked=f,f&&e.rawValue.push(t.id),o.isSelected=f;if(3===a)if(!f)s(e,d,h,t.id);else s(e,1,1,t.id);return f}if(u){if(u.checked)e.rawValue.push(t.id);return o.isSelected=u.checked,u.checked}else if(o.isSelected)e.rawValue.push(t.id);return o.isSelected}function a(){return C.getConfig("stateClassPrefix")+"-hidden"}function s(e,t,i,n){var r=b(w.g(e.helper.getId("info-"+n)));if(0!==t&&t!==i)r.removeClass(a()),r.html(t+"/"+i);else r.addClass(a()),r.html("")}function o(e,t,i){t.level=i;var n=[],r=t.children;if(null!=r)if(t.isSelected=!1,3===t.level){if(t.children&&t.children.length>0)e.cityCache[t.id]=l(e,t)}else for(var s=r instanceof Array&&r.length,d=0;s>d;d++)n.push(o(e,t.children[d],i+1));var u=e.helper,c=u.getPrefixClass("checkbox-custom");switch(i){case 1:return w.format(S,{boxClass:u.getPartClasses("country-box").join(" "),itemClasses:u.getPartClasses("country-check").join(" "),itemWrapperId:"",itemValue:t.id,itemId:u.getId("item-"+t.id),level:t.level,text:t.text,contentClass:"",content:n.join(""),checkboxCustomClass:c});case 2:return w.format(S,{boxClass:u.getPartClasses("region-box"+E++%2).join(" "),itemClasses:u.getPartClasses("region-check").join(" "),itemWrapperId:"",itemValue:t.id,itemId:u.getId("item-"+t.id),level:t.level,text:t.text,contentClass:u.getPartClasses("province-box").join(" "),content:n.join(""),checkboxCustomClass:c});case 3:var h=w.format(P,{popLayerClass:u.getPartClasses("locator").join(" "),layerBoxClass:u.getPartClasses("city-box").join(" "),hiddenClass:a(),id:u.getId("sub-"+t.id),infoId:u.getId("info-"+t.id),innerHTML:n.join("")}),f=w.format(Y,{itemClasses:u.getPartClasses("text").join(" "),itemWrapperId:u.getId("wrapper-"+t.id),itemValue:t.id,itemId:u.getId("item-"+t.id),level:t.level,text:t.text,checkboxCustomClass:c});return w.format(I,{classes:u.getPartClasses("province-item").join(" "),content:f+h});case 4:return w.format(Y,{itemClasses:u.getPartClasses("city").join(" "),itemWrapperId:"",itemValue:t.id,itemId:u.getId("item-"+t.id),level:t.level,text:t.text,checkboxCustomClass:c})}}function l(e,t){if(3===t.level&&null!=t.children){for(var i=[],n=0;n<t.children.length;n++)t.children[n].parent=t,t.children[n].level=t.level+1,i.push(o(e,t.children[n],t.level+1));if(i.length%2===1)i.push("");for(var r=['<table border="0" cellspacing="0" cellpadding="0">'].join(""),a=["<tr>","<td>${firstItem}","</td>","<td>${secondItem}","</td>","</tr>"].join(""),s=0;s<i.length;s+=2)r+=w.format(a,{firstItem:i[s],secondItem:i[s+1]});return r+"</table>"}return""}function d(e,t){function i(e,n){var r,a,s=e instanceof Array&&e.length;if(s)for(r=0;s>r;r++)a=L.clone(e[r]),a.parent=n,t.regionDataIndex[a.id]=a,i(a.children,a)}var n=t.regionData;t.regionDataIndex={},i(n,{children:n})}function u(e){if(!this.disabled&&!this.readOnly){var t=e.currentTarget,i=b(t),n=!1;if(i.is("input"))n=!0;else if(i.is("label")){var r=i.attr("for");t=w.g(r),n=!0}if(n)return c(this,t),void this.fire("change");else return void 0}}function c(e,t,i){var a=b(t).attr("data-optionId"),o=t.checked,l=e.regionDataIndex[a];l.isSelected=o;var d=l.children,u=d instanceof Array&&d.length;if(u)L.each(d,function(t){var i=n(e,t.id);if(i)i.checked=o,c(e,i,1);else e.regionDataIndex[t.id].isSelected=o});else if(0===u)if(3===b(t).attr("level")){var h=0,f=e.regionDataIndex[a].parent.children;L.each(f,function(e){if(n(e.id).checked===!0)h++}),s(e,h,f.length,e.regionDataIndex[a].parent.id)}if(!i)r(e),_(e)}function h(e,t){if(!this.disabled&&!this.readOnly){var i=t.target,n=this.helper,r=n.getPartClassName("text"),a=n.getPartClassName("city-box"),s=f;if("hide"===e)s=p;for(var o;i&&i!==document.body;){var l;if(b(i).hasClass(r))o=b(i.firstChild.firstChild).attr("value"),l=i.nextSibling.firstChild;else if(b(i).hasClass(a))l=i;if(l)return void s(this,l,o);i=i.parentNode}}}function f(e,t,n){if(n){var r=e.cityCache[n];if(!r)return;t.innerHTML=r,i(e,e.rawValue)}b(t).removeClass(a());var s=t.parentNode.previousSibling;e.helper.addPartClasses("text-over",s)}function p(e,t){b(t).addClass(a());var i=t.parentNode.previousSibling;e.helper.removePartClasses("text-over",i)}function m(e,t){function i(e){var t=e.children,r=!!t;if(e.id)n.push({text:e.text,value:e.id,disabled:r});if(r)for(var a=0,s=t.length;s>a;a++)i(t[a])}var n=[];i({children:t.regionData}),t.singleRegionData=n}function g(e){var t='<div data-ui="type:Select;childName:regionSel;id:regionSel;"></div><input type="hidden" id="${inputId}" name="${name}" />';e.main.innerHTML=w.format(t,{inputId:e.helper.getId("param-value"),name:e.name}),e.initChildren(e.main);var i=e.getChild("regionSel");i.setProperties({datasource:e.singleRegionData}),i.on("change",L.bind(v,null,e,i))}function v(e,t){var i=parseInt(t.getValue(),10);e.rawValue=i,_(e)}function y(e,t){if("multi"===e.mode)for(var i=e.main.getElementsByTagName("input"),n=0,r=i.length;r>n;n++){var a=i[n];a.disabled=t}else{var s=e.getChild("regionSel");s.setProperties({disabled:t})}}function _(e){var t=w.g(e.helper.getId("param-value")),i=e.rawValue;if(w.isArray(i))t.value=i.join(",");else t.value=i}function x(e,t){var i=e.regionDataIndex,n=[];if(i[t.id]&&i[t.id].isSelected)n.push(t.id);else L.each(t.children,function(t){var r=i[t.id];n.push.apply(n,x(e,r))});return n}require("./Select");var b=require("jquery"),w=require("./lib"),M=require("./InputControl"),C=require("./main"),L=require("underscore"),T=require("eoo"),k=require("./painters"),D=T.create(M,{type:"Region",initOptions:function(e){var t={regionData:L.clone(D.REGION_LIST),mode:"multi",pureSelect:!1,rawValue:[]};if(b(this.main).is("input"))this.helper.extractOptionsFromInput(this.main,t);if(L.extend(t,e),e.value)t.rawValue=t.value.split(",");if("false"===e.pureSelect)t.pureSelect=!1;if("multi"===t.mode)d(this,t),this.cityCache={};else t.rawValue="",m(this,t);this.setProperties(t)},initStructure:function(){if(w.isInput(this.main))this.helper.replaceMain();if("multi"===this.mode)e(this);else g(this),b(this.main).addClass(this.helper.getPartClassName("single"))},initEvents:function(){var e=this.helper;if("multi"===this.mode)e.addDOMEvent(this.main,"click","input,label",u),e.addDOMEvent(this.main,"mouseover",L.partial(h,"show")),e.addDOMEvent(this.main,"mouseout",L.partial(h,"hide"));else{var t=this.getChild("regionSel");t.on("change",L.bind(v,null,this,t))}},repaint:k.createRepaint(M.prototype.repaint,{name:"rawValue",paint:function(e,t){if("multi"===e.mode)i(e,t);else{var n=e.getChild("regionSel");n.setProperties({value:t})}}},{name:["disabled","readOnly"],paint:function(e,t,i){var n=!0;if(t||i)n=!1;if(y(e,!n),!t&&i){var r=w.g(e.helper.getId("param-value"));r.disabled=!1}}}),setRawValue:function(e){this.setProperties({rawValue:e})},getRawValue:function(){if("single"===this.mode)return this.getChild("regionSel").getValue();if(this.pureSelect){var e={id:"-100",children:this.regionData},t=x(this,e);return t}return this.rawValue},stringifyValue:function(e){if("multi"===this.mode)return e.join(",");else return e},parseValue:function(e){return e.split(",")},checkRegion:function(e){var t=n(this,e);if(t)t.checked=!0,c(this,t);else{var i=this.regionDataIndex[e];if(i)i.isSelected=!0,r(this),_(this)}}}),Y=['<div class="${itemClasses}" id="${itemWrapperId}">','<div class="${checkboxCustomClass}">','<input type="checkbox" value="${itemValue}" id="${itemId}"',' data-optionId="${itemValue}" data-level="${level}" />','<label for="${itemId}" title="${text}">${text}</label>',"</div>","</div>"].join(""),S=['<div class="${boxClass}">',Y,'<div class="${contentClass}">${content}</div>',"</div>"].join(""),P=['<div class="${popLayerClass}">','<div class="${hiddenClass} ${layerBoxClass}" id="${id}">',"${innerHTML}</div>",'<b class="${hiddenClass}" id="${infoId}"></b>',"</div>"].join(""),I='<div class="${classes}">${content}</div>',E=0;return D.REGION_LIST=[{id:"90",text:"中国",children:[{id:"80",text:"华北地区",children:[{id:"1",text:"北京",children:[{id:"742",text:"昌平区"},{id:"743",text:"朝阳区"},{id:"744",text:"崇文区"},{id:"745",text:"大兴区"},{id:"746",text:"东城区"},{id:"747",text:"房山区"},{id:"748",text:"丰台区"},{id:"749",text:"海淀区"},{id:"750",text:"怀柔区"},{id:"751",text:"门头沟区"},{id:"752",text:"密云县"},{id:"753",text:"平谷区"},{id:"754",text:"石景山区"},{id:"755",text:"顺义区"},{id:"756",text:"通州区"},{id:"757",text:"西城区"},{id:"758",text:"宣武区"},{id:"759",text:"延庆县"}]},{id:"3",text:"天津",children:[{id:"760",text:"宝坻区"},{id:"761",text:"北辰区"},{id:"763",text:"东丽区"},{id:"765",text:"河北区"},{id:"766",text:"河东区"},{id:"767",text:"和平区"},{id:"768",text:"河西区"},{id:"769",text:"红桥区"},{id:"770",text:"蓟县"},{id:"771",text:"津南区"},{id:"772",text:"静海县"},{id:"773",text:"南开区"},{id:"774",text:"宁河县"},{id:"776",text:"武清区"},{id:"777",text:"西青区"},{id:"900",text:"滨海新区"}]},{id:"15",text:"河北",children:[{id:"226",text:"保定市"},{id:"228",text:"沧州市"},{id:"229",text:"承德市"},{id:"230",text:"邯郸市"},{id:"231",text:"衡水市"},{id:"234",text:"廊坊市"},{id:"236",text:"秦皇岛市"},{id:"239",text:"石家庄市"},{id:"240",text:"唐山市"},{id:"241",text:"邢台市"},{id:"242",text:"张家口市"}]},{id:"24",text:"内蒙古",children:[{id:"428",text:"阿拉善盟"},{id:"429",text:"巴彦淖尔市"},{id:"430",text:"包头市"},{id:"431",text:"赤峰市"},{id:"432",text:"鄂尔多斯市"},{id:"434",text:"呼和浩特市"},{id:"435",text:"呼伦贝尔市"},{id:"437",text:"通辽市"},{id:"438",text:"乌海市"},{id:"439",text:"乌兰察布市"},{id:"442",text:"锡林郭勒盟"},{id:"444",text:"兴安盟"}]},{id:"28",text:"山西",children:[{id:"486",text:"大同市"},{id:"491",text:"晋城市"},{id:"492",text:"晋中市"},{id:"493",text:"临汾市"},{id:"494",text:"吕梁市"},{id:"495",text:"朔州市"},{id:"496",text:"太原市"},{id:"497",text:"忻州市"},{id:"498",text:"阳泉市"},{id:"501",text:"运城市"},{id:"502",text:"长治市"}]}]},{id:"81",text:"东北地区",children:[{id:"17",text:"黑龙江",children:[{id:"272",text:"大庆市"},{id:"273",text:"大兴安岭地区"},{id:"276",text:"哈尔滨市"},{id:"278",text:"鹤岗市"},{id:"279",text:"黑河市"},{id:"282",text:"鸡西市"},{id:"284",text:"佳木斯市"},{id:"287",text:"牡丹江市"},{id:"289",text:"七台河市"},{id:"290",text:"齐齐哈尔市"},{id:"291",text:"双鸭山市"},{id:"293",text:"绥化市"},{id:"298",text:"伊春市"}]},{id:"20",text:"吉林",children:[{id:"345",text:"白城市"},{id:"346",text:"白山市"},{id:"351",text:"吉林市"},{id:"352",text:"辽源市"},{id:"355",text:"四平市"},{id:"356",text:"松原市"},{id:"358",text:"通化市"},{id:"359",text:"延边朝鲜族自治州"},{id:"361",text:"长春市"}]},{id:"23",text:"辽宁",children:[{id:"413",text:"鞍山市"},{id:"414",text:"本溪市"},{id:"415",text:"朝阳市"},{id:"416",text:"大连市"},{id:"417",text:"丹东市"},{id:"418",text:"抚顺市"},{id:"419",text:"阜新市"},{id:"421",text:"葫芦岛市"},{id:"422",text:"锦州市"},{id:"423",text:"辽阳市"},{id:"424",text:"盘锦市"},{id:"425",text:"沈阳市"},{id:"426",text:"铁岭市"},{id:"427",text:"营口市"}]}]},{id:"82",text:"华东地区",children:[{id:"2",text:"上海",children:[{id:"818",text:"宝山区"},{id:"819",text:"崇明县"},{id:"820",text:"奉贤区"},{id:"821",text:"虹口区"},{id:"822",text:"黄浦区"},{id:"823",text:"嘉定区"},{id:"824",text:"金山区"},{id:"825",text:"静安区"},{id:"826",text:"卢湾区"},{id:"827",text:"闵行区"},{id:"830",text:"浦东新区"},{id:"831",text:"普陀区"},{id:"832",text:"青浦区"},{id:"833",text:"松江区"},{id:"834",text:"徐汇区"},{id:"835",text:"杨浦区"},{id:"836",text:"闸北区"},{id:"837",text:"长宁区"}]},{id:"8",text:"安徽",children:[{id:"101",text:"安庆市"},{id:"102",text:"蚌埠市"},{id:"103",text:"亳州市"},{id:"104",text:"巢湖市"},{id:"105",text:"池州市"},{id:"106",text:"滁州市"},{id:"107",text:"阜阳市"},{id:"110",text:"合肥市"},{id:"111",text:"淮北市"},{id:"112",text:"淮南市"},{id:"113",text:"黄山市"},{id:"115",text:"六安市"},{id:"116",text:"马鞍山市"},{id:"118",text:"铜陵市"},{id:"119",text:"芜湖市"},{id:"120",text:"宿州市"},{id:"121",text:"宣城市"}]},{id:"9",text:"福建",children:[{id:"124",text:"福州市"},{id:"126",text:"龙岩市"},{id:"127",text:"南平市"},{id:"128",text:"宁德市"},{id:"129",text:"莆田市"},{id:"130",text:"泉州市"},{id:"131",text:"三明市"},{id:"132",text:"厦门市"},{id:"138",text:"漳州市"}]},{id:"21",text:"江苏",children:[{id:"363",text:"常州市"},{id:"367",text:"淮安市"},{id:"375",text:"连云港市"},{id:"376",text:"南京市"},{id:"377",text:"南通市"},{id:"381",text:"苏州市"},{id:"383",text:"泰州市"},{id:"386",text:"无锡市"},{id:"391",text:"宿迁市"},{id:"392",text:"徐州市"},{id:"393",text:"盐城市"},{id:"395",text:"扬州市"},{id:"399",text:"镇江市"}]},{id:"22",text:"江西",children:[{id:"401",text:"抚州市"},{id:"402",text:"赣州市"},{id:"403",text:"吉安市"},{id:"404",text:"景德镇市"},{id:"406",text:"九江市"},{id:"407",text:"南昌市"},{id:"408",text:"萍乡市"},{id:"409",text:"上饶市"},{id:"410",text:"新余市"},{id:"411",text:"宜春市"},{id:"412",text:"鹰潭市"}]},{id:"27",text:"山东",children:[{id:"461",text:"滨州市"},{id:"462",text:"德州市"},{id:"463",text:"东营市"},{id:"466",text:"菏泽市"},{id:"467",text:"济南市"},{id:"468",text:"济宁市"},{id:"470",text:"莱芜市"},{id:"472",text:"聊城市"},{id:"473",text:"临沂市"},{id:"474",text:"青岛市"},{id:"476",text:"日照市"},{id:"477",text:"泰安市"},{id:"479",text:"威海市"},{id:"480",text:"潍坊市"},{id:"481",text:"烟台市"},{id:"482",text:"枣庄市"},{id:"485",text:"淄博市"}]},{id:"34",text:"浙江",children:[{id:"604",text:"杭州市"},{id:"605",text:"湖州市"},{id:"606",text:"嘉兴市"},{id:"608",text:"金华市"},{id:"611",text:"丽水市"},{id:"615",text:"宁波市"},{id:"617",text:"衢州市"},{id:"619",text:"绍兴市"},{id:"621",text:"台州市"},{id:"624",text:"温州市"},{id:"630",text:"舟山市"}]}]},{id:"83",text:"华中地区",children:[{id:"16",text:"河南",children:[{id:"243",text:"安阳市"},{id:"246",text:"鹤壁市"},{id:"249",text:"焦作市"},{id:"250",text:"开封市"},{id:"252",text:"漯河市"},{id:"253",text:"洛阳市"},{id:"254",text:"南阳市"},{id:"255",text:"平顶山市"},{id:"256",text:"濮阳市"},{id:"257",text:"三门峡市"},{id:"258",text:"商丘市"},{id:"261",text:"新乡市"},{id:"262",text:"信阳市"},{id:"263",text:"许昌市"},{id:"266",text:"郑州市"},{id:"267",text:"周口市"},{id:"268",text:"驻马店市"},{id:"901",text:"济源市"}]},{id:"18",text:"湖北",children:[{id:"304",text:"鄂州市"},{id:"305",text:"恩施市"},{id:"307",text:"黄冈市"},{id:"308",text:"黄石市"},{id:"309",text:"荆门市"},{id:"310",text:"荆州市"},{id:"311",text:"潜江市"},{id:"312",text:"神农架林区"},{id:"313",text:"十堰市"},{id:"314",text:"随州市"},{id:"315",text:"天门市"},{id:"317",text:"武汉"},{id:"319",text:"仙桃市"},{id:"320",text:"咸宁市"},{id:"321",text:"襄樊市"},{id:"323",text:"孝感市"},{id:"324",text:"宜昌市"}]},{id:"19",text:"湖南",children:[{id:"328",text:"常德市"},{id:"329",text:"郴州市"},{id:"330",text:"衡阳市"},{id:"331",text:"怀化市"},{id:"334",text:"娄底市"},{id:"335",text:"邵阳市"},{id:"337",text:"湘潭市"},{id:"338",text:"湘西土家族苗族自治州"},{id:"339",text:"益阳市"},{id:"340",text:"永州市"},{id:"341",text:"岳阳市"},{id:"342",text:"张家界市"},{id:"343",text:"长沙市"},{id:"344",text:"株洲市"}]}]},{id:"84",text:"华南地区",children:[{id:"11",text:"广东",children:[{id:"157",text:"潮州市"},{id:"158",text:"东莞市"},{id:"160",text:"佛山市"},{id:"162",text:"广州市"},{id:"163",text:"河源市"},{id:"164",text:"惠州市"},{id:"166",text:"江门市"},{id:"167",text:"揭阳市"},{id:"169",text:"茂名市"},{id:"170",text:"梅州市"},{id:"172",text:"清远市"},{id:"173",text:"汕头市"},{id:"174",text:"汕尾市"},{id:"175",text:"韶关市"},{id:"176",text:"深圳市"},{id:"180",text:"阳江市"},{id:"182",text:"云浮市"},{id:"184",text:"湛江市"},{id:"185",text:"肇庆市"},{id:"186",text:"中山市"},{id:"187",text:"珠海市"}]},{id:"12",text:"广西",children:[{id:"188",text:"百色市"},{id:"189",text:"北海市"},{id:"191",text:"防城港市"},{id:"193",text:"贵港市"},{id:"194",text:"桂林市"},{id:"195",text:"河池市"},{id:"196",text:"贺州市"},{id:"197",text:"来宾市"},{id:"198",text:"柳州市"},{id:"199",text:"南宁市"},{id:"200",text:"钦州市"},{id:"201",text:"梧州市"},{id:"203",text:"玉林市"}]},{id:"14",text:"海南",children:[{id:"218",text:"儋州市"},{id:"219",text:"东方市"},{id:"220",text:"海口市"},{id:"221",text:"琼海市"},{id:"223",text:"三亚市"},{id:"225",text:"文昌市"},{id:"867",text:"五指山"},{id:"868",text:"万宁"}]}]},{id:"85",text:"西南地区",children:[{id:"4",text:"重庆",children:[{id:"778",text:"巴南区"},{id:"779",text:"北碚区"},{id:"780",text:"璧山县"},{id:"781",text:"城口县"},{id:"782",text:"大渡口区"},{id:"783",text:"大足县"},{id:"784",text:"垫江县"},{id:"785",text:"丰都县"},{id:"786",text:"奉节县"},{id:"787",text:"涪陵区"},{id:"788",text:"合川区"},{id:"789",text:"江北区"},{id:"790",text:"江津区"},{id:"791",text:"九龙坡区"},{id:"792",text:"开县"},{id:"793",text:"梁平县"},{id:"794",text:"南岸区"},{id:"795",text:"南川区"},{id:"796",text:"彭水县"},{id:"797",text:"綦江县"},{id:"798",text:"黔江区"},{id:"799",text:"荣昌县"},{id:"800",text:"沙坪坝区"},{id:"801",text:"石柱县"},{id:"802",text:"双桥区"},{id:"803",text:"铜梁县"},{id:"804",text:"潼南县"},{id:"805",text:"万盛区"},{id:"806",text:"万州区"},{id:"807",text:"巫山县"},{id:"808",text:"巫溪县"},{id:"809",text:"武隆县"},{id:"810",text:"秀山县"},{id:"811",text:"永川区"},{id:"812",text:"酉阳县"},{id:"813",text:"渝北区"},{id:"814",text:"渝中区"},{id:"815",text:"云阳县"},{id:"816",text:"长寿区"},{id:"817",text:"忠县"}]},{id:"13",text:"贵州",children:[{id:"204",text:"安顺市"},{id:"205",text:"毕节市"},{id:"208",text:"贵阳市"},{id:"210",text:"六盘水市"},{id:"211",text:"黔东南苗族侗族自治州"},{id:"212",text:"黔南布依族苗族自治州"},{id:"213",text:"黔西南布依族苗族自治州"},{id:"215",text:"铜仁市"},{id:"217",text:"遵义市"}]},{id:"30",text:"四川",children:[{id:"516",text:"阿坝藏族羌族自治州"},{id:"517",text:"巴中市"},{id:"518",text:"成都市"},{id:"519",text:"达州市"},{id:"520",text:"德阳市"},{id:"523",text:"甘孜藏族自治州"},{id:"524",text:"广安市"},{id:"526",text:"广元市"},{id:"528",text:"乐山市"},{id:"529",text:"凉山彝族自治州"},{id:"530",text:"泸州市"},{id:"531",text:"眉山市"},{id:"532",text:"绵阳市"},{id:"534",text:"南充市"},{id:"535",text:"内江市"},{id:"536",text:"攀枝花市"},{id:"538",text:"遂宁市"},{id:"540",text:"雅安市"},{id:"541",text:"宜宾市"},{id:"542",text:"资阳市"},{id:"543",text:"自贡市"}]},{id:"31",text:"西藏",children:[{id:"546",text:"拉萨市"},{id:"547",text:"林芝地区"},{id:"548",text:"那曲地区"},{id:"549",text:"日喀则地区"}]},{id:"33",text:"云南",children:[{id:"578",text:"保山市"},{id:"579",text:"楚雄市"},{id:"580",text:"大理市"},{id:"581",text:"德宏傣族景颇族自治州"},{id:"585",text:"红河哈尼族彝族自治州"},{id:"587",text:"昆明市"},{id:"589",text:"丽江市"},{id:"590",text:"临沧市"},{id:"593",text:"普洱市"},{id:"594",text:"曲靖市"},{id:"595",text:"文山市"},{id:"597",text:"玉溪市"},{id:"598",text:"昭通市"}]}]},{id:"86",text:"西北地区",children:[{id:"10",text:"甘肃",children:[{id:"139",text:"白银市"},{id:"140",text:"定西市"},{id:"144",text:"嘉峪关市"},{id:"145",text:"金昌市"},{id:"146",text:"酒泉市"},{id:"147",text:"兰州市"},{id:"148",text:"临夏回族自治州"},{id:"150",text:"陇南市"},{id:"151",text:"平凉市"},{id:"152",text:"庆阳市"},{id:"153",text:"天水市"},{id:"154",text:"武威市"},{id:"156",text:"张掖市"}]},{id:"25",text:"宁夏",children:[{id:"446",text:"固原市"},{id:"447",text:"石嘴山市"},{id:"448",text:"吴忠市"},{id:"449",text:"银川市"},{id:"450",text:"中卫市"}]},{id:"26",text:"青海",children:[{id:"454",text:"海东地区"},{id:"456",text:"海西蒙古族藏族自治州"},{id:"458",text:"西宁市"},{id:"459",text:"玉树藏族自治州"}]},{id:"29",text:"陕西",children:[{id:"503",text:"安康市"},{id:"504",text:"宝鸡市"},{id:"506",text:"汉中市"},{id:"508",text:"商洛市"},{id:"509",text:"铜川市"},{id:"510",text:"渭南市"},{id:"511",text:"西安市"},{id:"512",text:"咸阳市"},{id:"513",text:"延安市"},{id:"515",text:"榆林市"}]},{id:"32",text:"新疆",children:[{id:"551",text:"阿克苏地区"},{id:"554",text:"阿勒泰市"},{id:"556",text:"巴音郭楞蒙古自治州"},{id:"557",text:"博尔塔拉蒙古自治州"},{id:"560",text:"昌吉回族自治州"},{id:"563",text:"哈密市"},{id:"564",text:"和田市"},{id:"565",text:"喀什市"},{id:"566",text:"克拉玛依市"},{id:"570",text:"石河子市"},{id:"571",text:"塔城市"},{id:"572",text:"吐鲁番市"},{id:"573",text:"乌鲁木齐市"},{id:"576",text:"伊犁市"},{id:"869",text:"克孜勒苏柯尔克孜"},{id:"870",text:"五家渠"}]}]},{id:"87",text:"港澳台",children:[{id:"5",text:"澳门"},{id:"6",text:"香港"},{id:"7",text:"台湾"}]}]},{id:"999",text:"国外"},{id:"0",text:"其他"}],C.register(D),D}),define("esui/RichCalendar",["require","./Button","./MonthView","./TextBox","./lib","./InputControl","./Layer","./main","moment","underscore","eoo","jquery","./painters"],function(require){function e(e){for(var i=e.displayNum,n=e.helper,r='<div id="${id}" class="${className}">${monthView}</div>',a=[],s=0;i>s;s++)a.push(p.format(r,{id:n.getId("month-"+s),className:n.getPartClassName("month-container"),monthView:t(e,s)}));return p.format('<div id="${id}" class="${className}">${monthViews}</div>',{id:n.getId("months"),className:n.getPartClassName("months"),monthViews:a.join("")})}function t(e,t){var i='<div data-ui-type="MonthView" data-ui-child-name="${calName}" data-ui-mode="multi"></div>';return p.format(i,{calName:"monthView"+t})}function i(e,t){for(var i=this.getRawValue(),n=e.displayNum,r=0;n>r;r++)if(r!==t){var a=e.getChild("monthView"+r);a.setRawValueWithoutFireChange(i)}e.rawValue=i,s(e,i)}function n(e,t){for(var i=e.displayNum,r=new Date(this.year,this.month,1),a=0;i>a;a++)if(a!==t){var s=e.getChild("monthView"+a);s.un("changemonth"),s.un("changeyear");var o,l=t-a;if(l>0)o=y(r).subtract("month",l);else o=y(r).add("month",-l);s.setProperties({month:o.month()+1,year:o.year()}),s.on("changeyear",_.partial(n,e,a)),s.on("changemonth",_.partial(n,e,a))}}function r(e,t){for(var i=e.displayNum,n=e.startMonth,r=e.startYear,s=0;i>s;s++){var o,l,d,u=e.range.begin,c=e.range.end,h=u.getFullYear(),f=u.getMonth(),p=c.getFullYear(),m=c.getMonth();if(0===s)l=new Date(p,m-i+2,0),o={begin:e.range.begin,end:l};else if(s===i-1)d=new Date(h,f+i-1,1),o={begin:d,end:e.range.end};else d=new Date(h,f+s,1),l=new Date(p,m-i-s+2,0),o={begin:d,end:l};var g={year:r,month:n+s,rawValue:e.rawValue,range:e.range,viewRange:o};a(e,g,s,t)}}function a(e,t,r,a){var s=e.getChild("monthView"+r);if(s.setProperties(t),a===!0)s.on("change",_.partial(i,e,r)),s.on("changeyear",_.partial(n,e,r)),s.on("changemonth",_.partial(n,e,r))}function s(e,t){var i=e.helper.getId("param-value");p.g(i).value=e.stringifyValue(t);var n=e.getChild("textInput"),r=c(e,t);n.setProperties({rawValue:r}),o(e,t),e.fire("change")}function o(e,t){var i=p.g(e.helper.getId("total-num"));i.innerHTML=t.length}function l(e){e.set("rawValue",[])}function d(e){var t=e.split(",");if(1===t.length)t.push("2046-11-04");else if(""===t[0])t[0]="1983-09-03";else if(""===t[1])t[1]="2046-11-04";return{begin:u(t[0]),end:u(t[1])}}function u(e){function t(e){var t=e.split("-");if(t)return new Date(parseInt(t[0],10),parseInt(t[1],10)-1,parseInt(t[2],10));else return null}if(!e)return null;e+="";var i=e.split(" "),n=t(i[0]);if(i[1]){var r=i[1].split(":");n.setHours(r[0]),n.setMinutes(r[1]),n.setSeconds(r[2])}return n}function c(e,t){for(var i=[],n=[],r=0,a=864e5,s=e.paramFormat,o=e.displayToLabelText,l=0;l<t.length;l++)if(0===l)i.push(y(t[l]).format(s)),n.push(t[l]),r++;else if(t[l]-t[l-1]>a){if(t[l-1]-n[r-1]!==0)i.push(o),i.push(y(t[l-1]).format(s)),n.push(t[l-1]),r++;i.push("\n"),i.push(y(t[l]).format(s)),n.push(t[l]),r++
}else if(l===t.length-1)i.push(o),i.push(y(t[l]).format(s));else continue;return i.join("")}function h(e){for(var t=this.getValue(),i=t.replace(/\n{2,}/g,"\n").split("\n"),n=[],r={},a=0,s=i.length;s>a;a++){var o=p.trim(i[a]);if(0!==o.length&&!r[o]){r[o]=1;var l=o.split("至"),d=l[0],u=d;if(l.length>1)u=l[1];if(f(d)&&f(u))n.push(d),n.push(u)}else;}var h=n.join(",");e.rawValue=e.parseValue(h),this.setProperties({rawValue:c(e,e.rawValue)}),e.fire("change")}function f(e){var t=/^(\d{4})(-)(\d{2})\2(\d{2})$/,i=e.match(t);if(null==i)return!1;var n=new Date(i[1],i[3]-1,i[4]),r=""+n.getFullYear()+i[2]+(n.getMonth()+1)+i[2]+n.getDate();return e=i[1]+i[2]+(i[3]-1+1)+i[2]+(i[4]-1+1),r===e}require("./Button"),require("./MonthView"),require("./TextBox");var p=require("./lib"),m=require("./InputControl"),g=require("./Layer"),v=require("./main"),y=require("moment"),_=require("underscore"),x=require("eoo"),b=require("jquery"),w=require("./painters"),M=x.create(g,{create:function(){var e=this.$super(arguments);return b(this.control.main).after(e),e},render:function(t){var i=this.control;t.innerHTML=e(i),i.helper.initChildren(t),r(i,!0)},toggle:function(){var e=this.getElement();if(!e||!b(e).is(":visible"))r(this.control,!0),this.show();else this.hide()}}),C=x.create(m,{constructor:function(e){this.$super([e]),this.layer=new M(this)},type:"RichCalendar",initOptions:function(e){var t=new Date,i={now:t,rawValue:[],displayNum:2,startYear:t.getFullYear(),startMonth:t.getMonth()+1};if(b(this.main).is("input"))this.helper.extractOptionsFromInput(this.main,i);if(_.extend(i,C.defaultProperties,e),e.range&&"string"==typeof e.range)i.range=d(i.range);this.setProperties(i)},setProperties:function(e){if(null==e.rawValue||0===e.rawValue.length)if(e.value)e.rawValue=this.parseValue(e.value);if(e.rawValue&&e.rawValue.length){var t=e.rawValue[0];e.startYear=t.getFullYear(),e.startMonth=t.getMonth()+1}var i=this.$super([e]);return i},initStructure:function(){var e=this.helper;if(b(this.main).is("input"))e.replaceMain();var t=['<div data-ui-type="Panel" class="${generalPanelClass}"',' data-ui-child-name="generalPanel">','<label>${beforeTotalDaysLabelText}<span id="${totalNumId}" ','class="${totalNumClass}"></span>${afterTotalDaysLabelText},</label>','<button data-ui-type="Button" data-ui-variants="link"',' data-ui-child-name="deleteBtn">${clearButtonText}</button>',"</div>",'<div class="${className}" id="${id}">','<textarea data-ui-type="TextBox"',' data-ui-mode="textarea"',' data-ui-width="${textBoxWidth}"',' data-ui-height="${textBoxHeight}"',' data-ui-child-name="textInput"></textarea>','<button data-ui-type="Button" data-ui-variants="link"',' data-ui-child-name="modifyBtn" type="button">','<span class="${calendarIconClass}"></span></button>',"</div>",'<input type="hidden" id="${inputId}" name="${name}"',' value="" />'];this.main.innerHTML=p.format(t.join("\n"),{className:e.getPartClassName("text"),id:e.getId("text"),textBoxWidth:this.textBoxWidth||200,textBoxHeight:this.textBoxHeight||100,name:this.name,inputId:e.getId("param-value"),generalPanelClass:e.getPartClassName("general-info"),totalNumId:e.getId("total-num"),totalNumClass:e.getPartClassName("total-num"),calendarIconClass:e.getIconClass("calendar"),beforeTotalDaysLabelText:this.beforeTotalDaysLabelText,afterTotalDaysLabelText:this.afterTotalDaysLabelText,clearButtonText:this.clearButtonText}),this.initChildren(this.main),this.layer.autoCloseExcludeElements=[this.getChild("modifyBtn").main]},initEvents:function(){var e=this.getChild("modifyBtn");e.on("click",_.bind(this.layer.toggle,this.layer));var t=this.getChild("generalPanel").getChild("deleteBtn");t.on("click",_.partial(l,this));var i=this.getChild("textInput");i.on("blur",_.partial(h,this))},repaint:w.createRepaint(m.prototype.repaint,{name:["rawValue","range"],paint:function(e,t,i){if(i){if("string"==typeof i)i=d(i);if(!i.begin)i.begin=new Date(1983,8,3);else if(!i.end)i.end=new Date(2046,10,4);e.range=i}if(t)s(e,t);if(e.helper.getPart("months"))r(e)}},{name:["disabled","hidden","readOnly"],paint:function(e,t,i,n){if(t||i||n)e.layer.hide();var r=e.getChild("generalPanel");if(t)r.helper.disableChildren(),e.helper.disableChildren();else r.helper.enableChildren(),e.helper.enableChildren()}}),setRawValue:function(e){this.setProperties({rawValue:e})},getRawValue:function(){return this.rawValue},stringifyValue:function(e){for(var t=[],i=864e5,n=this.paramFormat,r=0;r<e.length;r++){if(0===r)t.push(y(e[r]).format(n));else if(e[r]-e[r-1]>i)t.push(y(e[r-1]).format(n)),t.push(y(e[r]).format(n));if(r===e.length-1)t.push(y(e[r]).format(n))}return t.join(",")},getRanges:function(){for(var e=this.rawValue,t=this.stringifyValue(e).split(","),i=[],n=0;n<t.length-1;n+=2){var r=u(t[n]),a=u(t[n+1]);i.push({begin:r,end:a})}return i},setRanges:function(e){for(var t={},i=0;i<e.length;i++){var n,r=e[i].begin,a=e[i].end;if(r&&a)if(r-a===0)t[r]=r;else for(n=r;a>=n;)t[n]=n,n=new Date(n.getFullYear(),n.getMonth(),n.getDate()+1);else;}var s=[];for(var o in t)if(t.hasOwnProperty(o))s.push(t[o]);s.sort(function(e,t){return e-t}),this.set("rawValue",s)},parseValue:function(e){for(var t=e.split(","),i={},n=0;n<t.length-1;n+=2){var r,a=u(t[n]),s=u(t[n+1]);if(a&&s)if(a-s===0)i[a]=a;else for(r=a;s>=r;)i[r]=r,r=new Date(r.getFullYear(),r.getMonth(),r.getDate()+1);else;}var o=[];for(var l in i)if(i.hasOwnProperty(l))o.push(i[l]);return o.sort(function(e,t){return e-t}),o},dispose:function(){if(!this.helper.isInStage("DISPOSED")){if(this.layer)this.layer.dispose(),this.layer=null;this.$super(arguments)}},toggleCanlendarLayer:function(){this.layer.toggle()}});return C.defaultProperties={range:{begin:new Date(1983,8,3),end:new Date(2046,10,4)},paramFormat:"YYYY-MM-DD",beforeTotalDaysLabelText:"共",afterTotalDaysLabelText:"天",clearButtonText:"全部删除",displayToLabelText:"至"},v.register(C),C}),define("esui/Schedule",["require","eoo","./lib","./main","./InputControl","./Layer","jquery","underscore","./painters","esui/behavior/Selectable"],function(require){function e(){function e(e){for(var t=[],i=0;7>i&&i<e.length;i++){t[i]=[];for(var n=0;24>n;n++)t[i][n]=e[i]}return t}return[{text:"全周投放",tip:"周一到周日全天投放",getValue:function(){return e([1,1,1,1,1,1,1])}},{text:"周一到周五投放",tip:"周一到周五全天投放",getValue:function(){return e([1,1,1,1,1,0,0])}},{text:"周末投放",tip:"周六、周日全天投放",getValue:function(){return e([0,0,0,0,0,1,1])}}]}function t(){for(var e=[],t=0;7>t;t++){var i=[];e.push(i);for(var n=0;24>n;n++)i.push(0)}return e}function i(e,t){return e.helper.getPartClasses(t).join(" ")}function n(e,t){return e.helper.getId(t)}function r(e){var t=e,n=[],r='<span class="${clazz}" data-item="${index}" >${text}</span>',a=i(t,"shortcut-text-item");n.push('<span class="'+a+'">快速设定：</span>');for(var s=t.shortcut,o=i(t,"shortcut-item"),l=0,d=s.length;d>l;l++){var u=s[l];n.push(S.format(r,{clazz:o,text:u.text,index:l}))}return n.join("")}function a(e){S.g(n(e,"body")).innerHTML=""+s(e)+o(e)+l(e)}function s(e){var t=e,r=[],a=i(t,"time-line"),s=a+"-inner",o=n(t,"body-head");r.push('<div class="',a,'" id="',o+'">'),r.push('<div class="'+s+'">');for(var l=i(t,"time-head"),d=0;24>=d;d+=2)r.push('<div class="',l,'" data-time="',d,'" ','id="',n(t,"time-head"+d),'">',d,"</div>");return r.push("</div>"),r.push("</div>"),r.join("")}function o(e){var t=e,r=[],a=i(t,"day-head"),s=n(t,"day-head");r.push('<div id="',s,'" class="',a,'">');for(var o=i(t,"day"),l='<div class="${dayClass}"><input type="checkbox" id="${dayId}" value="${value}"><label for="${dayId}">${dayWord}</label></div>',d=t.dayTexts,u=0;7>u;u++)r.push(S.format(l,{dayWord:d[u],dayId:n(t,"line-state"+u),value:u,dayClass:o}));return r.push("</div>"),r.join("")}function l(e){var t=e,r=[],a='<div class="${timeClass}" id="${itemId}" data-day="${dayIndex}" data-time-item="1" data-time="${timeIndex}"></div>',s=i(t,"time-body"),o=n(t,"time-body");r.push('<div id="',o,'" class="',s,'">');for(var l=i(t,"line"),d=0;7>d;d++){var u=n(t,"line"+d);r.push('<div class="',l,'" id="',u,'">');for(var c=0;24>c;c++){var h=n(t,"time_"+d+"_"+c);r.push(S.format(a,{itemId:h,timeClass:i(t,"time"),dayIndex:d,timeIndex:c}))}r.push("</div>")}return r.push("</div>"),r.join("")}function d(e,t){for(var i=e,r=i.helper.getPartClassName("time-selected"),a=i.helper.getPartClassName("time-hover"),s=0;7>s;s++){var o=[],l=S.g(n(i,"line"+s));h(e,l);for(var d=0;24>d;d++){var c=N(S.g(n(i,"time_"+s+"_"+d))),f=t[s][d];if(f)c.addClass(r);else c.removeClass(r);c.removeClass(a),o.push(f)}u(i,o,l,s)}}function u(e,t,r,a){var s=e,o=s.slotSize,l=a,d=S.g(n(s,"line-state"+l));d.checked=!1;for(var u,h=/1{1,}/g,f=t.join(""),p=i(s,"continue-covertimes"),m='<div class="${coverClass}"><strong>${text}</strong></div>';null!=(u=h.exec(f));){var g=u[0].length,v=u.index,y=v+g,_=document.createElement("aside"),x=";width:"+g*o+"px;top:0;left:"+v*o+"px;";if(d.checked=24===g,_.setAttribute("data-start-time",v),_.setAttribute("data-end-time",y),_.setAttribute("data-day",l),_.className=p,_.style.cssText+=x,g>2)_.innerHTML=S.format(m,{start:v,end:y,text:24===g?"全天投放":v+":00-"+y+":00",coverClass:i(s,"covertimes-tip")});r.appendChild(_),s.helper.addDOMEvent(_,"mouseover",j.partial(c,_,s))}}function c(e,t){clearTimeout(t.coverOvierTimer),t.coverOvierTimer=setTimeout(function(){e.style.display="none"},100)}function h(e,t){for(var i=t.getElementsByTagName("aside"),n=i.length;n;){var r=i[0];if(null!=r.getAttribute("data-day"))e.helper.removeDOMEvent(r),t.removeChild(r);n--}}function f(e,t,r,a){var s=e;t=t||n(s,"tip");var o=S.g(t);if(o)o.style.top=r.y+"px",o.style.left=r.x+"px",o.innerHTML=a;else{var l="font-size:"+S.getComputedStyle(s.main,"fontSize")+";position:absolute;top:"+r.y+"px;left:"+r.x+"px;display:none;z-index:"+E.getZIndex(s.main)+";",d=i(s,"shortcut-item-tip");o=document.createElement("div"),o.style.cssText=l,o.id=t,o.className=d,o.innerHTML=a,document.body.appendChild(o),s.followTip[t]=o}return s.tipElementTime=setTimeout(function(){o.style.display="block"},100),o}function p(e,t){clearTimeout(e.tipElementTime);var i=S.g(t);i&&(i.style.display="none")}function m(e){var t=e.target;if("input"===t.nodeName.toLowerCase()){for(var i=this,n=t,r=parseInt(n.value,10),a=n.checked,s=L(i.rawValue),o=s[r],l=0,d=o.length;d>l;l++)o[l]=a?1:0;i.setRawValue(s)}}function g(e){var t=e.target;if(t&&S.hasAttribute(t,"data-item")){var i=t.getAttribute("data-item"),n=this.shortcut[i].getValue;"function"==typeof n&&n.call(this);var r;if("function"==typeof n)r=n.call(this);else r=n;this.setRawValue(r)}}function v(e){var t=e.target;if(t&&t.getAttribute("data-item")){var i=t,r=this,a={};a.y=e.pageY+20,a.x=e.pageX+10;var s=i,o=s.getAttribute("data-item"),l=n(r,"shortcut-item")+o;setTimeout(function(){var e=S.g(l);if(e)e.style.top=a.y+"px",e.style.left=a.x+"px"},0)}}function y(e,t){var i=t.target;if(i&&i.getAttribute("data-item")){var r=i,a={};a.y=t.pageY+20,a.x=t.pageX+10;var s=this,o=N(r),l=o.attr("data-item"),d=n(s,"shortcut-item")+l,u=s.helper.getPartClassName("shortcut-item-hover");if(e){o.addClass(u);var c=s.shortcut[l].tip;f(s,d,a,c)}else o.removeClass(u),p(s,d)}}function _(e){var t=e.target;if(t&&t.getAttribute("data-time-item")){var r=N(t);r.addClass(this.helper.getPartClassName("time-hover"));var a={};a.y=e.pageY+20,a.x=e.pageX+10;var s=this,o=parseInt(r.attr("data-time"),10),l=parseInt(r.attr("data-day"),10),d=S.format($,{time:"<strong>"+o+":00</strong>&nbsp;—&nbsp;<strong>"+(o+1)+":00</strong>",text:"点击/拖动鼠标选择",timeId:n(s,"timeitem-tip-head"),textId:n(s,"timeitem-tip-body"),timeClass:i(s,"timeitem-tip-head"),textClass:i(s,"timeitem-tip-body")}),u=n(s,"timeitem-tip");f(s,u,a,d),x.call(this,l,o)}}function x(e,t,i){var r=this;clearTimeout(r.repaintCoverTimer),r.repaintCoverTimer=setTimeout(function(){for(var a=S.g(n(r,"time-body")),s=a.getElementsByTagName("aside"),o=0,l=s.length;l>o;o++){var d=s[o],u=parseInt(d.getAttribute("data-start-time"),10),c=parseInt(d.getAttribute("data-end-time"),10),h=parseInt(d.getAttribute("data-day"),10);if(!i&&t>=u&&c>t&&e===h)d.style.display="none";else d.style.display="block"}},100)}function b(e){var t=e.target,i=this,r=e.relatedTarget,a=e.currentTarget;if(r!==!1&&a!==r&&(!r||"xul"!==r.prefix&&!S.dom.contains(a,r)))x.call(i,0,0,!0);if(t&&t.getAttribute("data-time-item"))N(t).removeClass(i.helper.getPartClassName("time-hover")),p(i,n(i,"timeitem-tip"))}function w(e,t){for(var i=e,n=t.startcell,r=t.endcell,a=Math.min(n.x,r.x),s=Math.min(n.y,r.y),o=Math.max(n.x,r.x),l=Math.max(n.y,r.y),d=L(i.rawValue),u=s;l>=u;u++)for(var c=a;o>=c;c++)if(d[u][c])d[u][c]=0;else d[u][c]=1;i.setRawValue(d)}function M(e,t){var i=e,n=i.dragRange,r=i.dragStartPos,a={},s=i.slotSize;if(t.x<=n[1]&&t.x>=n[3])a.x=t.x;else a.x=t.x-r.x<0?n[3]:n[1];if(t.y<=n[2]&&t.y>=n[0])a.y=t.y;else a.y=t.y-r.y<0?n[0]:n[2];var o={startcell:{},endcell:{}};if(o.startcell.x=Math.floor((r.x-i.dragRange[3])/s),o.startcell.y=Math.floor((r.y-i.dragRange[0])/s),o.endcell.x=Math.floor((a.x-i.dragRange[3])/s),o.endcell.y=Math.floor((a.y-i.dragRange[0])/s),o.endcell.x>=23)o.endcell.x=23;if(o.endcell.y>=6)o.endcell.y=6;return o}function C(e){var t=this,r=t.slotSize,a=M(this,{x:e.pageX,y:e.pageY}),s=n(t,"follow-item"),o=S.g(s);if(!o)o=document.createElement("div"),o.className=i(t,"follow-item"),o.id=s,S.g(n(t,"time-body")).appendChild(o);var l,d,u,c,h=a.startcell,f=a.endcell,p=h.x,m=h.y,g=f.x,v=f.y;if(v>=m)l=m*r,u=(v-m+1)*r-2;else l=v*r,u=(m-v+1)*r-2;if(g>=p)d=p*r,c=(g-p+1)*r-2;else d=g*r,c=(p-g+1)*r-2;var y=";display:block;;width:"+c+"px;height:"+u+"px;top:"+l+"px;left:"+d+"px";o.style.cssText+=y}function L(e){for(var t=[],i=0,n=e.length;n>i;i++)t.push([].slice.call(e[i],0));return t}function T(e,t,i){for(var r=S.g(n(e,"day-head")),a=r.getElementsByTagName("input"),s=0,o=a.length;o>s;s++)a[s][t]=i}function k(e,t,i){for(var n=L(e.rawValue),r=0,a=i.length;a>r;r++){var s=i[r];if(null!=n[s[0]]&&null!=n[s[0]][s[1]])n[s[0]][s[1]]=t?1:0}e.setRawValue(n)}function D(e){var t='<div class="${testSlotClass}"></div>',i=e.main;i.innerHTML=S.format(t,{testSlotClass:e.helper.getPartClasses("slot-tester").join(" ")}),e.slotSize=parseFloat(S.getComputedStyle(i.firstChild,"width"))}var Y=require("eoo"),S=require("./lib"),P=require("./main"),I=require("./InputControl"),E=require("./Layer"),N=require("jquery"),j=require("underscore"),H=require("./painters");require("esui/behavior/Selectable");var O=Y.create(I,{type:"Schedule",createMain:function(e){if(!e.tagName)return this.$super(arguments);else return document.createElement(e.tagName)},initOptions:function(e){var i={};if(j.extend(i,O.defaultProperties,e),this.setProperties(i),null==this.rawValue)this.setRawValue(t());this.followTip={}},initStructure:function(){var e=this;D(e),this.main.tabIndex=0;var t='<input type="hidden" name="${name}" id="${inputId}"/><div class="${bodyClass}" id="${bodyId}"></div><div class="${headClass}"><div class="${helpClass}"><div class="${helpSelectedClass}"></div><div class="${helpTextClass}">${helpSelected}</div><div class="${helpUnselectedClass}"></div><div class="${helpTextClass}">${help}</div></div><div class="${shortcutClass}" id="${shortcutId}">${shortcutHtml}</div></div>';this.main.innerHTML=S.format(t,{name:this.name,inputId:n(e,"value-input"),headClass:i(e,"head"),bodyClass:i(e,"body"),helpClass:i(e,"help"),helpSelectedClass:i(e,"help-selected"),helpUnselectedClass:i(e,"help-unselected"),helpTextClass:i(e,"help-text"),shortcutClass:i(e,"shortcut"),shortcutId:n(e,"shortcut"),bodyId:n(e,"body"),helpSelected:e.helpSelectedText,help:e.helpText,shortcutHtml:r(e)}),a(e)},initEvents:function(){var e=this,t=S.g(n(this,"time-body"));N(t).selectable({filter:"."+i(this,"time"),start:function(i){e.dragStartPos={x:i.pageX,y:i.pageY},e.dragRange=[];var n=S.getOffset(t).top,r=S.getOffset(t).left;e.dragRange.push(n),e.dragRange.push(r+t.offsetWidth),e.dragRange.push(n+t.offsetHeight),e.dragRange.push(r),C.call(e,i)},selecting:function(t){C.call(e,t)},unselecting:function(t){C.call(e,t)},stop:function(t){var i=S.g(n(e,"follow-item"));i.style.display="none";var r=M(e,{x:t.pageX,y:t.pageY});setTimeout(function(){w(e,r)},10)}}),this.helper.addDOMEvent(t,"mouseover",_),this.helper.addDOMEvent(t,"mouseout",b),this.helper.addDOMEvent(S.g(n(this,"day-head")),"click",m);var r=this.helper.getPart("shortcut");this.helper.addDOMEvent(r,"click",g),this.helper.addDOMEvent(r,"mouseover",j.partial(y,!0)),this.helper.addDOMEvent(r,"mouseout",j.partial(y,!1)),this.helper.addDOMEvent(r,"mousemove",v)},setProperties:function(e){var t=I.prototype.setProperties.call(this,e),i=t.rawValue;if(i&&this.stringifyValue(i.oldValue)!==this.stringifyValue(i.newValue))this.fire("change",{rawValue:this.rawValue})},repaint:H.createRepaint(I.prototype.repaint,{name:"rawValue",paint:function(e,t){var i=e.stringifyValue(t);S.g(n(e,"value-input")).value=null==i?"":i,d(e,t)}},{name:["disabled","readOnly"],paint:function(e,t,i){T(e,"disabled",t||i);var r=S.g(n(e,"time-body"));N(r).selectable({disabled:t||i})}}),parseValue:function(e){for(var t=[],i=24,n=0,r=e.length;r>n;n+=i){for(var a=e.substring(n,n+i).split(""),s=[],o=0;o<a.length;o++)s.push(a[o]-0);t.push(s)}return t},stringifyValue:function(e){var t=[];if(!e)return null;for(var i=0,n=e.length;n>i;i++)t.push(e[i].join(""));return t.join("")},setRawValue:function(e){this.setProperties({rawValue:e})},getRawValue:function(){return this.rawValue},select:function(){k(this,1,[].slice.call(arguments))},unselect:function(){k(this,0,[].slice.call(arguments))},dispose:function(){var e=this.helper;e.beforeDispose();var t=this.followTip;for(var i in t)if(t[i])document.body.removeChild(t[i]);e.dispose(),e.afterDispose()}});O.defaultProperties={helpSelectedText:"投放时间段",helpText:"暂停时间段",dayTexts:["周一","周二","周三","周四","周五","周六","周日"],shortcut:e()};var $='<div id="${timeId}" class="${timeClass}">${time}</div><div id="${textId}" class="${textClass}">${text}</div>';return P.register(O),O}),define("esui/Sidebar",["require","eoo","./lib","./Control","./main","./Panel","jquery","underscore","./painters","./Button"],function(require){function e(e){return _.g(e.helper.getId("mat"))}function t(e){return _.g(e.helper.getId("minibar"))}function i(e){var t=M(e.main).children(":first");if(t.size()>0){t.addClass(e.helper.getPartClassName("head")),e.headEl=t.get(0);var i=t.next(),n=i.get(0);if(n){e.bodyEl=n,i.addClass(e.helper.getPartClassName("body"));var r=new w({main:n,renderOptions:e.renderOptions});e.addChild(r,"content"),r.render()}}}function n(e){var t=e,i=document.createElement("div"),n=t.helper.getPartClasses("mat");i.id=t.helper.getId("mat"),i.className=n.join(" "),document.body.appendChild(i)}function r(e){var t=e,i=t.helper,n=document.createElement("div"),r=[],a=i.getPartClasses("minibar-text");t.headEl&&r.push('<div class="'+a.join(" ")+'">'+t.headEl.innerHTML+"</div>");var s=i.getPartClasses("minibar-arrow");r.push('<div class="'+s.join(" ")+'"></div>'),n.innerHTML=r.join(""),n.id=i.getId("minibar"),n.className=i.getPartClasses("minibar").join(" "),i.addDOMEvent(n,"mouseover",C.bind(c,null,t,n)),i.addDOMEvent(n,"mouseout",C.bind(h,null,t,n)),document.body.appendChild(n)}function a(e){var t=e,i=t.main;require("./Button");var n=b.create("Button",{id:t.helper.getId("autohide"),skin:"autohide"}),r=b.create("Button",{id:t.helper.getId("fixed"),skin:"fixed"});n.appendTo(i),r.appendTo(i),t.addChild(n,"btnAutoHide"),t.addChild(r,"btnFixed"),n.onclick=C.partial(p,t),r.onclick=C.partial(f,t)}function s(i){var n=i,r=_.page.getScrollTop(),a=n.marginTop||0,s=Math.max(n.top+a-r,a),o=n.main,l=e(n),d=t(n);o.style.top=s+"px",d.style.top=s+"px",l.style.top=s-a+"px"}function o(e){var i=e,n=i.main;n.style.cssText+=";left: "+(i.marginLeft?i.marginLeft+"px":0)+";bottom:"+(i.marginBottom?i.marginBottom+"px":0)+";";var r=i.bodyEl;r.style.top=i.headHeight?i.headHeight+"px":0;var a=t(i);a.style.bottom=i.marginBottom?i.marginBottom+"px":0,s(i)}function l(t){e(t).style.display="none"}function d(i){if(e(i).style.display="block",i.main.style.display="block",t(i).style.display="none",!i.isAutoHide())l(i)}function u(e){l(e),e.main.style.display="none",t(e).style.display="block"}function c(e,t){var i=e,n=M(t),r=i.helper.getPartClassName("minibar-hover");if(!n.hasClass(r))n.addClass(r),i.minibarDisplayTick=setTimeout(function(){d(i)},i.autoDelay)}function h(e,t){var i=e,n=i.helper.getPartClassName("minibar-hover");M(t).removeClass(n),clearTimeout(i.minibarDisplayTick)}function f(e){e.setMode("fixed")}function p(e){e.setMode("autohide")}function m(e,t){var i=e;if(t=t.toLowerCase(),"fixed"===t)i.getChild("btnAutoHide").show(),i.getChild("btnFixed").hide();else i.getChild("btnAutoHide").hide(),i.getChild("btnFixed").show();i.mode=t}function g(e){clearTimeout(e.minibarDisplayTick)}function v(e,t){var i=e;if(e.isAutoHide()){t=t||window.event;var n=t.relatedTarget||t.toElement;if(!_.dom.contains(e.main,n))i.minibarDisplayTick=setTimeout(function(){u(i)},i.autoDelay)}}var y=require("eoo"),_=require("./lib"),x=require("./Control"),b=require("./main"),w=require("./Panel"),M=require("jquery"),C=require("underscore"),L=y.create(x,{type:"Sidebar",createMain:function(e){if(!e.tagName)return this.$super([e]);else return document.createElement(e.tagName)},initOptions:function(e){var t={headHeight:37,marginTop:10,marginLeft:10,marginBottom:10,autoDelay:300,mode:"fixed"};C.extend(t,e);var i=this.main,n=i.parentNode,r=_.getOffset(n),a=_.getOffset(i);if(null==this.initialOffsetTop)this.initialOffsetTop=a.top-r.top,t.top=a.top,t.left=a.left;else t.top=r.top+this.initialOffsetTop;C.extend(this,t)},initStructure:function(){if(i(this),n(this),r(this),a(this),!_.ie||_.ie>=7)this.topReset=C.partial(s,this),_.on(window,"scroll",this.topReset);if(o(this),this.isAutoHide())u(this)},initEvents:function(){this.helper.addDOMEvent(this.main,"mouseover",C.bind(g,null,this)),this.helper.addDOMEvent(this.main,"mouseout",C.bind(v,null,this))},repaint:require("./painters").createRepaint(x.prototype.repaint,{name:"mode",paint:function(e,t){if(m(e,t),e.isAutoHide())u(e);else d(e);if(e.helper.isInStage("RENDERED"))e.fire("modechange",{mode:t})}}),setMode:function(e){this.setProperties({mode:e})},getMode:function(){return this.mode},getPanel:function(){return this.getChild("content")},setContent:function(e){var t=this.getPanel();if(t)t.setProperties({content:e})},isAutoHide:function(){return"autohide"===this.mode},dispose:function(){var i=this.helper;if(!i.isInStage("DISPOSED")){if(i.beforeDispose(),this.topReset)_.un(window,"scroll",this.topReset),this.topReseter=null;var n=e(this),r=t(this);document.body.removeChild(r),document.body.removeChild(n),this.headEl=null,this.bodyEl=null,i.dispose(),i.afterDispose()}}});return b.register(L),L}),define("esui/Tab",["require","eoo","underscore","./lib","./Control","./main","jquery","./painters"],function(require){function e(e){for(var t=[],i=u(e).children().toArray(),n=0;n<i.length;n++){var r=i[n],a={title:u(r).text(),panel:u(r).attr("data-for")};if(r.className)a.classes=r.className.split(/\s+/);t.push(a)}return t}function t(e){var t=e.target,i=e.currentTarget,n=u(i).parent().children(),r=n.index(i);if(this.helper.isPart(t,"close"))this.removeAt(r);else this.set("activeIndex",r)}function i(e,t,i,n){var r=document.createElement("li");if(e.helper.addPartClasses("item",r),t.classes)u(r).addClass(t.classes.join(" "));if(i)e.helper.addPartClasses("item-active",r);return r.innerHTML=e.getContentHTML(t,n),r}function n(e){var t=e.helper.getPart("navigator"),n=t.parentNode,r=t.nextSibling;t.innerHTML="",t.parentNode.removeChild(t);for(var a=0;a<e.tabs.length;a++){var s=e.tabs[a],o=e.activeIndex===a,l=i(e,s,o,e.allowClose);t.appendChild(l)}n.insertBefore(t,r)}function r(e,t){for(var i=0;i<e.tabs.length;i++){var n=e.tabs[i];if(n.panel){var r=o.g(n.panel);if(r)r.style.display=i===t?"":"none"}var a=e.helper.getPart("navigator"),s=u(a).children().toArray(),l=s[i],d=i===t?"addPartClasses":"removePartClasses";e.helper[d]("item-active",l)}var c={activeIndex:t,tab:e.tabs[t]};e.fire("activate",c)}var a=require("eoo"),s=require("underscore"),o=require("./lib"),l=require("./Control"),d=require("./main"),u=require("jquery"),c=require("./painters"),h=a.create(l,{type:"Tab",initOptions:function(t){var i={tabs:[],activeIndex:0,allowClose:!1,orientation:"horizontal",contentTemplate:"<span>${title}</span>"};s.extend(i,t);var n=u(this.main).children().toArray();if(n.length){for(var r=[],a=0;a<n.length;a++){var o=n[a];if("navigator"===o.getAttribute("data-role")){this.navigatorElement=o,i.tabs=e(o);break}else{var l={title:o.getAttribute("title"),panel:o.id};r.push(l)}}if(!i.tabs.length)i.tabs=r}this.setProperties(i)},initStructure:function(){var e=this.navigatorElement;if(this.navigatorElement=null,!e)e=document.createElement("ul"),this.main.insertBefore(e,this.main.firstChild||null);e.id=this.helper.getId("navigator"),this.helper.addPartClasses("navigator",e)},initEvents:function(){this.helper.addDOMEvent("navigator","click","li",t)},getContentHTML:function(e,t){var i=o.format(this.contentTemplate,{title:s.escape(e.title)});if(t)i+='<span class="'+this.helper.getPartClassName("close")+'">关闭</span>';return i},setProperties:function(e){if(e.tabs){if(null==e.activeIndex){for(var t=this.tabs[this.activeIndex],i=-1,n=0;n<e.tabs.length;n++)if(e.tabs[n]===t){i=n;break}if(-1===i)this.activeIndex=-1,e.activeIndex=0;else this.activeIndex=i}if(null!=e.allowClose)this.allowClose=e.allowClose,delete e.allowClose}this.$super(arguments)},repaint:c.createRepaint(l.prototype.repaint,{name:["tabs","allowClose"],paint:n},{name:"activeIndex",paint:r},{name:"orientation",paint:function(e,t){e.removeState("vertical"),e.removeState("horizontal"),e.addState(t)}}),activate:function(e){for(var t=0;t<this.tabs.length;t++)if(this.tabs[t]===e)this.set("activeIndex",t)},add:function(e){this.insert(e,this.tabs.length)},insert:function(e,t){t=Math.min(t,this.tabs.length),t=Math.max(t,0),this.tabs.splice(t,0,e);var n=i(this,e,!1,this.allowClose),a=this.helper.getPart("navigator"),s=u(a).children().toArray();if(a.insertBefore(n,s[t]||null),1===this.tabs.length)this.activeIndex=0,r(this,0);else{if(t<=this.activeIndex)this.activeIndex++;if(e.panel){var l=o.g(e.panel);if(l)l.style.display="none"}}this.fire("add",{tab:e,index:t})},remove:function(e){for(var t=0;(t=s.indexOf(this.tabs,e,t))>=0;)this.removeAt(t)},removeAt:function(e){var t=this.tabs.splice(e,1)[0],i=this.helper.getPart("navigator");if(t){var n=u(i).children().toArray(),a=n[e];if(a.parentNode.removeChild(a),e<this.activeIndex)this.activeIndex--;else if(e===this.activeIndex)this.activeIndex=Math.min(this.activeIndex,this.tabs.length-1),r(this,this.activeIndex);if(t.panel){var s=o.g(t.panel);if(s)s.style.display="none"}this.fire("remove",{tab:t,index:e})}},getActiveTab:function(){return this.get("tabs")[this.get("activeIndex")]}});return d.register(h),h}),define("esui/TextLine",["require","eoo","./main","underscore","./lib","./InputControl","jquery","./painters","./TextBox"],function(require){function e(e){var t=[],i=this.helper;d.each(e,function(e,n){var r={num:n+1,text:e,lineClass:i.getPartClassName("search-content-line"),textClass:i.getPartClassName("search-content-text"),clearClass:i.getPartClassName("search-content-clear")+" "+i.getIconClass(),numClass:i.getPartClassName("search-content-num")};t.push(u.format(m,r))},this),t=t.join("")||'<div class="'+i.getPartClassName("empty-text")+'">'+this.emptyResultText+"</div>",this.helper.getPart("search-content").innerHTML=t;var n=h(this.helper.getPart("search-info")).height(),r=h(this.helper.getPart("search-wrapper"));r.height(this.height-n)}function t(e){var t=h(e.target).attr("data-value"),i=this.query;this.query="",this.setProperties({rawValue:d.without(this.getValueRepeatableItems(),t),query:i}),this.fire("deleteItem",{item:t})}function i(e){var t=['<div style="width:100%;height:100%;" data-ui-child-name="input"',' data-ui-type="TextBox" data-ui-mode="textarea"',' data-ui-width="100%"',' data-ui-placeholder="${placeholder}">',"</div>"].join("");t=u.format(t,{placeholder:e.placeholder});var i=[e.helper.getPartBeginTag("wrapper","div"),e.helper.getPartBeginTag("num-line","div"),"1",e.helper.getPartEndTag("num-line","div"),e.helper.getPartBeginTag("text-container","div"),t,e.helper.getPartEndTag("text-container","div"),e.helper.getPartEndTag("wrapper","div"),e.helper.getPartBeginTag("search-info","div"),e.helper.getPartBeginTag("search-hint","div"),e.beforeNumberText,e.helper.getPartBeginTag("search-hint-text","span"),"0",e.helper.getPartEndTag("search-hint-text","span"),e.afterNumberText,e.helper.getPartEndTag("search-hint","div"),e.helper.getPartBeginTag("search-back","div"),e.backLinkText,e.helper.getPartEndTag("search-back","div"),e.helper.getPartEndTag("search-info","div"),e.helper.getPartBeginTag("search-wrapper","div"),e.helper.getPartBeginTag("search-num-line","div"),e.helper.getPartEndTag("search-num-line","div"),e.helper.getPartBeginTag("search-content","div"),e.helper.getPartEndTag("search-content","div"),e.helper.getPartEndTag("search-wrapper","div")];return i.join("")}function n(){r.call(this),this.fire("input")}function r(){var e=this.getTextBox(),t=e.getValue().split("\n").length;if(t!==this.number){this.number=t;var i=this.helper.getPart("num-line");i.innerHTML=d.range(1,t+1).join("<br />")}this.resetScroll(),this.fire("change")}function a(){var e=this,t=h(e.main),i=e.helper,n=i.getPrimaryClassName("focus"),r=this.getTextArea(),a=function(){t.removeClass(n),e.removeState("focus"),i.removeDOMEvent(r,"blur",a)};t.addClass(n),e.addState("focus"),i.addDOMEvent(r,"blur",a)}function s(e){var t=this.helper.getPart("wrapper"),i=this.helper.getPart("search-info"),n=this.helper.getPart("search-wrapper");if(e)t.style.display="none",i.style.display="block",n.style.display="block";else this.query="",t.style.display="block",i.style.display="none",n.style.display="none"}var o=require("eoo"),l=require("./main"),d=require("underscore"),u=require("./lib"),c=require("./InputControl"),h=require("jquery"),f=require("./painters");require("./TextBox");var p=o.create(c,{type:"TextLine",initOptions:function(e){var t={width:300,height:200};if(u.isInput(this.main))this.helper.extractOptionsFromInput(this.main,t);if(t.value=t.value||"",t.placeholder=this.main.getAttribute("placeholder")||"",d.extend(t,p.defaultProperties,e),!t.hasOwnProperty("title")&&this.main.title)t.title=this.main.title;this.setProperties(t)},initStructure:function(){if(u.isInput(this.main))this.helper.replaceMain();this.main.innerHTML=i(this),this.helper.initChildren()},initEvents:function(){var e=this.getTextBox();e.on("input",d.bind(n,this));var i=this.getTextArea();this.helper.addDOMEvent(i,"scroll",this.resetScroll),this.helper.addDOMEvent(i,"focus",a);var r=this.helper.getPart("search-back");this.helper.addDOMEvent(r,"click",d.bind(s,this,!1));var o=this.helper.getPart("search-content"),l=this.helper.getPartClassName("search-content-clear");this.helper.addDOMEvent(o,"click","."+l,d.bind(t,this))},repaint:f.createRepaint(c.prototype.repaint,{name:"height",paint:function(e,t){t=t||e.height,e.main.style.height=t+"px"}},{name:"width",paint:function(e,t){t=t||e.width,e.main.style.width=t+"px"}},{name:"rawValue",paint:function(e,t){if(t){if(d.isArray(t))e.value=d.unescape(t.join("\n"));else if("string"==typeof t)e.value=d.unescape(t);var i=e.getTextBox();i.setRawValue(e.value),r.call(e)}}},{name:["disabled","readOnly"],paint:function(e,t,i){var n=e.getTextBox();n.setProperties({disabled:!!t,readOnly:!!i})}},{name:"query",paint:function(t,i){if(!i)return void s.call(t,!1);s.call(t,!0);var n=t.getValueRepeatableItems(),r=d.isString(i)?new RegExp(i):i,a=[];d.each(n,function(e){if(r.test(e))a.push(e)});var o=t.helper.getPart("search-hint-text");o.innerHTML=a.length,e.call(t,a)}}),resetScroll:function(){var e=this.getTextArea(),t=this.helper.getPart("num-line");t.scrollTop=e.scrollTop},stringifyValue:function(e){return e.join("\n")},parseValue:function(e){return u.trim(e.replace(/\n{2,}/g,"\n")).split("\n")},getRawValue:function(){return d.unique(this.getValueRepeatableItems())},getValueRepeatableItems:function(){var e=this.getTextBox(),t=e.getValue(),i=t.split("\n");
return d.chain(i).map(u.trim).compact().value()},getRowsNumber:function(){var e=this.getValue().split("\n");return e.length},addLines:function(e){var t=e.join("\n"),i=this.getValue();if(i.length>0)t=i+"\n"+t;this.setRawValue(t)},getTextBox:function(){return this.getChild("input")},getTextArea:function(){var e=this.getTextBox();return u.g(e.inputId)}});p.defaultProperties={beforeNumberText:"共找到",afterNumberText:"个",backLinkText:"返回",emptyResultText:"搜索结果为空"};var m=['<div class="${lineClass}">','<span class="${numClass}">${num}</span>','<span class="${textClass}">${text}</span>','<span class="${clearClass}" data-value="${text}"></span>',"</div>"].join("");return l.register(p),p}),define("esui/Toast",["require","eoo","./main","./Control","underscore","./painters","jquery"],function(require){function e(){var e=require("./main").getConfig("uiClassPrefix"),t=e+"-toast-collection-area",i=document.getElementById(t);if(!i)i=document.createElement("div"),i.id=t,this.helper.addPartClasses("collection-area",i),document.body.appendChild(i);return i}function t(t){return function(i,n){if("show"===t)t="normal";n=a.extend({content:i},n),n.messageType=n.messageType||t;var s=new l(n);return r.prototype.hide.apply(s),s.appendTo(e.call(s)),s}}var i=require("eoo"),n=require("./main"),r=require("./Control"),a=require("underscore"),s=require("./painters"),o=require("jquery"),l=i.create(r,{type:"Toast",initOptions:function(e){var t={duration:3e3,messageType:"normal",disposeOnHide:!0,autoShow:!1};if(a.extend(t,e),null==t.content)t.content=this.main.innerHTML;this.setProperties(t)},initStructure:function(){this.main.innerHTML=this.helper.getPartHTML("content","p"),this.addState("hidden")},repaint:s.createRepaint(r.prototype.repaint,{name:"content",paint:function(e,t){var i=e.main.firstChild;if(i.innerHTML=t,e.autoShow&&e.helper.isInStage("INITED"))e.show()}},{name:"messageType",paint:function(e){e.helper.addPartClasses(e.messageType)}}),show:function(){if(!this.helper.isInStage("DISPOSED")){if(!this.main.parentElement&&!this.main.parentNode)this.appendTo(e.call(this));if(this.isHidden())if(this.$super(arguments),this.fire("show"),clearTimeout(this.timer),!isNaN(this.duration)&&1/0!==this.duration)this.timer=setTimeout(a.bind(this.hide,this),this.duration)}},hide:function(){if(!this.isHidden())if(this.$super(arguments),clearTimeout(this.timer),this.fire("hide"),this.disposeOnHide)this.dispose()},dispose:function(){if(clearTimeout(this.timer),!this.helper.isInStage("DISPOSED"))this.$super(arguments),o(this.main).remove()}});return a.each(["show","info","alert","error","success"],function(e){l[e]=t(e)}),n.register(l),l}),define("esui/validator/MaxByteLengthRule",["require","./Rule","./ValidityState","eoo","../main"],function(require){var e=require("./Rule"),t=require("./ValidityState"),i=require("eoo"),n=require("../main"),r=i.create(e,{type:"maxByteLength",errorMessage:"${title}不能超过${maxByteLength}个字符",check:function(e,i){var n=e.replace(/[^\x00-\xff]/g,"xx").length;return new t(n<=this.getLimitCondition(i),this.getErrorMessage(i))}});return n.registerRule(r,100),r}),define("esui/validator/MinByteLengthRule",["require","./Rule","./ValidityState","eoo","../main"],function(require){var e=require("./Rule"),t=require("./ValidityState"),i=require("eoo"),n=require("../main"),r=i.create(e,{type:"minByteLength",errorMessage:"${title}不能小于${minByteLength}个字符",check:function(e,i){var n=e.replace(/[^\x00-\xff]/g,"xx").length;return new t(n>=this.getLimitCondition(i),this.getErrorMessage(i))}});return n.registerRule(r,100),r}),define("esui/validator/MinLengthRule",["require","./Rule","./ValidityState","eoo","../main"],function(require){var e=require("./Rule"),t=require("./ValidityState"),i=require("eoo"),n=require("../main"),r=i.create(e,{type:"minLength",errorMessage:"${title}不能小于${minLength}个字符",check:function(e,i){return new t(e.length>=this.getLimitCondition(i),this.getErrorMessage(i))}});return n.registerRule(r,100),r}),define("esui/Wizard",["require","eoo","underscore","./lib","./Control","./main","./painters","jquery"],function(require){function e(e,t,i){var n=t&&t.panel&&r.g(t.panel);if(!n){var a=e.viewContext.get(t.panel);if(a)i?a.show():a.hide(),n=a.main;else return}var s=i?u:d;e.helper[s]("panel-hidden",n)}function t(t){for(var i=t.helper,n='<li class="${classes}">${content}</li>',a="",s=0;s<t.steps.length;s++){var o=t.steps[s],l=i.getPartClasses("node");if(0===s)l.push.apply(l,i.getPartClasses("node-first"));if(s===t.steps.length-1&&!t.finishText)l.push.apply(l,i.getPartClasses("node-last"));if(s===t.activeIndex-1)l.push.apply(l,i.getPartClasses("node-active-prev"));if(s<=t.activeIndex-1)l.push.apply(l,i.getPartClasses("node-done"));var d=s===t.activeIndex;if(e(t,o,d),d)if(l.push.apply(l,i.getPartClasses("node-active")),s===t.steps.length-1)l.push.apply(l,i.getPartClasses("node-last-active"));a+=r.format(n,{classes:l.join(" "),content:t.getNodeHTML(o)})}if(t.finishText){var u=[].concat(i.getPartClasses("node"),i.getPartClasses("node-last"),i.getPartClasses("node-finish"),t.activeIndex===t.steps.length?i.getPartClasses("node-active"):[]);a+=r.format(n,{classes:u.join(" "),content:"<span>"+t.finishText+"</span>"})}return a}var i=require("eoo"),n=require("underscore"),r=require("./lib"),a=require("./Control"),s=require("./main"),o=require("./painters"),l=require("jquery"),d="addPartClasses",u="removePartClasses",c=i.create(a,{type:"Wizard",createMain:function(){return document.createElement("ol")},initOptions:function(e){var t={steps:[],activeIndex:0,nodeTemplate:"<span>${text}</span>",numberNodeTemplate:'<span class="${numberNodeClass}">${number}</span><span class="${textNodeClass}">${text}</span>'},i=l(this.main).children();if(!e.steps)i.each(function(e,i){var n=l(i),r={text:n.text()},a=n.attr("data-for");if(a)r.panel=a;var s=n.attr("data-node-number");if(s)r.number=s;t.steps.push(r)});n.extend(t,e),this.setProperties(t)},getNodeHTML:function(e){if(e.number){var t=this.helper;return r.format(this.numberNodeTemplate,{numberNodeClass:t.getPartClassName("node-number"),textNodeClass:t.getPartClassName("node-text"),text:n.escape(e.text),number:n.escape(e.number)})}return r.format(this.nodeTemplate,{text:n.escape(e.text)})},repaint:o.createRepaint(a.prototype.repaint,{name:["steps","finishText"],paint:function(e){e.main.innerHTML=t(e)}},{name:"activeIndex",paint:function(t){var i=t.helper;if(i.isInStage("RENDERED"))for(var n,r,a,s,o,l=t.main.getElementsByTagName("li"),c=l.length-1;c>=0;c--){if(a=c===t.activeIndex,e(t,t.steps[c],a),r=l[c],n=a?d:u,i[n]("node-active",r),c===t.steps.length-1)i[n]("node-last-active",r);s=c<=t.activeIndex-1,n=s?d:u,i[n]("node-done",r),o=c===t.activeIndex-1,n=o?d:u,i[n]("node-active-prev",r)}}}),setProperties:function(e){if(e.hasOwnProperty("steps")){if(e.hasOwnProperty("activeIndex"))this.activeIndex=e.activeIndex,delete e.activeIndex;else this.activeIndex=0;if(e.hasOwnProperty("finishText"))this.finishText=e.finishText,delete e.finishText}var t=this.$super([e]);if(t.hasOwnProperty("steps")||t.hasOwnProperty("activeIndex"))this.fire("enter")},getActiveStep:function(){return this.get("steps")[this.get("activeIndex")]},stepNext:function(){var e=this.finishText?this.steps.length:this.steps.length-1;if(this.activeIndex<e)this.set("activeIndex",this.activeIndex+1)},stepPrevious:function(){if(this.activeIndex>0)this.set("activeIndex",this.activeIndex-1)}});return s.register(c),c}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/ar-ma",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){return e.lang("ar-ma",{months:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),weekdays:"الأحد_الإتنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اتنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:6,doy:12}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/ar-sa",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){var t={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},i={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"};return e.lang("ar-sa",{months:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},meridiem:function(e){if(12>e)return"ص";else return"م"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},preparse:function(e){return e.replace(/[۰-۹]/g,function(e){return i[e]}).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"،")},week:{dow:6,doy:12}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/ar",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){var t={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},i={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"};return e.lang("ar",{months:"يناير/ كانون الثاني_فبراير/ شباط_مارس/ آذار_أبريل/ نيسان_مايو/ أيار_يونيو/ حزيران_يوليو/ تموز_أغسطس/ آب_سبتمبر/ أيلول_أكتوبر/ تشرين الأول_نوفمبر/ تشرين الثاني_ديسمبر/ كانون الأول".split("_"),monthsShort:"يناير/ كانون الثاني_فبراير/ شباط_مارس/ آذار_أبريل/ نيسان_مايو/ أيار_يونيو/ حزيران_يوليو/ تموز_أغسطس/ آب_سبتمبر/ أيلول_أكتوبر/ تشرين الأول_نوفمبر/ تشرين الثاني_ديسمبر/ كانون الأول".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},meridiem:function(e){if(12>e)return"ص";else return"م"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},preparse:function(e){return e.replace(/[۰-۹]/g,function(e){return i[e]}).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"،")},week:{dow:6,doy:12}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/az",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){var t={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-üncü",4:"-üncü",100:"-üncü",6:"-ncı",9:"-uncu",10:"-uncu",30:"-uncu",60:"-ıncı",90:"-ıncı"};return e.lang("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertəsi_Çərşənbə axşamı_Çərşənbə_Cümə axşamı_Cümə_Şənbə".split("_"),weekdaysShort:"Baz_BzE_ÇAx_Çər_CAx_Cüm_Şən".split("_"),weekdaysMin:"Bz_BE_ÇA_Çə_CA_Cü_Şə".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gələn həftə] dddd [saat] LT",lastDay:"[dünən] LT",lastWeek:"[keçən həftə] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s əvvəl",s:"birneçə saniyyə",m:"bir dəqiqə",mm:"%d dəqiqə",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiem:function(e){if(4>e)return"gecə";else if(12>e)return"səhər";else if(17>e)return"gündüz";else return"axşam"},ordinal:function(e){if(0===e)return e+"-ıncı";var i=e%10,n=e%100-i,r=e>=100?100:null;return e+(t[i]||t[n]||t[r])},week:{dow:1,doy:7}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/bg",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){return e.lang("bg",{months:"януари_февруари_март_април_май_юни_юли_август_септември_октомври_ноември_декември".split("_"),monthsShort:"янр_фев_мар_апр_май_юни_юли_авг_сеп_окт_ное_дек".split("_"),weekdays:"неделя_понеделник_вторник_сряда_четвъртък_петък_събота".split("_"),weekdaysShort:"нед_пон_вто_сря_чет_пет_съб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"H:mm",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Днес в] LT",nextDay:"[Утре в] LT",nextWeek:"dddd [в] LT",lastDay:"[Вчера в] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[В изминалата] dddd [в] LT";case 1:case 2:case 4:case 5:return"[В изминалия] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"след %s",past:"преди %s",s:"няколко секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дни",M:"месец",MM:"%d месеца",y:"година",yy:"%d години"},ordinal:function(e){var t=e%10,i=e%100;if(0===e)return e+"-ев";else if(0===i)return e+"-ен";else if(i>10&&20>i)return e+"-ти";else if(1===t)return e+"-ви";else if(2===t)return e+"-ри";else if(7===t||8===t)return e+"-ми";else return e+"-ти"},week:{dow:1,doy:7}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/bn",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){var t={1:"১",2:"২",3:"৩",4:"৪",5:"৫",6:"৬",7:"৭",8:"৮",9:"৯",0:"০"},i={"১":"1","২":"2","৩":"3","৪":"4","৫":"5","৬":"6","৭":"7","৮":"8","৯":"9","০":"0"};return e.lang("bn",{months:"জানুয়ারী_ফেবুয়ারী_মার্চ_এপ্রিল_মে_জুন_জুলাই_অগাস্ট_সেপ্টেম্বর_অক্টোবর_নভেম্বর_ডিসেম্বর".split("_"),monthsShort:"জানু_ফেব_মার্চ_এপর_মে_জুন_জুল_অগ_সেপ্ট_অক্টো_নভ_ডিসেম্".split("_"),weekdays:"রবিবার_সোমবার_মঙ্গলবার_বুধবার_বৃহস্পত্তিবার_শুক্রুবার_শনিবার".split("_"),weekdaysShort:"রবি_সোম_মঙ্গল_বুধ_বৃহস্পত্তি_শুক্রু_শনি".split("_"),weekdaysMin:"রব_সম_মঙ্গ_বু_ব্রিহ_শু_শনি".split("_"),longDateFormat:{LT:"A h:mm সময়",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[আজ] LT",nextDay:"[আগামীকাল] LT",nextWeek:"dddd, LT",lastDay:"[গতকাল] LT",lastWeek:"[গত] dddd, LT",sameElse:"L"},relativeTime:{future:"%s পরে",past:"%s আগে",s:"কএক সেকেন্ড",m:"এক মিনিট",mm:"%d মিনিট",h:"এক ঘন্টা",hh:"%d ঘন্টা",d:"এক দিন",dd:"%d দিন",M:"এক মাস",MM:"%d মাস",y:"এক বছর",yy:"%d বছর"},preparse:function(e){return e.replace(/[১২৩৪৫৬৭৮৯০]/g,function(e){return i[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiem:function(e){if(4>e)return"রাত";else if(10>e)return"শকাল";else if(17>e)return"দুপুর";else if(20>e)return"বিকেল";else return"রাত"},week:{dow:0,doy:6}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/br",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){function t(e,t,i){var n={mm:"munutenn",MM:"miz",dd:"devezh"};return e+" "+r(n[i],e)}function i(e){switch(n(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}function n(e){if(e>9)return n(e%10);else return e}function r(e,t){if(2===t)return a(e);else return e}function a(e){var t={m:"v",b:"v",d:"z"};if(void 0===t[e.charAt(0)])return e;else return t[e.charAt(0)]+e.substring(1)}return e.lang("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),longDateFormat:{LT:"h[e]mm A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY LT",LLLL:"dddd, D [a viz] MMMM YYYY LT"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondennoù",m:"ur vunutenn",mm:t,h:"un eur",hh:"%d eur",d:"un devezh",dd:t,M:"ur miz",MM:t,y:"ur bloaz",yy:i},ordinal:function(e){var t=1===e?"añ":"vet";return e+t},week:{dow:1,doy:4}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/bs",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){function t(e,t,i){var n=e+" ";switch(i){case"m":return t?"jedna minuta":"jedne minute";case"mm":if(1===e)n+="minuta";else if(2===e||3===e||4===e)n+="minute";else n+="minuta";return n;case"h":return t?"jedan sat":"jednog sata";case"hh":if(1===e)n+="sat";else if(2===e||3===e||4===e)n+="sata";else n+="sati";return n;case"dd":if(1===e)n+="dan";else n+="dana";return n;case"MM":if(1===e)n+="mjesec";else if(2===e||3===e||4===e)n+="mjeseca";else n+="mjeseci";return n;case"yy":if(1===e)n+="godina";else if(2===e||3===e||4===e)n+="godine";else n+="godina";return n}}return e.lang("bs",{months:"januar_februar_mart_april_maj_juni_juli_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),longDateFormat:{LT:"H:mm",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prošlu] dddd [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},ordinal:"%d.",week:{dow:1,doy:7}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/ca",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){return e.lang("ca",{months:"gener_febrer_març_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),monthsShort:"gen._febr._mar._abr._mai._jun._jul._ag._set._oct._nov._des.".split("_"),weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"Dg_Dl_Dt_Dc_Dj_Dv_Ds".split("_"),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[demà a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"fa %s",s:"uns segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},ordinal:"%dº",week:{dow:1,doy:4}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/cs",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){function t(e){return e>1&&5>e&&1!==~~(e/10)}function i(e,i,n,r){var a=e+" ";switch(n){case"s":return i||r?"pár sekund":"pár sekundami";case"m":return i?"minuta":r?"minutu":"minutou";case"mm":if(i||r)return a+(t(e)?"minuty":"minut");else return a+"minutami";case"h":return i?"hodina":r?"hodinu":"hodinou";case"hh":if(i||r)return a+(t(e)?"hodiny":"hodin");else return a+"hodinami";case"d":return i||r?"den":"dnem";case"dd":if(i||r)return a+(t(e)?"dny":"dní");else return a+"dny";case"M":return i||r?"měsíc":"měsícem";case"MM":if(i||r)return a+(t(e)?"měsíce":"měsíců");else return a+"měsíci";case"y":return i||r?"rok":"rokem";case"yy":if(i||r)return a+(t(e)?"roky":"let");else return a+"lety"}}var n="leden_únor_březen_duben_květen_červen_červenec_srpen_září_říjen_listopad_prosinec".split("_"),r="led_úno_bře_dub_kvě_čvn_čvc_srp_zář_říj_lis_pro".split("_");return e.lang("cs",{months:n,monthsShort:r,monthsParse:function(e,t){var i,n=[];for(i=0;12>i;i++)n[i]=new RegExp("^"+e[i]+"$|^"+t[i]+"$","i");return n}(n,r),weekdays:"neděle_pondělí_úterý_středa_čtvrtek_pátek_sobota".split("_"),weekdaysShort:"ne_po_út_st_čt_pá_so".split("_"),weekdaysMin:"ne_po_út_st_čt_pá_so".split("_"),longDateFormat:{LT:"H.mm",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd D. MMMM YYYY LT"},calendar:{sameDay:"[dnes v] LT",nextDay:"[zítra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v neděli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve středu v] LT";case 4:return"[ve čtvrtek v] LT";case 5:return"[v pátek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[včera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou neděli v] LT";case 1:case 2:return"[minulé] dddd [v] LT";case 3:return"[minulou středu v] LT";case 4:case 5:return"[minulý] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"před %s",s:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/cv",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){return e.lang("cv",{months:"кăрлач_нарăс_пуш_ака_май_çĕртме_утă_çурла_авăн_юпа_чӳк_раштав".split("_"),monthsShort:"кăр_нар_пуш_ака_май_çĕр_утă_çур_ав_юпа_чӳк_раш".split("_"),weekdays:"вырсарникун_тунтикун_ытларикун_юнкун_кĕçнерникун_эрнекун_шăматкун".split("_"),weekdaysShort:"выр_тун_ытл_юн_кĕç_эрн_шăм".split("_"),weekdaysMin:"вр_тн_ыт_юн_кç_эр_шм".split("_"),longDateFormat:{LT:"HH:mm",L:"DD-MM-YYYY",LL:"YYYY [çулхи] MMMM [уйăхĕн] D[-мĕшĕ]",LLL:"YYYY [çулхи] MMMM [уйăхĕн] D[-мĕшĕ], LT",LLLL:"dddd, YYYY [çулхи] MMMM [уйăхĕн] D[-мĕшĕ], LT"},calendar:{sameDay:"[Паян] LT [сехетре]",nextDay:"[Ыран] LT [сехетре]",lastDay:"[Ĕнер] LT [сехетре]",nextWeek:"[Çитес] dddd LT [сехетре]",lastWeek:"[Иртнĕ] dddd LT [сехетре]",sameElse:"L"},relativeTime:{future:function(e){var t=/сехет$/i.exec(e)?"рен":/çул$/i.exec(e)?"тан":"ран";return e+t},past:"%s каялла",s:"пĕр-ик çеккунт",m:"пĕр минут",mm:"%d минут",h:"пĕр сехет",hh:"%d сехет",d:"пĕр кун",dd:"%d кун",M:"пĕр уйăх",MM:"%d уйăх",y:"пĕр çул",yy:"%d çул"},ordinal:"%d-мĕш",week:{dow:1,doy:7}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/cy",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){return e.lang("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn ôl",s:"ychydig eiliadau",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},ordinal:function(e){var t=e,i="",n=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"];if(t>20)if(40===t||50===t||60===t||80===t||100===t)i="fed";else i="ain";else if(t>0)i=n[t];return e+i},week:{dow:1,doy:4}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/da",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){return e.lang("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"søn_man_tir_ons_tor_fre_lør".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd [d.] D. MMMM YYYY LT"},calendar:{sameDay:"[I dag kl.] LT",nextDay:"[I morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[I går kl.] LT",lastWeek:"[sidste] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"få sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en måned",MM:"%d måneder",y:"et år",yy:"%d år"},ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/de-at",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){function t(e,t,i){var n={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?n[i][0]:n[i][1]}return e.lang("de-at",{months:"Jänner_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jän._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm [Uhr]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Heute um] LT",sameElse:"L",nextDay:"[Morgen um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gestern um] LT",lastWeek:"[letzten] dddd [um] LT"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/de",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){function t(e,t,i){var n={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?n[i][0]:n[i][1]}return e.lang("de",{months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm [Uhr]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Heute um] LT",sameElse:"L",nextDay:"[Morgen um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gestern um] LT",lastWeek:"[letzten] dddd [um] LT"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/el",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){return e.lang("el",{monthsNominativeEl:"Ιανουάριος_Φεβρουάριος_Μάρτιος_Απρίλιος_Μάιος_Ιούνιος_Ιούλιος_Αύγουστος_Σεπτέμβριος_Οκτώβριος_Νοέμβριος_Δεκέμβριος".split("_"),monthsGenitiveEl:"Ιανουαρίου_Φεβρουαρίου_Μαρτίου_Απριλίου_Μαΐου_Ιουνίου_Ιουλίου_Αυγούστου_Σεπτεμβρίου_Οκτωβρίου_Νοεμβρίου_Δεκεμβρίου".split("_"),months:function(e,t){if(/D/.test(t.substring(0,t.indexOf("MMMM"))))return this._monthsGenitiveEl[e.month()];else return this._monthsNominativeEl[e.month()]},monthsShort:"Ιαν_Φεβ_Μαρ_Απρ_Μαϊ_Ιουν_Ιουλ_Αυγ_Σεπ_Οκτ_Νοε_Δεκ".split("_"),weekdays:"Κυριακή_Δευτέρα_Τρίτη_Τετάρτη_Πέμπτη_Παρασκευή_Σάββατο".split("_"),weekdaysShort:"Κυρ_Δευ_Τρι_Τετ_Πεμ_Παρ_Σαβ".split("_"),weekdaysMin:"Κυ_Δε_Τρ_Τε_Πε_Πα_Σα".split("_"),meridiem:function(e,t,i){if(e>11)return i?"μμ":"ΜΜ";else return i?"πμ":"ΠΜ"},longDateFormat:{LT:"h:mm A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendarEl:{sameDay:"[Σήμερα {}] LT",nextDay:"[Αύριο {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[Χθες {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[το προηγούμενο] dddd [{}] LT";default:return"[την προηγούμενη] dddd [{}] LT"}},sameElse:"L"},calendar:function(e,t){var i=this._calendarEl[e],n=t&&t.hours();if("function"==typeof i)i=i.apply(t);return i.replace("{}",n%12===1?"στη":"στις")},relativeTime:{future:"σε %s",past:"%s πριν",s:"δευτερόλεπτα",m:"ένα λεπτό",mm:"%d λεπτά",h:"μία ώρα",hh:"%d ώρες",d:"μία μέρα",dd:"%d μέρες",M:"ένας μήνας",MM:"%d μήνες",y:"ένας χρόνος",yy:"%d χρόνια"},ordinal:function(e){return e+"η"},week:{dow:1,doy:4}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/en-au",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){return e.lang("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(e){var t=e%10,i=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";
return e+i},week:{dow:1,doy:4}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/en-ca",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){return e.lang("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",L:"YYYY-MM-DD",LL:"D MMMM, YYYY",LLL:"D MMMM, YYYY LT",LLLL:"dddd, D MMMM, YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(e){var t=e%10,i=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+i}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/en-gb",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){return e.lang("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(e){var t=e%10,i=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+i},week:{dow:1,doy:4}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/eo",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){return e.lang("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_aŭgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aŭg_sep_okt_nov_dec".split("_"),weekdays:"Dimanĉo_Lundo_Mardo_Merkredo_Ĵaŭdo_Vendredo_Sabato".split("_"),weekdaysShort:"Dim_Lun_Mard_Merk_Ĵaŭ_Ven_Sab".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Ĵa_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"D[-an de] MMMM, YYYY",LLL:"D[-an de] MMMM, YYYY LT",LLLL:"dddd, [la] D[-an de] MMMM, YYYY LT"},meridiem:function(e,t,i){if(e>11)return i?"p.t.m.":"P.T.M.";else return i?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodiaŭ je] LT",nextDay:"[Morgaŭ je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hieraŭ je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"je %s",past:"antaŭ %s",s:"sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},ordinal:"%da",week:{dow:1,doy:7}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/es",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),i="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");return e.lang("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,n){if(/-MMM-/.test(n))return i[e.month()];else return t[e.month()]},weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sá".split("_"),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D [de] MMMM [del] YYYY",LLL:"D [de] MMMM [del] YYYY LT",LLLL:"dddd, D [de] MMMM [del] YYYY LT"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinal:"%dº",week:{dow:1,doy:4}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/et",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){function t(e,t,i,n){var r={s:["mõne sekundi","mõni sekund","paar sekundit"],m:["ühe minuti","üks minut"],mm:[e+" minuti",e+" minutit"],h:["ühe tunni","tund aega","üks tund"],hh:[e+" tunni",e+" tundi"],d:["ühe päeva","üks päev"],M:["kuu aja","kuu aega","üks kuu"],MM:[e+" kuu",e+" kuud"],y:["ühe aasta","aasta","üks aasta"],yy:[e+" aasta",e+" aastat"]};if(t)return r[i][2]?r[i][2]:r[i][1];else return n?r[i][0]:r[i][1]}return e.lang("et",{months:"jaanuar_veebruar_märts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_märts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"pühapäev_esmaspäev_teisipäev_kolmapäev_neljapäev_reede_laupäev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Täna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Järgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s pärast",past:"%s tagasi",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:"%d päeva",M:t,MM:t,y:t,yy:t},ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/eu",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){return e.lang("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] LT",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] LT",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] LT",llll:"ddd, YYYY[ko] MMM D[a] LT"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},ordinal:"%d.",week:{dow:1,doy:7}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/fa",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){var t={1:"۱",2:"۲",3:"۳",4:"۴",5:"۵",6:"۶",7:"۷",8:"۸",9:"۹",0:"۰"},i={"۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","۰":"0"};return e.lang("fa",{months:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),monthsShort:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),weekdays:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysShort:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysMin:"ی_د_س_چ_پ_ج_ش".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},meridiem:function(e){if(12>e)return"قبل از ظهر";else return"بعد از ظهر"},calendar:{sameDay:"[امروز ساعت] LT",nextDay:"[فردا ساعت] LT",nextWeek:"dddd [ساعت] LT",lastDay:"[دیروز ساعت] LT",lastWeek:"dddd [پیش] [ساعت] LT",sameElse:"L"},relativeTime:{future:"در %s",past:"%s پیش",s:"چندین ثانیه",m:"یک دقیقه",mm:"%d دقیقه",h:"یک ساعت",hh:"%d ساعت",d:"یک روز",dd:"%d روز",M:"یک ماه",MM:"%d ماه",y:"یک سال",yy:"%d سال"},preparse:function(e){return e.replace(/[۰-۹]/g,function(e){return i[e]}).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"،")},ordinal:"%dم",week:{dow:6,doy:12}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/fi",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){function t(e,t,n,r){var a="";switch(n){case"s":return r?"muutaman sekunnin":"muutama sekunti";case"m":return r?"minuutin":"minuutti";case"mm":a=r?"minuutin":"minuuttia";break;case"h":return r?"tunnin":"tunti";case"hh":a=r?"tunnin":"tuntia";break;case"d":return r?"päivän":"päivä";case"dd":a=r?"päivän":"päivää";break;case"M":return r?"kuukauden":"kuukausi";case"MM":a=r?"kuukauden":"kuukautta";break;case"y":return r?"vuoden":"vuosi";case"yy":a=r?"vuoden":"vuotta"}return a=i(e,r)+" "+a}function i(e,t){return 10>e?t?r[e]:n[e]:e}var n="nolla yksi kaksi kolme neljä viisi kuusi seitsemän kahdeksan yhdeksän".split(" "),r=["nolla","yhden","kahden","kolmen","neljän","viiden","kuuden",n[7],n[8],n[9]];return e.lang("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kesäkuu_heinäkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kesä_heinä_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] LT",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] LT",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] LT",llll:"ddd, Do MMM YYYY, [klo] LT"},calendar:{sameDay:"[tänään] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s päästä",past:"%s sitten",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/fo",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){return e.lang("fo",{months:"januar_februar_mars_apríl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mánadagur_týsdagur_mikudagur_hósdagur_fríggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mán_týs_mik_hós_frí_ley".split("_"),weekdaysMin:"su_má_tý_mi_hó_fr_le".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D. MMMM, YYYY LT"},calendar:{sameDay:"[Í dag kl.] LT",nextDay:"[Í morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[Í gjár kl.] LT",lastWeek:"[síðstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s síðani",s:"fá sekund",m:"ein minutt",mm:"%d minuttir",h:"ein tími",hh:"%d tímar",d:"ein dagur",dd:"%d dagar",M:"ein mánaði",MM:"%d mánaðir",y:"eitt ár",yy:"%d ár"},ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/fr-ca",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){return e.lang("fr-ca",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Aujourd'hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(e){return e+(1===e?"er":"")}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/fr",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){return e.lang("fr",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Aujourd'hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(e){return e+(1===e?"er":"")},week:{dow:1,doy:4}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/gl",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){return e.lang("gl",{months:"Xaneiro_Febreiro_Marzo_Abril_Maio_Xuño_Xullo_Agosto_Setembro_Outubro_Novembro_Decembro".split("_"),monthsShort:"Xan._Feb._Mar._Abr._Mai._Xuñ._Xul._Ago._Set._Out._Nov._Dec.".split("_"),weekdays:"Domingo_Luns_Martes_Mércores_Xoves_Venres_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mér._Xov._Ven._Sáb.".split("_"),weekdaysMin:"Do_Lu_Ma_Mé_Xo_Ve_Sá".split("_"),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"ás":"á")+"] LT"},nextDay:function(){return"[mañá "+(1!==this.hours()?"ás":"á")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"ás":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"á":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"ás":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){if("uns segundos"===e)return"nuns segundos";else return"en "+e},past:"hai %s",s:"uns segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},ordinal:"%dº",week:{dow:1,doy:7}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/he",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){return e.lang("he",{months:"ינואר_פברואר_מרץ_אפריל_מאי_יוני_יולי_אוגוסט_ספטמבר_אוקטובר_נובמבר_דצמבר".split("_"),monthsShort:"ינו׳_פבר׳_מרץ_אפר׳_מאי_יוני_יולי_אוג׳_ספט׳_אוק׳_נוב׳_דצמ׳".split("_"),weekdays:"ראשון_שני_שלישי_רביעי_חמישי_שישי_שבת".split("_"),weekdaysShort:"א׳_ב׳_ג׳_ד׳_ה׳_ו׳_ש׳".split("_"),weekdaysMin:"א_ב_ג_ד_ה_ו_ש".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D [ב]MMMM YYYY",LLL:"D [ב]MMMM YYYY LT",LLLL:"dddd, D [ב]MMMM YYYY LT",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY LT",llll:"ddd, D MMM YYYY LT"},calendar:{sameDay:"[היום ב־]LT",nextDay:"[מחר ב־]LT",nextWeek:"dddd [בשעה] LT",lastDay:"[אתמול ב־]LT",lastWeek:"[ביום] dddd [האחרון בשעה] LT",sameElse:"L"},relativeTime:{future:"בעוד %s",past:"לפני %s",s:"מספר שניות",m:"דקה",mm:"%d דקות",h:"שעה",hh:function(e){if(2===e)return"שעתיים";else return e+" שעות"},d:"יום",dd:function(e){if(2===e)return"יומיים";else return e+" ימים"},M:"חודש",MM:function(e){if(2===e)return"חודשיים";else return e+" חודשים"},y:"שנה",yy:function(e){if(2===e)return"שנתיים";else return e+" שנים"}}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/hi",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},i={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};return e.lang("hi",{months:"जनवरी_फ़रवरी_मार्च_अप्रैल_मई_जून_जुलाई_अगस्त_सितम्बर_अक्टूबर_नवम्बर_दिसम्बर".split("_"),monthsShort:"जन._फ़र._मार्च_अप्रै._मई_जून_जुल._अग._सित._अक्टू._नव._दिस.".split("_"),weekdays:"रविवार_सोमवार_मंगलवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगल_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[आज] LT",nextDay:"[कल] LT",nextWeek:"dddd, LT",lastDay:"[कल] LT",lastWeek:"[पिछले] dddd, LT",sameElse:"L"},relativeTime:{future:"%s में",past:"%s पहले",s:"कुछ ही क्षण",m:"एक मिनट",mm:"%d मिनट",h:"एक घंटा",hh:"%d घंटे",d:"एक दिन",dd:"%d दिन",M:"एक महीने",MM:"%d महीने",y:"एक वर्ष",yy:"%d वर्ष"},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,function(e){return i[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiem:function(e){if(4>e)return"रात";else if(10>e)return"सुबह";else if(17>e)return"दोपहर";else if(20>e)return"शाम";else return"रात"},week:{dow:0,doy:6}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/hr",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){function t(e,t,i){var n=e+" ";switch(i){case"m":return t?"jedna minuta":"jedne minute";case"mm":if(1===e)n+="minuta";else if(2===e||3===e||4===e)n+="minute";else n+="minuta";return n;case"h":return t?"jedan sat":"jednog sata";case"hh":if(1===e)n+="sat";else if(2===e||3===e||4===e)n+="sata";else n+="sati";return n;case"dd":if(1===e)n+="dan";else n+="dana";return n;case"MM":if(1===e)n+="mjesec";else if(2===e||3===e||4===e)n+="mjeseca";else n+="mjeseci";return n;case"yy":if(1===e)n+="godina";else if(2===e||3===e||4===e)n+="godine";else n+="godina";return n}}return e.lang("hr",{months:"sječanj_veljača_ožujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_"),monthsShort:"sje._vel._ožu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),longDateFormat:{LT:"H:mm",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prošlu] dddd [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},ordinal:"%d.",week:{dow:1,doy:7}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/hu",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){function t(e,t,i,n){var r=e;switch(i){case"s":return n||t?"néhány másodperc":"néhány másodperce";case"m":return"egy"+(n||t?" perc":" perce");case"mm":return r+(n||t?" perc":" perce");case"h":return"egy"+(n||t?" óra":" órája");case"hh":return r+(n||t?" óra":" órája");case"d":return"egy"+(n||t?" nap":" napja");case"dd":return r+(n||t?" nap":" napja");case"M":return"egy"+(n||t?" hónap":" hónapja");case"MM":return r+(n||t?" hónap":" hónapja");case"y":return"egy"+(n||t?" év":" éve");case"yy":return r+(n||t?" év":" éve")}return""}function i(e){return(e?"":"[múlt] ")+"["+n[this.day()]+"] LT[-kor]"}var n="vasárnap hétfőn kedden szerdán csütörtökön pénteken szombaton".split(" ");return e.lang("hu",{months:"január_február_március_április_május_június_július_augusztus_szeptember_október_november_december".split("_"),monthsShort:"jan_feb_márc_ápr_máj_jún_júl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasárnap_hétfő_kedd_szerda_csütörtök_péntek_szombat".split("_"),weekdaysShort:"vas_hét_kedd_sze_csüt_pén_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D., LT",LLLL:"YYYY. MMMM D., dddd LT"},meridiem:function(e,t,i){if(12>e)return i===!0?"de":"DE";else return i===!0?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return i.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return i.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s múlva",past:"%s",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinal:"%d.",week:{dow:1,doy:7}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/hy-am",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){function t(e,t){var i={nominative:"հունվար_փետրվար_մարտ_ապրիլ_մայիս_հունիս_հուլիս_օգոստոս_սեպտեմբեր_հոկտեմբեր_նոյեմբեր_դեկտեմբեր".split("_"),accusative:"հունվարի_փետրվարի_մարտի_ապրիլի_մայիսի_հունիսի_հուլիսի_օգոստոսի_սեպտեմբերի_հոկտեմբերի_նոյեմբերի_դեկտեմբերի".split("_")},n=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative";return i[n][e.month()]}function i(e){var t="հնվ_փտր_մրտ_ապր_մյս_հնս_հլս_օգս_սպտ_հկտ_նմբ_դկտ".split("_");return t[e.month()]}function n(e){var t="կիրակի_երկուշաբթի_երեքշաբթի_չորեքշաբթի_հինգշաբթի_ուրբաթ_շաբաթ".split("_");return t[e.day()]}return e.lang("hy-am",{months:t,monthsShort:i,weekdays:n,weekdaysShort:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),weekdaysMin:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY թ.",LLL:"D MMMM YYYY թ., LT",LLLL:"dddd, D MMMM YYYY թ., LT"},calendar:{sameDay:"[այսօր] LT",nextDay:"[վաղը] LT",lastDay:"[երեկ] LT",nextWeek:function(){return"dddd [օրը ժամը] LT"},lastWeek:function(){return"[անցած] dddd [օրը ժամը] LT"},sameElse:"L"},relativeTime:{future:"%s հետո",past:"%s առաջ",s:"մի քանի վայրկյան",m:"րոպե",mm:"%d րոպե",h:"ժամ",hh:"%d ժամ",d:"օր",dd:"%d օր",M:"ամիս",MM:"%d ամիս",y:"տարի",yy:"%d տարի"},meridiem:function(e){if(4>e)return"գիշերվա";else if(12>e)return"առավոտվա";else if(17>e)return"ցերեկվա";else return"երեկոյան"},ordinal:function(e,t){switch(t){case"DDD":case"w":case"W":case"DDDo":if(1===e)return e+"-ին";else return e+"-րդ";default:return e}},week:{dow:1,doy:7}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/id",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){return e.lang("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] LT",LLLL:"dddd, D MMMM YYYY [pukul] LT"},meridiem:function(e){if(11>e)return"pagi";else if(15>e)return"siang";else if(19>e)return"sore";else return"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/is",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){function t(e){if(e%100===11)return!0;else if(e%10===1)return!1;return!0}function i(e,i,n,r){var a=e+" ";switch(n){case"s":return i||r?"nokkrar sekúndur":"nokkrum sekúndum";case"m":return i?"mínúta":"mínútu";case"mm":if(t(e))return a+(i||r?"mínútur":"mínútum");else if(i)return a+"mínúta";return a+"mínútu";case"hh":if(t(e))return a+(i||r?"klukkustundir":"klukkustundum");else return a+"klukkustund";case"d":if(i)return"dagur";else return r?"dag":"degi";case"dd":if(t(e))if(i)return a+"dagar";else return a+(r?"daga":"dögum");else if(i)return a+"dagur";return a+(r?"dag":"degi");case"M":if(i)return"mánuður";else return r?"mánuð":"mánuði";case"MM":if(t(e))if(i)return a+"mánuðir";else return a+(r?"mánuði":"mánuðum");else if(i)return a+"mánuður";return a+(r?"mánuð":"mánuði");case"y":return i||r?"ár":"ári";case"yy":if(t(e))return a+(i||r?"ár":"árum");else return a+(i||r?"ár":"ári")}}return e.lang("is",{months:"janúar_febrúar_mars_apríl_maí_júní_júlí_ágúst_september_október_nóvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_maí_jún_júl_ágú_sep_okt_nóv_des".split("_"),weekdays:"sunnudagur_mánudagur_þriðjudagur_miðvikudagur_fimmtudagur_föstudagur_laugardagur".split("_"),weekdaysShort:"sun_mán_þri_mið_fim_fös_lau".split("_"),weekdaysMin:"Su_Má_Þr_Mi_Fi_Fö_La".split("_"),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] LT",LLLL:"dddd, D. MMMM YYYY [kl.] LT"},calendar:{sameDay:"[í dag kl.] LT",nextDay:"[á morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[í gær kl.] LT",lastWeek:"[síðasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s síðan",s:i,m:i,mm:i,h:"klukkustund",hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/it",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){return e.lang("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"Domenica_Lunedì_Martedì_Mercoledì_Giovedì_Venerdì_Sabato".split("_"),weekdaysShort:"Dom_Lun_Mar_Mer_Gio_Ven_Sab".split("_"),weekdaysMin:"D_L_Ma_Me_G_V_S".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:"[lo scorso] dddd [alle] LT",sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinal:"%dº",week:{dow:1,doy:4}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/ja",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){return e.lang("ja",{months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),longDateFormat:{LT:"Ah時m分",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日LT",LLLL:"YYYY年M月D日LT dddd"},meridiem:function(e){if(12>e)return"午前";else return"午後"},calendar:{sameDay:"[今日] LT",nextDay:"[明日] LT",nextWeek:"[来週]dddd LT",lastDay:"[昨日] LT",lastWeek:"[前週]dddd LT",sameElse:"L"},relativeTime:{future:"%s後",past:"%s前",s:"数秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/ka",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){function t(e,t){var i={nominative:"იანვარი_თებერვალი_მარტი_აპრილი_მაისი_ივნისი_ივლისი_აგვისტო_სექტემბერი_ოქტომბერი_ნოემბერი_დეკემბერი".split("_"),accusative:"იანვარს_თებერვალს_მარტს_აპრილის_მაისს_ივნისს_ივლისს_აგვისტს_სექტემბერს_ოქტომბერს_ნოემბერს_დეკემბერს".split("_")},n=/D[oD] *MMMM?/.test(t)?"accusative":"nominative";return i[n][e.month()]}function i(e,t){var i={nominative:"კვირა_ორშაბათი_სამშაბათი_ოთხშაბათი_ხუთშაბათი_პარასკევი_შაბათი".split("_"),accusative:"კვირას_ორშაბათს_სამშაბათს_ოთხშაბათს_ხუთშაბათს_პარასკევს_შაბათს".split("_")},n=/(წინა|შემდეგ)/.test(t)?"accusative":"nominative";return i[n][e.day()]}return e.lang("ka",{months:t,monthsShort:"იან_თებ_მარ_აპრ_მაი_ივნ_ივლ_აგვ_სექ_ოქტ_ნოე_დეკ".split("_"),weekdays:i,weekdaysShort:"კვი_ორშ_სამ_ოთხ_ხუთ_პარ_შაბ".split("_"),weekdaysMin:"კვ_ორ_სა_ოთ_ხუ_პა_შა".split("_"),longDateFormat:{LT:"h:mm A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[დღეს] LT[-ზე]",nextDay:"[ხვალ] LT[-ზე]",lastDay:"[გუშინ] LT[-ზე]",nextWeek:"[შემდეგ] dddd LT[-ზე]",lastWeek:"[წინა] dddd LT-ზე",sameElse:"L"},relativeTime:{future:function(e){return/(წამი|წუთი|საათი|წელი)/.test(e)?e.replace(/ი$/,"ში"):e+"ში"},past:function(e){if(/(წამი|წუთი|საათი|დღე|თვე)/.test(e))return e.replace(/(ი|ე)$/,"ის წინ");if(/წელი/.test(e))return e.replace(/წელი$/,"წლის წინ");else return void 0},s:"რამდენიმე წამი",m:"წუთი",mm:"%d წუთი",h:"საათი",hh:"%d საათი",d:"დღე",dd:"%d დღე",M:"თვე",MM:"%d თვე",y:"წელი",yy:"%d წელი"},ordinal:function(e){if(0===e)return e;if(1===e)return e+"-ლი";if(20>e||100>=e&&e%20===0||e%100===0)return"მე-"+e;else return e+"-ე"},week:{dow:1,doy:7}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/km",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){return e.lang("km",{months:"មករា_កុម្ភៈ_មិនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),monthsShort:"មករា_កុម្ភៈ_មិនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),weekdays:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),weekdaysShort:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),weekdaysMin:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[ថ្ងៃនៈ ម៉ោង] LT",nextDay:"[ស្អែក ម៉ោង] LT",nextWeek:"dddd [ម៉ោង] LT",lastDay:"[ម្សិលមិញ ម៉ោង] LT",lastWeek:"dddd [សប្តាហ៍មុន] [ម៉ោង] LT",sameElse:"L"},relativeTime:{future:"%sទៀត",past:"%sមុន",s:"ប៉ុន្មានវិនាទី",m:"មួយនាទី",mm:"%d នាទី",h:"មួយម៉ោង",hh:"%d ម៉ោង",d:"មួយថ្ងៃ",dd:"%d ថ្ងៃ",M:"មួយខែ",MM:"%d ខែ",y:"មួយឆ្នាំ",yy:"%d ឆ្នាំ"},week:{dow:1,doy:4}})
}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/ko",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){return e.lang("ko",{months:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),monthsShort:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),weekdays:"일요일_월요일_화요일_수요일_목요일_금요일_토요일".split("_"),weekdaysShort:"일_월_화_수_목_금_토".split("_"),weekdaysMin:"일_월_화_수_목_금_토".split("_"),longDateFormat:{LT:"A h시 mm분",L:"YYYY.MM.DD",LL:"YYYY년 MMMM D일",LLL:"YYYY년 MMMM D일 LT",LLLL:"YYYY년 MMMM D일 dddd LT"},meridiem:function(e){return 12>e?"오전":"오후"},calendar:{sameDay:"오늘 LT",nextDay:"내일 LT",nextWeek:"dddd LT",lastDay:"어제 LT",lastWeek:"지난주 dddd LT",sameElse:"L"},relativeTime:{future:"%s 후",past:"%s 전",s:"몇초",ss:"%d초",m:"일분",mm:"%d분",h:"한시간",hh:"%d시간",d:"하루",dd:"%d일",M:"한달",MM:"%d달",y:"일년",yy:"%d년"},ordinal:"%d일",meridiemParse:/(오전|오후)/,isPM:function(e){return"오후"===e}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/lb",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){function t(e,t,i){var n={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],dd:[e+" Deeg",e+" Deeg"],M:["ee Mount","engem Mount"],MM:[e+" Méint",e+" Méint"],y:["ee Joer","engem Joer"],yy:[e+" Joer",e+" Joer"]};return t?n[i][0]:n[i][1]}function i(e){var t=e.substr(0,e.indexOf(" "));if(s(t))return"a "+e;else return"an "+e}function n(e){var t=e.substr(0,e.indexOf(" "));if(s(t))return"viru "+e;else return"virun "+e}function r(){var e=this.format("d");if(a(e))return"[Leschte] dddd [um] LT";else return"[Leschten] dddd [um] LT"}function a(e){switch(e=parseInt(e,10)){case 0:case 1:case 3:case 5:case 6:return!0;default:return!1}}function s(e){if(e=parseInt(e,10),isNaN(e))return!1;if(0>e)return!0;else if(10>e)if(e>=4&&7>=e)return!0;else return!1;else if(100>e){var t=e%10,i=e/10;if(0===t)return s(i);else return s(t)}else if(1e4>e){for(;e>=10;)e/=10;return s(e)}else return e/=1e3,s(e)}return e.lang("lb",{months:"Januar_Februar_Mäerz_Abrëll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonndeg_Méindeg_Dënschdeg_Mëttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._Mé._Dë._Më._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mé_Dë_Më_Do_Fr_Sa".split("_"),longDateFormat:{LT:"H:mm [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gëschter um] LT",lastWeek:r},relativeTime:{future:i,past:n,s:"e puer Sekonnen",m:t,mm:"%d Minutten",h:t,hh:"%d Stonnen",d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/lt",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){function t(e,t,i,n){if(t)return"kelios sekundės";else return n?"kelių sekundžių":"kelias sekundes"}function i(e,t,i,n){return t?r(i)[0]:n?r(i)[1]:r(i)[2]}function n(e){return e%10===0||e>10&&20>e}function r(e){return o[e].split("_")}function a(e,t,a,s){var o=e+" ";if(1===e)return o+i(e,t,a[0],s);else if(t)return o+(n(e)?r(a)[1]:r(a)[0]);else if(s)return o+r(a)[1];else return o+(n(e)?r(a)[1]:r(a)[2])}function s(e,t){var i=-1===t.indexOf("dddd HH:mm"),n=l[e.day()];return i?n:n.substring(0,n.length-2)+"į"}var o={m:"minutė_minutės_minutę",mm:"minutės_minučių_minutes",h:"valanda_valandos_valandą",hh:"valandos_valandų_valandas",d:"diena_dienos_dieną",dd:"dienos_dienų_dienas",M:"mėnuo_mėnesio_mėnesį",MM:"mėnesiai_mėnesių_mėnesius",y:"metai_metų_metus",yy:"metai_metų_metus"},l="sekmadienis_pirmadienis_antradienis_trečiadienis_ketvirtadienis_penktadienis_šeštadienis".split("_");return e.lang("lt",{months:"sausio_vasario_kovo_balandžio_gegužės_biržėlio_liepos_rugpjūčio_rugsėjo_spalio_lapkričio_gruodžio".split("_"),monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:s,weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_Šeš".split("_"),weekdaysMin:"S_P_A_T_K_Pn_Š".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], LT [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, LT [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], LT [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, LT [val.]"},calendar:{sameDay:"[Šiandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Praėjusį] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prieš %s",s:t,m:i,mm:a,h:i,hh:a,d:i,dd:a,M:i,MM:a,y:i,yy:a},ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/lv",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){function t(e,t,i){var n=e.split("_");if(i)return t%10===1&&11!==t?n[2]:n[3];else return t%10===1&&11!==t?n[0]:n[1]}function i(e,i,r){return e+" "+t(n[r],e,i)}var n={mm:"minūti_minūtes_minūte_minūtes",hh:"stundu_stundas_stunda_stundas",dd:"dienu_dienas_diena_dienas",MM:"mēnesi_mēnešus_mēnesis_mēneši",yy:"gadu_gadus_gads_gadi"};return e.lang("lv",{months:"janvāris_februāris_marts_aprīlis_maijs_jūnijs_jūlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jūn_jūl_aug_sep_okt_nov_dec".split("_"),weekdays:"svētdiena_pirmdiena_otrdiena_trešdiena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, LT",LLLL:"YYYY. [gada] D. MMMM, dddd, LT"},calendar:{sameDay:"[Šodien pulksten] LT",nextDay:"[Rīt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagājušā] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"%s vēlāk",past:"%s agrāk",s:"dažas sekundes",m:"minūti",mm:i,h:"stundu",hh:i,d:"dienu",dd:i,M:"mēnesi",MM:i,y:"gadu",yy:i},ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/mk",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){return e.lang("mk",{months:"јануари_февруари_март_април_мај_јуни_јули_август_септември_октомври_ноември_декември".split("_"),monthsShort:"јан_фев_мар_апр_мај_јун_јул_авг_сеп_окт_ное_дек".split("_"),weekdays:"недела_понеделник_вторник_среда_четврток_петок_сабота".split("_"),weekdaysShort:"нед_пон_вто_сре_чет_пет_саб".split("_"),weekdaysMin:"нe_пo_вт_ср_че_пе_сa".split("_"),longDateFormat:{LT:"H:mm",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Денес во] LT",nextDay:"[Утре во] LT",nextWeek:"dddd [во] LT",lastDay:"[Вчера во] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[Во изминатата] dddd [во] LT";case 1:case 2:case 4:case 5:return"[Во изминатиот] dddd [во] LT"}},sameElse:"L"},relativeTime:{future:"после %s",past:"пред %s",s:"неколку секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дена",M:"месец",MM:"%d месеци",y:"година",yy:"%d години"},ordinal:function(e){var t=e%10,i=e%100;if(0===e)return e+"-ев";else if(0===i)return e+"-ен";else if(i>10&&20>i)return e+"-ти";else if(1===t)return e+"-ви";else if(2===t)return e+"-ри";else if(7===t||8===t)return e+"-ми";else return e+"-ти"},week:{dow:1,doy:7}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/ml",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){return e.lang("ml",{months:"ജനുവരി_ഫെബ്രുവരി_മാർച്ച്_ഏപ്രിൽ_മേയ്_ജൂൺ_ജൂലൈ_ഓഗസ്റ്റ്_സെപ്റ്റംബർ_ഒക്ടോബർ_നവംബർ_ഡിസംബർ".split("_"),monthsShort:"ജനു._ഫെബ്രു._മാർ._ഏപ്രി._മേയ്_ജൂൺ_ജൂലൈ._ഓഗ._സെപ്റ്റ._ഒക്ടോ._നവം._ഡിസം.".split("_"),weekdays:"ഞായറാഴ്ച_തിങ്കളാഴ്ച_ചൊവ്വാഴ്ച_ബുധനാഴ്ച_വ്യാഴാഴ്ച_വെള്ളിയാഴ്ച_ശനിയാഴ്ച".split("_"),weekdaysShort:"ഞായർ_തിങ്കൾ_ചൊവ്വ_ബുധൻ_വ്യാഴം_വെള്ളി_ശനി".split("_"),weekdaysMin:"ഞാ_തി_ചൊ_ബു_വ്യാ_വെ_ശ".split("_"),longDateFormat:{LT:"A h:mm -നു",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[ഇന്ന്] LT",nextDay:"[നാളെ] LT",nextWeek:"dddd, LT",lastDay:"[ഇന്നലെ] LT",lastWeek:"[കഴിഞ്ഞ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s കഴിഞ്ഞ്",past:"%s മുൻപ്",s:"അൽപ നിമിഷങ്ങൾ",m:"ഒരു മിനിറ്റ്",mm:"%d മിനിറ്റ്",h:"ഒരു മണിക്കൂർ",hh:"%d മണിക്കൂർ",d:"ഒരു ദിവസം",dd:"%d ദിവസം",M:"ഒരു മാസം",MM:"%d മാസം",y:"ഒരു വർഷം",yy:"%d വർഷം"},meridiem:function(e){if(4>e)return"രാത്രി";else if(12>e)return"രാവിലെ";else if(17>e)return"ഉച്ച കഴിഞ്ഞ്";else if(20>e)return"വൈകുന്നേരം";else return"രാത്രി"}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/mr",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},i={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};return e.lang("mr",{months:"जानेवारी_फेब्रुवारी_मार्च_एप्रिल_मे_जून_जुलै_ऑगस्ट_सप्टेंबर_ऑक्टोबर_नोव्हेंबर_डिसेंबर".split("_"),monthsShort:"जाने._फेब्रु._मार्च._एप्रि._मे._जून._जुलै._ऑग._सप्टें._ऑक्टो._नोव्हें._डिसें.".split("_"),weekdays:"रविवार_सोमवार_मंगळवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगळ_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm वाजता",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[आज] LT",nextDay:"[उद्या] LT",nextWeek:"dddd, LT",lastDay:"[काल] LT",lastWeek:"[मागील] dddd, LT",sameElse:"L"},relativeTime:{future:"%s नंतर",past:"%s पूर्वी",s:"सेकंद",m:"एक मिनिट",mm:"%d मिनिटे",h:"एक तास",hh:"%d तास",d:"एक दिवस",dd:"%d दिवस",M:"एक महिना",MM:"%d महिने",y:"एक वर्ष",yy:"%d वर्षे"},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,function(e){return i[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiem:function(e){if(4>e)return"रात्री";else if(10>e)return"सकाळी";else if(17>e)return"दुपारी";else if(20>e)return"सायंकाळी";else return"रात्री"},week:{dow:0,doy:6}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/ms-my",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){return e.lang("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] LT",LLLL:"dddd, D MMMM YYYY [pukul] LT"},meridiem:function(e){if(11>e)return"pagi";else if(15>e)return"tengahari";else if(19>e)return"petang";else return"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/nb",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){return e.lang("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"sø._ma._ti._on._to._fr._lø.".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),longDateFormat:{LT:"H.mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] LT",LLLL:"dddd D. MMMM YYYY [kl.] LT"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i går kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s siden",s:"noen sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en måned",MM:"%d måneder",y:"ett år",yy:"%d år"},ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/ne",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},i={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};return e.lang("ne",{months:"जनवरी_फेब्रुवरी_मार्च_अप्रिल_मई_जुन_जुलाई_अगष्ट_सेप्टेम्बर_अक्टोबर_नोभेम्बर_डिसेम्बर".split("_"),monthsShort:"जन._फेब्रु._मार्च_अप्रि._मई_जुन_जुलाई._अग._सेप्ट._अक्टो._नोभे._डिसे.".split("_"),weekdays:"आइतबार_सोमबार_मङ्गलबार_बुधबार_बिहिबार_शुक्रबार_शनिबार".split("_"),weekdaysShort:"आइत._सोम._मङ्गल._बुध._बिहि._शुक्र._शनि.".split("_"),weekdaysMin:"आइ._सो._मङ्_बु._बि._शु._श.".split("_"),longDateFormat:{LT:"Aको h:mm बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,function(e){return i[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiem:function(e){if(3>e)return"राती";else if(10>e)return"बिहान";else if(15>e)return"दिउँसो";else if(18>e)return"बेलुका";else if(20>e)return"साँझ";else return"राती"},calendar:{sameDay:"[आज] LT",nextDay:"[भोली] LT",nextWeek:"[आउँदो] dddd[,] LT",lastDay:"[हिजो] LT",lastWeek:"[गएको] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%sमा",past:"%s अगाडी",s:"केही समय",m:"एक मिनेट",mm:"%d मिनेट",h:"एक घण्टा",hh:"%d घण्टा",d:"एक दिन",dd:"%d दिन",M:"एक महिना",MM:"%d महिना",y:"एक बर्ष",yy:"%d बर्ष"},week:{dow:1,doy:7}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/nl",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),i="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_");return e.lang("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,n){if(/-MMM-/.test(n))return i[e.month()];else return t[e.month()]},weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"Zo_Ma_Di_Wo_Do_Vr_Za".split("_"),longDateFormat:{LT:"HH:mm",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"één minuut",mm:"%d minuten",h:"één uur",hh:"%d uur",d:"één dag",dd:"%d dagen",M:"één maand",MM:"%d maanden",y:"één jaar",yy:"%d jaar"},ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/nn",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){return e.lang("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_måndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mån_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_må_ty_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I går klokka] LT",lastWeek:"[Føregåande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s sidan",s:"nokre sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein månad",MM:"%d månader",y:"eit år",yy:"%d år"},ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/pl",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){function t(e){return 5>e%10&&e%10>1&&~~(e/10)%10!==1}function i(e,i,n){var r=e+" ";switch(n){case"m":return i?"minuta":"minutę";case"mm":return r+(t(e)?"minuty":"minut");case"h":return i?"godzina":"godzinę";case"hh":return r+(t(e)?"godziny":"godzin");case"MM":return r+(t(e)?"miesiące":"miesięcy");case"yy":return r+(t(e)?"lata":"lat")}}var n="styczeń_luty_marzec_kwiecień_maj_czerwiec_lipiec_sierpień_wrzesień_październik_listopad_grudzień".split("_"),r="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_września_października_listopada_grudnia".split("_");return e.lang("pl",{months:function(e,t){if(/D MMMM/.test(t))return r[e.month()];else return n[e.month()]},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paź_lis_gru".split("_"),weekdays:"niedziela_poniedziałek_wtorek_środa_czwartek_piątek_sobota".split("_"),weekdaysShort:"nie_pon_wt_śr_czw_pt_sb".split("_"),weekdaysMin:"N_Pn_Wt_Śr_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Dziś o] LT",nextDay:"[Jutro o] LT",nextWeek:"[W] dddd [o] LT",lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zeszłą niedzielę o] LT";case 3:return"[W zeszłą środę o] LT";case 6:return"[W zeszłą sobotę o] LT";default:return"[W zeszły] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:i,mm:i,h:i,hh:i,d:"1 dzień",dd:"%d dni",M:"miesiąc",MM:i,y:"rok",yy:i},ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/pt-br",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){return e.lang("pt-br",{months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_terça-feira_quarta-feira_quinta-feira_sexta-feira_sábado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sáb".split("_"),weekdaysMin:"dom_2ª_3ª_4ª_5ª_6ª_sáb".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [às] LT",LLLL:"dddd, D [de] MMMM [de] YYYY [às] LT"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrás",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinal:"%dº"})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/pt",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){return e.lang("pt",{months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_terça-feira_quarta-feira_quinta-feira_sexta-feira_sábado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sáb".split("_"),weekdaysMin:"dom_2ª_3ª_4ª_5ª_6ª_sáb".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY LT",LLLL:"dddd, D [de] MMMM [de] YYYY LT"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"há %s",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinal:"%dº",week:{dow:1,doy:4}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/ro",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){function t(e,t,i){var n={mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"},r=" ";if(e%100>=20||e>=100&&e%100===0)r=" de ";return e+r+n[i]}return e.lang("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),weekdays:"duminică_luni_marți_miercuri_joi_vineri_sâmbătă".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sâm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_Sâ".split("_"),longDateFormat:{LT:"H:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mâine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s în urmă",s:"câteva secunde",m:"un minut",mm:t,h:"o oră",hh:t,d:"o zi",dd:t,M:"o lună",MM:t,y:"un an",yy:t},week:{dow:1,doy:7}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/ru",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){function t(e,t){var i=e.split("_");return t%10===1&&t%100!==11?i[0]:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?i[1]:i[2]}function i(e,i,n){var r={mm:i?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",MM:"месяц_месяца_месяцев",yy:"год_года_лет"};if("m"===n)return i?"минута":"минуту";else return e+" "+t(r[n],+e)}function n(e,t){var i={nominative:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),accusative:"января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_")},n=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative";return i[n][e.month()]}function r(e,t){var i={nominative:"янв_фев_мар_апр_май_июнь_июль_авг_сен_окт_ноя_дек".split("_"),accusative:"янв_фев_мар_апр_мая_июня_июля_авг_сен_окт_ноя_дек".split("_")},n=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative";return i[n][e.month()]}function a(e,t){var i={nominative:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),accusative:"воскресенье_понедельник_вторник_среду_четверг_пятницу_субботу".split("_")},n=/\[ ?[Вв] ?(?:прошлую|следующую)? ?\] ?dddd/.test(t)?"accusative":"nominative";return i[n][e.day()]}return e.lang("ru",{months:n,monthsShort:r,weekdays:a,weekdaysShort:"вс_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),monthsParse:[/^янв/i,/^фев/i,/^мар/i,/^апр/i,/^ма[й|я]/i,/^июн/i,/^июл/i,/^авг/i,/^сен/i,/^окт/i,/^ноя/i,/^дек/i],longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., LT",LLLL:"dddd, D MMMM YYYY г., LT"},calendar:{sameDay:"[Сегодня в] LT",nextDay:"[Завтра в] LT",lastDay:"[Вчера в] LT",nextWeek:function(){return 2===this.day()?"[Во] dddd [в] LT":"[В] dddd [в] LT"},lastWeek:function(){switch(this.day()){case 0:return"[В прошлое] dddd [в] LT";case 1:case 2:case 4:return"[В прошлый] dddd [в] LT";case 3:case 5:case 6:return"[В прошлую] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",m:i,mm:i,h:"час",hh:i,d:"день",dd:i,M:"месяц",MM:i,y:"год",yy:i},meridiemParse:/ночи|утра|дня|вечера/i,isPM:function(e){return/^(дня|вечера)$/.test(e)},meridiem:function(e){if(4>e)return"ночи";else if(12>e)return"утра";else if(17>e)return"дня";else return"вечера"},ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-й";case"D":return e+"-го";case"w":case"W":return e+"-я";default:return e}},week:{dow:1,doy:7}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/sk",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){function t(e){return e>1&&5>e}function i(e,i,n,r){var a=e+" ";switch(n){case"s":return i||r?"pár sekúnd":"pár sekundami";case"m":return i?"minúta":r?"minútu":"minútou";case"mm":if(i||r)return a+(t(e)?"minúty":"minút");else return a+"minútami";case"h":return i?"hodina":r?"hodinu":"hodinou";case"hh":if(i||r)return a+(t(e)?"hodiny":"hodín");else return a+"hodinami";case"d":return i||r?"deň":"dňom";case"dd":if(i||r)return a+(t(e)?"dni":"dní");else return a+"dňami";case"M":return i||r?"mesiac":"mesiacom";case"MM":if(i||r)return a+(t(e)?"mesiace":"mesiacov");else return a+"mesiacmi";case"y":return i||r?"rok":"rokom";case"yy":if(i||r)return a+(t(e)?"roky":"rokov");else return a+"rokmi"}}var n="január_február_marec_apríl_máj_jún_júl_august_september_október_november_december".split("_"),r="jan_feb_mar_apr_máj_jún_júl_aug_sep_okt_nov_dec".split("_");return e.lang("sk",{months:n,monthsShort:r,monthsParse:function(e,t){var i,n=[];for(i=0;12>i;i++)n[i]=new RegExp("^"+e[i]+"$|^"+t[i]+"$","i");return n}(n,r),weekdays:"nedeľa_pondelok_utorok_streda_štvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_št_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_št_pi_so".split("_"),longDateFormat:{LT:"H:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd D. MMMM YYYY LT"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeľu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo štvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[včera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulú nedeľu o] LT";case 1:case 2:return"[minulý] dddd [o] LT";case 3:return"[minulú stredu o] LT";case 4:case 5:return"[minulý] dddd [o] LT";case 6:return"[minulú sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/sl",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){function t(e,t,i){var n=e+" ";switch(i){case"m":return t?"ena minuta":"eno minuto";case"mm":if(1===e)n+="minuta";else if(2===e)n+="minuti";else if(3===e||4===e)n+="minute";else n+="minut";return n;case"h":return t?"ena ura":"eno uro";case"hh":if(1===e)n+="ura";else if(2===e)n+="uri";else if(3===e||4===e)n+="ure";else n+="ur";return n;case"dd":if(1===e)n+="dan";else n+="dni";return n;case"MM":if(1===e)n+="mesec";else if(2===e)n+="meseca";else if(3===e||4===e)n+="mesece";else n+="mesecev";return n;case"yy":if(1===e)n+="leto";else if(2===e)n+="leti";else if(3===e||4===e)n+="leta";else n+="let";return n}}return e.lang("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),weekdays:"nedelja_ponedeljek_torek_sreda_četrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._čet._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_če_pe_so".split("_"),longDateFormat:{LT:"H:mm",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[včeraj ob] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[prejšnja] dddd [ob] LT";case 1:case 2:case 4:case 5:return"[prejšnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"čez %s",past:"%s nazaj",s:"nekaj sekund",m:t,mm:t,h:t,hh:t,d:"en dan",dd:t,M:"en mesec",MM:t,y:"eno leto",yy:t},ordinal:"%d.",week:{dow:1,doy:7}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/sq",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){return e.lang("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nëntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nën_Dhj".split("_"),weekdays:"E Diel_E Hënë_E Martë_E Mërkurë_E Enjte_E Premte_E Shtunë".split("_"),weekdaysShort:"Die_Hën_Mar_Mër_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_Më_E_P_Sh".split("_"),meridiem:function(e){return 12>e?"PD":"MD"},longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Sot në] LT",nextDay:"[Nesër në] LT",nextWeek:"dddd [në] LT",lastDay:"[Dje në] LT",lastWeek:"dddd [e kaluar në] LT",sameElse:"L"},relativeTime:{future:"në %s",past:"%s më parë",s:"disa sekonda",m:"një minutë",mm:"%d minuta",h:"një orë",hh:"%d orë",d:"një ditë",dd:"%d ditë",M:"një muaj",MM:"%d muaj",y:"një vit",yy:"%d vite"},ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/sr-cyrl",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){var t={words:{m:["један минут","једне минуте"],mm:["минут","минуте","минута"],h:["један сат","једног сата"],hh:["сат","сата","сати"],dd:["дан","дана","дана"],MM:["месец","месеца","месеци"],yy:["година","године","година"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&4>=e?t[1]:t[2]},translate:function(e,i,n){var r=t.words[n];if(1===n.length)return i?r[0]:r[1];else return e+" "+t.correctGrammaticalCase(e,r)}};return e.lang("sr-cyrl",{months:["јануар","фебруар","март","април","мај","јун","јул","август","септембар","октобар","новембар","децембар"],monthsShort:["јан.","феб.","мар.","апр.","мај","јун","јул","авг.","сеп.","окт.","нов.","дец."],weekdays:["недеља","понедељак","уторак","среда","четвртак","петак","субота"],weekdaysShort:["нед.","пон.","уто.","сре.","чет.","пет.","суб."],weekdaysMin:["не","по","ут","ср","че","пе","су"],longDateFormat:{LT:"H:mm",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[данас у] LT",nextDay:"[сутра у] LT",nextWeek:function(){switch(this.day()){case 0:return"[у] [недељу] [у] LT";case 3:return"[у] [среду] [у] LT";case 6:return"[у] [суботу] [у] LT";case 1:case 2:case 4:case 5:return"[у] dddd [у] LT"}},lastDay:"[јуче у] LT",lastWeek:function(){var e=["[прошле] [недеље] [у] LT","[прошлог] [понедељка] [у] LT","[прошлог] [уторка] [у] LT","[прошле] [среде] [у] LT","[прошлог] [четвртка] [у] LT","[прошлог] [петка] [у] LT","[прошле] [суботе] [у] LT"];return e[this.day()]},sameElse:"L"},relativeTime:{future:"за %s",past:"пре %s",s:"неколико секунди",m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"дан",dd:t.translate,M:"месец",MM:t.translate,y:"годину",yy:t.translate},ordinal:"%d.",week:{dow:1,doy:7}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/sr",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)
}(function(e){var t={words:{m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&4>=e?t[1]:t[2]},translate:function(e,i,n){var r=t.words[n];if(1===n.length)return i?r[0]:r[1];else return e+" "+t.correctGrammaticalCase(e,r)}};return e.lang("sr",{months:["januar","februar","mart","april","maj","jun","jul","avgust","septembar","oktobar","novembar","decembar"],monthsShort:["jan.","feb.","mar.","apr.","maj","jun","jul","avg.","sep.","okt.","nov.","dec."],weekdays:["nedelja","ponedeljak","utorak","sreda","četvrtak","petak","subota"],weekdaysShort:["ned.","pon.","uto.","sre.","čet.","pet.","sub."],weekdaysMin:["ne","po","ut","sr","če","pe","su"],longDateFormat:{LT:"H:mm",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juče u] LT",lastWeek:function(){var e=["[prošle] [nedelje] [u] LT","[prošlog] [ponedeljka] [u] LT","[prošlog] [utorka] [u] LT","[prošle] [srede] [u] LT","[prošlog] [četvrtka] [u] LT","[prošlog] [petka] [u] LT","[prošle] [subote] [u] LT"];return e[this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mesec",MM:t.translate,y:"godinu",yy:t.translate},ordinal:"%d.",week:{dow:1,doy:7}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/sv",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){return e.lang("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"söndag_måndag_tisdag_onsdag_torsdag_fredag_lördag".split("_"),weekdaysShort:"sön_mån_tis_ons_tor_fre_lör".split("_"),weekdaysMin:"sö_må_ti_on_to_fr_lö".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igår] LT",nextWeek:"dddd LT",lastWeek:"[Förra] dddd[en] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"för %s sedan",s:"några sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en månad",MM:"%d månader",y:"ett år",yy:"%d år"},ordinal:function(e){var t=e%10,i=1===~~(e%100/10)?"e":1===t?"a":2===t?"a":3===t?"e":"e";return e+i},week:{dow:1,doy:4}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/ta",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){return e.lang("ta",{months:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),monthsShort:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),weekdays:"ஞாயிற்றுக்கிழமை_திங்கட்கிழமை_செவ்வாய்கிழமை_புதன்கிழமை_வியாழக்கிழமை_வெள்ளிக்கிழமை_சனிக்கிழமை".split("_"),weekdaysShort:"ஞாயிறு_திங்கள்_செவ்வாய்_புதன்_வியாழன்_வெள்ளி_சனி".split("_"),weekdaysMin:"ஞா_தி_செ_பு_வி_வெ_ச".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[இன்று] LT",nextDay:"[நாளை] LT",nextWeek:"dddd, LT",lastDay:"[நேற்று] LT",lastWeek:"[கடந்த வாரம்] dddd, LT",sameElse:"L"},relativeTime:{future:"%s இல்",past:"%s முன்",s:"ஒரு சில விநாடிகள்",m:"ஒரு நிமிடம்",mm:"%d நிமிடங்கள்",h:"ஒரு மணி நேரம்",hh:"%d மணி நேரம்",d:"ஒரு நாள்",dd:"%d நாட்கள்",M:"ஒரு மாதம்",MM:"%d மாதங்கள்",y:"ஒரு வருடம்",yy:"%d ஆண்டுகள்"},ordinal:function(e){return e+"வது"},meridiem:function(e){if(e>=6&&10>=e)return" காலை";else if(e>=10&&14>=e)return" நண்பகல்";else if(e>=14&&18>=e)return" எற்பாடு";else if(e>=18&&20>=e)return" மாலை";else if(e>=20&&24>=e)return" இரவு";else if(e>=0&&6>=e)return" வைகறை"},week:{dow:0,doy:6}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/th",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){return e.lang("th",{months:"มกราคม_กุมภาพันธ์_มีนาคม_เมษายน_พฤษภาคม_มิถุนายน_กรกฎาคม_สิงหาคม_กันยายน_ตุลาคม_พฤศจิกายน_ธันวาคม".split("_"),monthsShort:"มกรา_กุมภา_มีนา_เมษา_พฤษภา_มิถุนา_กรกฎา_สิงหา_กันยา_ตุลา_พฤศจิกา_ธันวา".split("_"),weekdays:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัสบดี_ศุกร์_เสาร์".split("_"),weekdaysShort:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัส_ศุกร์_เสาร์".split("_"),weekdaysMin:"อา._จ._อ._พ._พฤ._ศ._ส.".split("_"),longDateFormat:{LT:"H นาฬิกา m นาที",L:"YYYY/MM/DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY เวลา LT",LLLL:"วันddddที่ D MMMM YYYY เวลา LT"},meridiem:function(e){if(12>e)return"ก่อนเที่ยง";else return"หลังเที่ยง"},calendar:{sameDay:"[วันนี้ เวลา] LT",nextDay:"[พรุ่งนี้ เวลา] LT",nextWeek:"dddd[หน้า เวลา] LT",lastDay:"[เมื่อวานนี้ เวลา] LT",lastWeek:"[วัน]dddd[ที่แล้ว เวลา] LT",sameElse:"L"},relativeTime:{future:"อีก %s",past:"%sที่แล้ว",s:"ไม่กี่วินาที",m:"1 นาที",mm:"%d นาที",h:"1 ชั่วโมง",hh:"%d ชั่วโมง",d:"1 วัน",dd:"%d วัน",M:"1 เดือน",MM:"%d เดือน",y:"1 ปี",yy:"%d ปี"}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/tl-ph",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){return e.lang("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM DD, YYYY LT"},calendar:{sameDay:"[Ngayon sa] LT",nextDay:"[Bukas sa] LT",nextWeek:"dddd [sa] LT",lastDay:"[Kahapon sa] LT",lastWeek:"dddd [huling linggo] LT",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},ordinal:function(e){return e},week:{dow:1,doy:4}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/tr",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'üncü",4:"'üncü",100:"'üncü",6:"'ncı",9:"'uncu",10:"'uncu",30:"'uncu",60:"'ıncı",90:"'ıncı"};return e.lang("tr",{months:"Ocak_Şubat_Mart_Nisan_Mayıs_Haziran_Temmuz_Ağustos_Eylül_Ekim_Kasım_Aralık".split("_"),monthsShort:"Oca_Şub_Mar_Nis_May_Haz_Tem_Ağu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Salı_Çarşamba_Perşembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_Çar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_Ça_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[yarın saat] LT",nextWeek:"[haftaya] dddd [saat] LT",lastDay:"[dün] LT",lastWeek:"[geçen hafta] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s önce",s:"birkaç saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir yıl",yy:"%d yıl"},ordinal:function(e){if(0===e)return e+"'ıncı";var i=e%10,n=e%100-i,r=e>=100?100:null;return e+(t[i]||t[n]||t[r])},week:{dow:1,doy:7}})}),define("moment/lang/tzm-la",["require","exports","module","../moment"],function(require){require("../moment").lang("tzm-la",{months:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",m:"minuḍ",mm:"%d minuḍ",h:"saɛa",hh:"%d tassaɛin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/tzm-latn",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){return e.lang("tzm-latn",{months:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",m:"minuḍ",mm:"%d minuḍ",h:"saɛa",hh:"%d tassaɛin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/tzm",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){return e.lang("tzm",{months:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),monthsShort:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),weekdays:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysShort:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysMin:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[ⴰⵙⴷⵅ ⴴ] LT",nextDay:"[ⴰⵙⴽⴰ ⴴ] LT",nextWeek:"dddd [ⴴ] LT",lastDay:"[ⴰⵚⴰⵏⵜ ⴴ] LT",lastWeek:"dddd [ⴴ] LT",sameElse:"L"},relativeTime:{future:"ⴷⴰⴷⵅ ⵙ ⵢⴰⵏ %s",past:"ⵢⴰⵏ %s",s:"ⵉⵎⵉⴽ",m:"ⵎⵉⵏⵓⴺ",mm:"%d ⵎⵉⵏⵓⴺ",h:"ⵙⴰⵄⴰ",hh:"%d ⵜⴰⵙⵙⴰⵄⵉⵏ",d:"ⴰⵙⵙ",dd:"%d oⵙⵙⴰⵏ",M:"ⴰⵢoⵓⵔ",MM:"%d ⵉⵢⵢⵉⵔⵏ",y:"ⴰⵙⴳⴰⵙ",yy:"%d ⵉⵙⴳⴰⵙⵏ"},week:{dow:6,doy:12}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/uk",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){function t(e,t){var i=e.split("_");return t%10===1&&t%100!==11?i[0]:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?i[1]:i[2]}function i(e,i,n){var r={mm:"хвилина_хвилини_хвилин",hh:"година_години_годин",dd:"день_дні_днів",MM:"місяць_місяці_місяців",yy:"рік_роки_років"};if("m"===n)return i?"хвилина":"хвилину";else if("h"===n)return i?"година":"годину";else return e+" "+t(r[n],+e)}function n(e,t){var i={nominative:"січень_лютий_березень_квітень_травень_червень_липень_серпень_вересень_жовтень_листопад_грудень".split("_"),accusative:"січня_лютого_березня_квітня_травня_червня_липня_серпня_вересня_жовтня_листопада_грудня".split("_")},n=/D[oD]? *MMMM?/.test(t)?"accusative":"nominative";return i[n][e.month()]}function r(e,t){var i={nominative:"неділя_понеділок_вівторок_середа_четвер_п’ятниця_субота".split("_"),accusative:"неділю_понеділок_вівторок_середу_четвер_п’ятницю_суботу".split("_"),genitive:"неділі_понеділка_вівторка_середи_четверга_п’ятниці_суботи".split("_")},n=/(\[[ВвУу]\]) ?dddd/.test(t)?"accusative":/\[?(?:минулої|наступної)? ?\] ?dddd/.test(t)?"genitive":"nominative";return i[n][e.day()]}function a(e){return function(){return e+"о"+(11===this.hours()?"б":"")+"] LT"}}return e.lang("uk",{months:n,monthsShort:"січ_лют_бер_квіт_трав_черв_лип_серп_вер_жовт_лист_груд".split("_"),weekdays:r,weekdaysShort:"нд_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY р.",LLL:"D MMMM YYYY р., LT",LLLL:"dddd, D MMMM YYYY р., LT"},calendar:{sameDay:a("[Сьогодні "),nextDay:a("[Завтра "),lastDay:a("[Вчора "),nextWeek:a("[У] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return a("[Минулої] dddd [").call(this);case 1:case 2:case 4:return a("[Минулого] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"за %s",past:"%s тому",s:"декілька секунд",m:i,mm:i,h:"годину",hh:i,d:"день",dd:i,M:"місяць",MM:i,y:"рік",yy:i},meridiem:function(e){if(4>e)return"ночі";else if(12>e)return"ранку";else if(17>e)return"дня";else return"вечора"},ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-й";case"D":return e+"-го";default:return e}},week:{dow:1,doy:7}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/uz",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){return e.lang("uz",{months:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),monthsShort:"янв_фев_мар_апр_май_июн_июл_авг_сен_окт_ноя_дек".split("_"),weekdays:"Якшанба_Душанба_Сешанба_Чоршанба_Пайшанба_Жума_Шанба".split("_"),weekdaysShort:"Якш_Душ_Сеш_Чор_Пай_Жум_Шан".split("_"),weekdaysMin:"Як_Ду_Се_Чо_Па_Жу_Ша".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"D MMMM YYYY, dddd LT"},calendar:{sameDay:"[Бугун соат] LT [да]",nextDay:"[Эртага] LT [да]",nextWeek:"dddd [куни соат] LT [да]",lastDay:"[Кеча соат] LT [да]",lastWeek:"[Утган] dddd [куни соат] LT [да]",sameElse:"L"},relativeTime:{future:"Якин %s ичида",past:"Бир неча %s олдин",s:"фурсат",m:"бир дакика",mm:"%d дакика",h:"бир соат",hh:"%d соат",d:"бир кун",dd:"%d кун",M:"бир ой",MM:"%d ой",y:"бир йил",yy:"%d йил"},week:{dow:1,doy:7}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/vi",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){return e.lang("vi",{months:"tháng 1_tháng 2_tháng 3_tháng 4_tháng 5_tháng 6_tháng 7_tháng 8_tháng 9_tháng 10_tháng 11_tháng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),weekdays:"chủ nhật_thứ hai_thứ ba_thứ tư_thứ năm_thứ sáu_thứ bảy".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM [năm] YYYY",LLL:"D MMMM [năm] YYYY LT",LLLL:"dddd, D MMMM [năm] YYYY LT",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY LT",llll:"ddd, D MMM YYYY LT"},calendar:{sameDay:"[Hôm nay lúc] LT",nextDay:"[Ngày mai lúc] LT",nextWeek:"dddd [tuần tới lúc] LT",lastDay:"[Hôm qua lúc] LT",lastWeek:"dddd [tuần rồi lúc] LT",sameElse:"L"},relativeTime:{future:"%s tới",past:"%s trước",s:"vài giây",m:"một phút",mm:"%d phút",h:"một giờ",hh:"%d giờ",d:"một ngày",dd:"%d ngày",M:"một tháng",MM:"%d tháng",y:"một năm",yy:"%d năm"},ordinal:function(e){return e},week:{dow:1,doy:4}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/zh-cn",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){return e.lang("zh-cn",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"Ah点mm",L:"YYYY-MM-DD",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日LT",LLLL:"YYYY年MMMD日ddddLT",l:"YYYY-MM-DD",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日LT",llll:"YYYY年MMMD日ddddLT"},meridiem:function(e,t){var i=100*e+t;if(600>i)return"凌晨";else if(900>i)return"早上";else if(1130>i)return"上午";else if(1230>i)return"中午";else if(1800>i)return"下午";else return"晚上"},calendar:{sameDay:function(){return 0===this.minutes()?"[今天]Ah[点整]":"[今天]LT"},nextDay:function(){return 0===this.minutes()?"[明天]Ah[点整]":"[明天]LT"},lastDay:function(){return 0===this.minutes()?"[昨天]Ah[点整]":"[昨天]LT"},nextWeek:function(){var t,i;return t=e().startOf("week"),i=this.unix()-t.unix()>=604800?"[下]":"[本]",0===this.minutes()?i+"dddAh点整":i+"dddAh点mm"},lastWeek:function(){var t,i;return t=e().startOf("week"),i=this.unix()<t.unix()?"[上]":"[本]",0===this.minutes()?i+"dddAh点整":i+"dddAh点mm"},sameElse:"LL"},ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"周";default:return e}},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1分钟",mm:"%d分钟",h:"1小时",hh:"%d小时",d:"1天",dd:"%d天",M:"1个月",MM:"%d个月",y:"1年",yy:"%d年"},week:{dow:1,doy:4}})}),function(e){if("function"==typeof define&&define.amd)define("moment/lang/zh-tw",["moment"],e);else if("object"==typeof exports)module.exports=e(require("../moment"));else e(window.moment)}(function(e){return e.lang("zh-tw",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"Ah點mm",L:"YYYY年MMMD日",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日LT",LLLL:"YYYY年MMMD日ddddLT",l:"YYYY年MMMD日",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日LT",llll:"YYYY年MMMD日ddddLT"},meridiem:function(e,t){var i=100*e+t;if(900>i)return"早上";else if(1130>i)return"上午";else if(1230>i)return"中午";else if(1800>i)return"下午";else return"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"週";default:return e}},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",m:"一分鐘",mm:"%d分鐘",h:"一小時",hh:"%d小時",d:"一天",dd:"%d天",M:"一個月",MM:"%d個月",y:"一年",yy:"%d年"}})}),function(e){function t(e,t){for(var i in t)if(t.hasOwnProperty(i))e[i]=t[i];return e}function i(){this.raw=[],this.length=0}function n(){return"___"+Y++}function r(e,t){var i=new Function;i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}function a(e){return S[e]}function s(e){return'"'+e.replace(/\x5C/g,"\\\\").replace(/"/g,'\\"').replace(/\x0A/g,"\\n").replace(/\x09/g,"\\t").replace(/\x0D/g,"\\r")+'"'}function o(e){return e.replace(/[\^\[\]\$\(\)\{\}\?\*\.\+]/g,function(e){return"\\"+e})}function l(e){var t=arguments;return e.replace(/\{([0-9]+)\}/g,function(e,i){return t[i-0+1]})}function d(e){return e=e.replace(/^\s*\*/,""),l('gv({0},["{1}"])',s(e),e.replace(/\[['"]?([^'"]+)['"]?\]/g,function(e,t){return"."+t}).split(".").join('","'))}function u(e,t,i,n,r,a){for(var s=i.length,o=e.split(t),l=0,d=[],u=0,c=o.length;c>u;u++){var h=o[u];if(u){var f=1;for(l++;;){var p=h.indexOf(i);if(0>p){d.push(l>1&&f?t:"",h);break}if(l=n?l-1:0,d.push(l>0&&f?t:"",h.slice(0,p),l>0?i:""),h=h.slice(p+s),f=0,0===l)break}if(0===l)r(d.join("")),a(h),d=[]}else h&&a(h)}if(l>0&&d.length>0)a(t),a(d.join(""))}function c(e,t,i){var n,r=[],a=t.options,o="",l="",h="",f="";if(i)o="ts(",l=")",h=E,f=N,n=a.defaultFilter;return u(e,a.variableOpen,a.variableClose,1,function(e){if(i&&e.indexOf("|")<0&&n)e+="|"+n;var a=e.indexOf("|"),s=(a>0?e.slice(0,a):e).replace(/^\s+/,"").replace(/\s+$/,""),u=a>0?e.slice(a+1):"",p=0===s.indexOf("*"),m=[p?"":o,d(s),p?"":l];if(u){u=c(u,t);for(var g=u.split("|"),v=0,y=g.length;y>v;v++){var _=g[v];if(/^\s*([a-z0-9_-]+)(\((.*)\))?\s*$/i.test(_)){if(m.unshift('fs["'+RegExp.$1+'"]('),RegExp.$3)m.push(",",RegExp.$3);m.push(")")}}}r.push(h,m.join(""),f)},function(e){r.push(h,i?s(e):e,f)}),r.join("")}function h(e,t){this.value=e,this.engine=t}function f(e,t){this.value=e,this.engine=t,this.children=[],this.cloneProps=[]}function p(e,t){var i=e.stack,n=t?i.find(function(e){return e instanceof t}):i.bottom();if(n){for(var r;(r=i.top())!==n;){if(!r.autoClose)throw new Error(r.type+" must be closed manually: "+r.value);r.autoClose(e)}n.close(e)}return n}function m(e,t){if(!/^\s*([a-z0-9\/_-]+)\s*(\(\s*master\s*=\s*([a-z0-9\/_-]+)\s*\))?\s*/i.test(e))throw new Error("Invalid "+this.type+" syntax: "+e);this.master=RegExp.$3,this.name=RegExp.$1,f.call(this,e,t),this.blocks={}}function g(e,t){if(!/^\s*([a-z0-9\/_-]+)\s*$/i.test(e))throw new Error("Invalid "+this.type+" syntax: "+e);this.name=RegExp.$1,f.call(this,e,t),this.cloneProps=["name"]}function v(e,t){if(!/^\s*([a-z0-9\/_-]+)\s*$/i.test(e))throw new Error("Invalid "+this.type+" syntax: "+e);this.name=RegExp.$1,f.call(this,e,t),this.cloneProps=["name","state","blocks"],this.blocks={}}function y(e,t){if(!/^\s*([a-z0-9_]+)\s*=([\s\S]*)$/i.test(e))throw new Error("Invalid "+this.type+" syntax: "+e);this.name=RegExp.$1,this.expr=RegExp.$2,f.call(this,e,t),this.cloneProps=["name","expr"]}function _(e,t){if(!/^\s*([a-z0-9_-]+)\s*(\(([\s\S]*)\))?\s*$/i.test(e))throw new Error("Invalid "+this.type+" syntax: "+e);this.name=RegExp.$1,this.args=RegExp.$3,f.call(this,e,t),this.cloneProps=["name","args"]}function x(e,t){if(!/^\s*([a-z0-9\/_-]+)\s*(\(([\s\S]*)\))?\s*$/i.test(e))throw new Error("Invalid "+this.type+" syntax: "+e);this.name=RegExp.$1,this.args=RegExp.$3,f.call(this,e,t),this.cloneProps=["name","args"]}function b(e,t){var i=new RegExp(l("^\\s*({0}[\\s\\S]+{1})\\s+as\\s+{0}([0-9a-z_]+){1}\\s*(,\\s*{0}([0-9a-z_]+){1})?\\s*$",o(t.options.variableOpen),o(t.options.variableClose)),"i");if(!i.test(e))throw new Error("Invalid "+this.type+" syntax: "+e);this.list=RegExp.$1,this.item=RegExp.$2,this.index=RegExp.$4,f.call(this,e,t),this.cloneProps=["list","item","index"]}function w(e,t){f.call(this,e,t)}function M(e,t){w.call(this,e,t)}function C(e,t){f.call(this,e,t)}function L(e,t){t.target=e;var i=t.engine,n=e.name;if(i.targets[n])switch(i.options.namingConflict){case"override":i.targets[n]=e,t.targets.push(n);case"ignore":break;default:throw new Error("Target exists: "+n)}else i.targets[n]=e,t.targets.push(n)}function T(e,t){$[e]=t,t.prototype.type=e}function k(e){this.options={commandOpen:"<!--",commandClose:"-->",commandSyntax:/^\s*(\/)?([a-z]+)\s*(?::([\s\S]*))?$/,variableOpen:"${",variableClose:"}",defaultFilter:"html"},this.config(e),this.targets={},this.filters=t({},P)}function D(e,t){function n(){var e;if(c.length>0&&(e=c.join(""))){var i=new h(e,t);if(i.beforeAdd(d),l.top().addChild(i),c=[],t.options.strip&&d.current instanceof f)i.value=e.replace(/^[\x20\t\r]*\n/,"");d.current=i}}var r,a=t.options.commandOpen,s=t.options.commandClose,o=t.options.commandSyntax,l=new i,d={engine:t,targets:[],stack:l,target:null},c=[];return u(e,a,s,0,function(e){var i=o.exec(e);if(i&&(r=$[i[2].toLowerCase()])&&"function"==typeof r){n();var l=d.current;if(t.options.strip&&l instanceof h)l.value=l.value.replace(/\r?\n[\x20\t]*$/,"\n");if(i[1])l=p(d,r);else{if(l=new r(i[3],t),"function"==typeof l.beforeOpen)l.beforeOpen(d);l.open(d)}d.current=l}else if(!/^\s*\/\//.test(e))c.push(a,e,s);r=null},function(e){c.push(e)}),n(),p(d),d.targets}i.prototype={push:function(e){this.raw[this.length++]=e},pop:function(){if(this.length>0){var e=this.raw[--this.length];return this.raw.length=this.length,e}},top:function(){return this.raw[this.length-1]},bottom:function(){return this.raw[0]},find:function(e){for(var t=this.length;t--;){var i=this.raw[t];if(e(i))return i}}};var Y=178245,S={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},P={html:function(e){return e.replace(/[&<>"']/g,a)},url:encodeURIComponent,raw:function(e){return e}},I='var r="";',E="r+=",N=";",j="return r;";if("undefined"!=typeof navigator&&/msie\s*([0-9]+)/i.test(navigator.userAgent)&&RegExp.$1-0<8)I="var r=[],ri=0;",E="r[ri++]=",j='return r.join("");';h.prototype={getRendererBody:function(){var e=this.value,t=this.engine.options;if(!e||t.strip&&/^\s*$/.test(e))return"";else return c(e,this.engine,1)},clone:function(){return this}},f.prototype={addChild:function(e){this.children.push(e)},open:function(e){var t=e.stack.top();t&&t.addChild(this),e.stack.push(this)},close:function(e){if(e.stack.top()===this)e.stack.pop()},getRendererBody:function(){for(var e=[],t=this.children,i=0;i<t.length;i++)e.push(t[i].getRendererBody());return e.join("")},clone:function(){for(var e=new this.constructor(this.value,this.engine),t=0,i=this.children.length;i>t;t++)e.addChild(this.children[t].clone());for(var t=0,i=this.cloneProps.length;i>t;t++){var n=this.cloneProps[t];e[n]=this[n]}return e}};var H='data=data||{};var v={},fs=engine.filters,hg=typeof data.get=="function",gv=function(n,ps){var p=ps[0],d=v[p];if(d==null){if(hg){return data.get(n);}d=data[p];}for(var i=1,l=ps.length;i<l;i++)if(d!=null)d = d[ps[i]];return d;},ts=function(s){if(typeof s==="string"){return s;}if(s==null){s="";}return ""+s;};';r(m,f),r(g,f),r(v,f),r(y,f),r(_,f),r(x,f),r(b,f),r(w,f),r(M,w),r(C,w);var O={READING:1,READED:2,APPLIED:3,READY:4};v.prototype.applyMaster=m.prototype.applyMaster=function(e){function t(e){var n=e.children;if(n instanceof Array)for(var r=0,a=n.length;a>r;r++){var s=n[r];if(s instanceof g&&i[s.name])s=n[r]=i[s.name];t(s)}}if(this.state>=O.APPLIED)return 1;var i=this.blocks,n=this.engine.targets[e];if(n&&n.applyMaster(n.master))return this.children=n.clone().children,t(this),this.state=O.APPLIED,1;else return void 0},m.prototype.isReady=function(){function e(n){for(var r=0,a=n.children.length;a>r;r++){var s=n.children[r];if(s instanceof v){var o=t.targets[s.name];i=i&&o&&o.isReady(t)}else if(s instanceof f)e(s)}}if(this.state>=O.READY)return 1;var t=this.engine,i=1;if(this.applyMaster(this.master))return e(this),i&&(this.state=O.READY),i;else return void 0},m.prototype.getRenderer=function(){if(this.renderer)return this.renderer;if(this.isReady()){var e=new Function("data","engine",[H,I,this.getRendererBody(),j].join("\n")),t=this.engine;return this.renderer=function(i){return e(i,t)},this.renderer}return null},m.prototype.open=function(e){p(e),f.prototype.open.call(this,e),this.state=O.READING,L(this,e)},y.prototype.open=x.prototype.open=function(e){e.stack.top().addChild(this)},g.prototype.open=function(e){f.prototype.open.call(this,e),(e.imp||e.target).blocks[this.name]=this},M.prototype.open=function(e){var t=new C;t.open(e);var i=p(e,w);i.addChild(this),e.stack.push(this)},C.prototype.open=function(e){var t=p(e,w);t.addChild(this),e.stack.push(this)},v.prototype.open=function(e){this.parent=e.stack.top(),this.target=e.target,f.prototype.open.call(this,e),this.state=O.READING,e.imp=this},x.prototype.close=y.prototype.close=function(){},v.prototype.close=function(e){f.prototype.close.call(this,e),this.state=O.READED,e.imp=null},m.prototype.close=function(e){f.prototype.close.call(this,e),this.state=this.master?O.READED:O.APPLIED,e.target=null},v.prototype.autoClose=function(e){var t=this.parent.children;t.push.apply(t,this.children),this.children.length=0;for(var i in this.blocks)this.target.blocks[i]=this.blocks[i];this.blocks={},this.close(e)},x.prototype.beforeOpen=v.prototype.beforeOpen=y.prototype.beforeOpen=b.prototype.beforeOpen=_.prototype.beforeOpen=g.prototype.beforeOpen=w.prototype.beforeOpen=h.prototype.beforeAdd=function(e){if(!e.stack.bottom()){var t=new m(n(),e.engine);t.open(e)}},v.prototype.getRendererBody=function(){return this.applyMaster(this.name),f.prototype.getRendererBody.call(this)},x.prototype.getRendererBody=function(){return l("{0}engine.render({2},{{3}}){1}",E,N,s(this.name),c(this.args,this.engine).replace(/(^|,)\s*([a-z0-9_]+)\s*=/gi,function(e,t,i){return(t||"")+s(i)+":"}))},y.prototype.getRendererBody=function(){if(this.expr)return l("v[{0}]={1};",s(this.name),c(this.expr,this.engine));else return""},w.prototype.getRendererBody=function(){return l("if({0}){{1}}",c(this.value,this.engine),f.prototype.getRendererBody.call(this))},C.prototype.getRendererBody=function(){return l("}else{{0}",f.prototype.getRendererBody.call(this))},b.prototype.getRendererBody=function(){return l('var {0}={1};if({0} instanceof Array)for (var {4}=0,{5}={0}.length;{4}<{5};{4}++){v[{2}]={4};v[{3}]={0}[{4}];{6}}else if(typeof {0}==="object")for(var {4} in {0}){v[{2}]={4};v[{3}]={0}[{4}];{6}}',n(),c(this.list,this.engine),s(this.index||n()),s(this.item),n(),n(),f.prototype.getRendererBody.call(this))},_.prototype.getRendererBody=function(){var e=this.args;return l("{2}fs[{5}]((function(){{0}{4}{1}})(){6}){3}",I,j,E,N,f.prototype.getRendererBody.call(this),s(this.name),e?","+c(e,this.engine):"")};var $={};T("target",m),T("block",g),T("import",v),T("use",x),T("var",y),T("for",b),T("if",w),T("elif",M),T("else",C),T("filter",_),k.prototype.config=function(e){t(this.options,e)},k.prototype.compile=k.prototype.parse=function(e){if(e){var t=D(e,this);if(t.length)return this.targets[t[0]].getRenderer()}return new Function('return ""')},k.prototype.getRenderer=function(e){var t=this.targets[e];if(t)return t.getRenderer();else return void 0},k.prototype.render=function(e,t){var i=this.getRenderer(e);if(i)return i(t);else return""},k.prototype.addFilter=function(e,t){if("function"==typeof t)this.filters[e]=t};var A=new k;if(A.Engine=k,"object"==typeof exports&&"object"==typeof module)exports=module.exports=A;else if("function"==typeof define&&define.amd)define("etpl/main",[],A);else e.etpl=A}(this),define("etpl",["etpl/main"],function(e){return e}),define("etpl/tpl",["require","exports","module","."],function(require,exports,module){var e=require(".");return{load:function(t,i,n){var r=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");r.open("GET",i.toUrl(t),!0),r.onreadystatechange=function(){if(4===r.readyState){if(r.status>=200&&r.status<300){var t=r.responseText,i=module.config();if(i.autoCompile||null==i.autoCompile)e.compile(t);n(t)}r.onreadystatechange=new Function,r=null}},r.send(null)}}}),define("build/ui",[],function(){});
//# sourceMappingURL=ui.sourcemap